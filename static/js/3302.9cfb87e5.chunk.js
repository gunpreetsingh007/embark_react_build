"use strict";(self.webpackChunkembark_react=self.webpackChunkembark_react||[]).push([[3302],{65238:function(e,s,t){t.d(s,{Z:function(){return a}});var n=t(55294);var r=class{constructor(e){this._initializeResponseInterceptor=()=>{this.instance.interceptors.response.use(this._handleResponse,this._handleError)},this._handleResponse=e=>e,this._handleError=async e=>{let{response:s,config:t}=e;return Promise.resolve(s)},this.instance=n.Z.create({baseURL:e}),this._initializeResponseInterceptor()}},i=t(69441);class a extends r{constructor(){super("https://embarkperfumes.com/api"),this._initializeRequestInterceptor=()=>{this.instance.interceptors.request.use(this._handleRequest)},this._handleRequest=async e=>{let s=i.Z.getState().user.currentUser.accessToken;return s&&(e.headers.Authorization=s),sessionStorage.getItem("session-id")&&(e.headers["session-id"]=sessionStorage.getItem("session-id")),e},this._initializeRequestInterceptor()}callApi(e,s){return this.instance({method:s.method,url:e,headers:null!==s&&void 0!==s&&s.header?null===s||void 0===s?void 0:s.header:{},data:null!==s&&void 0!==s&&s.body?null===s||void 0===s?void 0:s.body:void 0,onUploadProgress:null!==s&&void 0!==s&&s.onUploadProgress?null===s||void 0===s?void 0:s.onUploadProgress:void 0})}}},89404:function(e,s,t){const n=new(t(65238).Z);s.Z=e=>{if(sessionStorage.getItem("session-id")&&(s=sessionStorage.getItem("session-id"),/^[0-9a-fA-F]{8}-[0-9a-fA-F]{4}-[4][0-9a-fA-F]{3}-[89ABab][0-9a-fA-F]{3}-[0-9a-fA-F]{12}$/.test(s)))n.callApi("/session/trackUserEvent",{method:"POST",body:{event:e}});else{sessionStorage.removeItem("session-id");const s=function(e){const s=new URLSearchParams(window.location.search),t={};for(const[n,r]of s)n.includes(e)&&(t[n]=r);return t}("utm");let t={method:"POST",body:{additionalDetails:s,event:e}};n.callApi("/session/createNewSession",t).then((e=>{sessionStorage.setItem("session-id",e.data.data)}))}var s}},67604:function(e,s,t){var n=t(21830),r=t.n(n),i=t(58086),a=t.n(i),o=t(80184);const l=a()(r());s.Z=async(e,s,t)=>l.fire({title:(0,o.jsx)("strong",{children:e}),html:(0,o.jsx)("p",{children:s}),icon:t})},75766:function(e,s,t){t.r(s),t.d(s,{default:function(){return u}});var n=t(57689);var r=t(72791),i=t(65238),a=t(94514),o=t(67604),l=t(89404),c=t(80184);const d=new i.Z;var u=()=>{const e=(0,n.s0)(),[s,t]=(0,r.useState)(!1),[i,u]=(0,r.useState)({email:!1,message:""}),[m,h]=(0,r.useState)({email:""});return(0,r.useEffect)((()=>{(0,l.Z)("Forget Password")}),[]),(0,c.jsxs)(c.Fragment,{children:[s?(0,c.jsx)(a.Z,{}):null,(0,c.jsx)("div",{className:"forgetPassword-wrapper bg-dark d-flex align-item-center justify-content-center w-100",children:(0,c.jsxs)("div",{className:"forgetPassword",children:[(0,c.jsx)("h2",{className:"mb-3",children:"Forget Password"}),(0,c.jsxs)("form",{children:[(0,c.jsxs)("div",{className:"form-group mb-2",children:[(0,c.jsx)("label",{htmlFor:"email",className:"form-label",children:"Registered Email Address"}),(0,c.jsx)("input",{id:"email",className:"form-control ".concat(i.email&&"errorInputField"),required:!0,onChange:e=>{return s=e.target.value,t="email",h({...m,[t]:s}),void(!0===i.email&&u({...i,[t]:!1}));var s,t}}),i.email&&(0,c.jsx)("div",{className:"error",children:i.message?"Please enter a valid email":"Please enter your email"})]}),(0,c.jsxs)("div",{className:"button-container",children:[(0,c.jsx)("button",{className:"btn btn-dark",onClick:()=>{e("/sign-in")},children:"BACK"}),(0,c.jsx)("button",{className:"btn btn-dark",onClick:async e=>{e.preventDefault();const s=(e=>{const{email:s}=e;var t={email:!1,message:""};return s||(t.email=!0),s&&!/\S+@\S+\.\S+/.test(s)&&(t.email=!0,t.message="invalid email"),t})(m);if(u(s),s.email)return;const n={method:"POST",body:m};t(!0);200==(await d.callApi("auth/forgetPassword",n)).status?(t(!1),(0,o.Z)("Email Send","Password reset email has been send to your registered email id","success")):(t(!1),(0,o.Z)("Error","Something went wrong while trying to send email to your registered id","error"))},children:"SUBMIT"})]})]})]})})]})}},87462:function(e,s,t){function n(){return n=Object.assign?Object.assign.bind():function(e){for(var s=1;s<arguments.length;s++){var t=arguments[s];for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])}return e},n.apply(this,arguments)}t.d(s,{Z:function(){return n}})},63366:function(e,s,t){function n(e,s){if(null==e)return{};var t,n,r={},i=Object.keys(e);for(n=0;n<i.length;n++)t=i[n],s.indexOf(t)>=0||(r[t]=e[t]);return r}t.d(s,{Z:function(){return n}})}}]);
//# sourceMappingURL=3302.9cfb87e5.chunk.js.map