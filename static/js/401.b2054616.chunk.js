"use strict";(self.webpackChunkembark_react=self.webpackChunkembark_react||[]).push([[401],{65238:function(e,i,s){s.d(i,{Z:function(){return n}});var a=s(55294);var l=class{constructor(e){this._initializeResponseInterceptor=()=>{this.instance.interceptors.response.use(this._handleResponse,this._handleError)},this._handleResponse=e=>e,this._handleError=async e=>{let{response:i,config:s}=e;return Promise.resolve(i)},this.instance=a.Z.create({baseURL:e}),this._initializeResponseInterceptor()}},t=s(69441);class n extends l{constructor(){super("https://embarkperfumes.com/api"),this._initializeRequestInterceptor=()=>{this.instance.interceptors.request.use(this._handleRequest)},this._handleRequest=async e=>{let i=t.Z.getState().user.currentUser.accessToken;return i&&(e.headers.Authorization=i),sessionStorage.getItem("session-id")&&(e.headers["session-id"]=sessionStorage.getItem("session-id")),e},this._initializeRequestInterceptor()}callApi(e,i){return this.instance({method:i.method,url:e,headers:null!==i&&void 0!==i&&i.header?null===i||void 0===i?void 0:i.header:{},data:null!==i&&void 0!==i&&i.body?null===i||void 0===i?void 0:i.body:void 0,onUploadProgress:null!==i&&void 0!==i&&i.onUploadProgress?null===i||void 0===i?void 0:i.onUploadProgress:void 0})}}},14902:function(e,i,s){s.d(i,{Z:function(){return n}});var a=s(72791),l=s(43249),t=(s(39122),s(31896),s(41980),s(80184));var n=e=>{const{convertedHierarchy:i,handleChangeHierarchy:s}=e,[n,d]=(0,a.useState)([]),[o,c]=(0,a.useState)(null),r=(0,a.useRef)(null),[u,v]=(0,a.useState)(null);return(0,a.useEffect)((()=>{d(i)}),[i]),(0,t.jsx)("div",{className:"card flex justify-content-center border-0",ref:r,children:(0,t.jsx)(l.m,{value:n,options:n,selectionMode:"checkbox",selectionKeys:o,appendTo:r.current,onSelectionChange:e=>{const i=[],a=e.value;Object.keys(a).forEach((e=>{a[e].checked&&i.push(e)})),s(i),c(e.value)},className:"w-full md:w-30rem"})})}},33419:function(e,i,s){s.d(i,{Z:function(){return t}});s(72791);var a=s(14902),l=s(80184);var t=e=>{let{fragrances:i,type:s,convertedHierarchy:t,handleOnApplyFilter:n,handleChangeHierarchy:d,handleFragranceChange:o,handlePriceChange:c,handleGenderChange:r,handleQuantityChange:u,handleButtonActive:v,buttonActive:h,priceRange:m,volumeRange:p,name:x}=e;const b=e=>{v(e)};return(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)("div",{className:"filterSortBar d-block d-lg-none w-100",children:(0,l.jsxs)("div",{className:"row",children:[(0,l.jsx)("div",{className:"col-6",children:(0,l.jsxs)("div",{className:"btn btn-dark w-100 mainBtn","data-bs-toggle":"offcanvas","data-bs-target":"#offcanvasBottom","aria-controls":"offcanvasBottom",children:[(0,l.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",fill:"none",id:"up-down-arrow",className:"me-1",children:(0,l.jsx)("path",{fill:"#fff",d:"M7.175 4.386a.997.997 0 0 1 .552-.35c.178-.048.367-.048.544 0a.997.997 0 0 1 .555.35L11.7 7.145c.399.381.399 1 0 1.382l-.032.03a1.05 1.05 0 0 1-1.442 0L9.042 7.422V15c0 .552-.446 1-.997 1h-.09a.999.999 0 0 1-.997-1V7.42L5.773 8.558a1.05 1.05 0 0 1-1.442 0l-.032-.031a.949.949 0 0 1 0-1.382l2.876-2.758zm9.65 15.228a.997.997 0 0 1-.552.35 1.067 1.067 0 0 1-.544 0 .996.996 0 0 1-.555-.35L12.3 16.855a.949.949 0 0 1 0-1.382l.032-.03a1.05 1.05 0 0 1 1.442 0l1.185 1.135V9c0-.552.446-1 .997-1h.09c.55 0 .997.448.997 1v7.58l1.185-1.137a1.05 1.05 0 0 1 1.442 0l.032.031c.398.382.398 1 0 1.382l-2.876 2.758z"})}),"SORT"]})}),(0,l.jsx)("div",{className:"col-6",children:(0,l.jsxs)("div",{className:"btn btn-dark w-100 mainBtn","data-bs-toggle":"offcanvas","data-bs-target":"#offcanvasFilter","aria-controls":"offcanvasFilter",children:[(0,l.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",fill:"currentColor",className:"bi bi-funnel-fill me-1",viewBox:"0 0 16 16",children:(0,l.jsx)("path",{d:"M1.5 1.5A.5.5 0 0 1 2 1h12a.5.5 0 0 1 .5.5v2a.5.5 0 0 1-.128.334L10 8.692V13.5a.5.5 0 0 1-.342.474l-3 1A.5.5 0 0 1 6 14.5V8.692L1.628 3.834A.5.5 0 0 1 1.5 3.5v-2z"})}),"FILTER"]})})]})}),(0,l.jsxs)("div",{className:"offcanvas offcanvas-bottom sortOffCanvas",tabIndex:"-1",id:"offcanvasBottom","aria-labelledby":"offcanvasBottomLabel",children:[(0,l.jsxs)("div",{className:"offcanvas-header",children:[(0,l.jsx)("h5",{className:"offcanvas-title",id:"offcanvasBottomLabel",children:"Sort By"}),(0,l.jsx)("button",{type:"button",className:"btn-close","data-bs-dismiss":"offcanvas","aria-label":"Close"})]}),(0,l.jsx)("div",{className:"offcanvas-body small",children:(0,l.jsxs)("div",{className:"d-flex flex-column",children:[(0,l.jsx)("div",{className:"".concat(0===h?"active":""," card py-3 mb-2 text-center fw-bold"),onClick:()=>b(0),children:"Relevance"}),(0,l.jsx)("div",{className:"".concat(1===h?"active":""," card py-3 mb-2 text-center fw-bold"),onClick:()=>b(1),children:"Price - Low to High"}),(0,l.jsx)("div",{className:"".concat(2===h?"active":""," card py-3 mb-2 text-center fw-bold"),onClick:()=>b(2),children:"Price - High to Low"})]})})]}),(0,l.jsxs)("div",{className:"offcanvas offcanvas-bottom sortOffCanvas",tabIndex:"-1",id:"offcanvasFilter","aria-labelledby":"offcanvasFilterLabel",children:[(0,l.jsxs)("div",{className:"offcanvas-header",children:[(0,l.jsx)("h5",{className:"offcanvas-title",id:"offcanvasFilterLabel",children:"Filters"}),(0,l.jsx)("button",{type:"button",className:"btn-close","data-bs-dismiss":"offcanvas","aria-label":"Close"})]}),(0,l.jsx)("div",{className:"offcanvas-body small",children:(0,l.jsx)("div",{className:"container-fluid p-0 mb-3",style:{minHeight:"auto"},children:(0,l.jsxs)("div",{className:"row",children:[(0,l.jsx)("div",{className:"col-4 py-2 rounded-2",style:{background:"#e0e0e0"},children:(0,l.jsxs)("div",{className:"nav flex-column nav-pills me-3",id:"v-pills-tab",role:"tablist","aria-orientation":"vertical",children:["hierarchy"==s&&t.length?(0,l.jsx)("button",{className:"nav-link active",id:"v-pills-home-tab","data-bs-toggle":"pill","data-bs-target":"#v-pills-home",type:"button",role:"tab","aria-controls":"v-pills-home","aria-selected":"true",children:"Categories"}):"","gender"!=s?(0,l.jsx)("button",{className:"nav-link",id:"v-pills-gender-tab","data-bs-toggle":"pill","data-bs-target":"#v-pills-gender",type:"button",role:"tab","aria-controls":"v-pills-gender","aria-selected":"false",children:"Gender"}):"",(0,l.jsx)("button",{className:"nav-link",id:"v-pills-profile-tab","data-bs-toggle":"pill","data-bs-target":"#v-pills-profile",type:"button",role:"tab","aria-controls":"v-pills-profile","aria-selected":"false",children:"Volume"}),(0,l.jsx)("button",{className:"nav-link",id:"v-pills-disabled-tab","data-bs-toggle":"pill","data-bs-target":"#v-pills-disabled",type:"button",role:"tab","aria-controls":"v-pills-disabled","aria-selected":"false",children:"Price"}),i.length?(0,l.jsx)("button",{className:"nav-link",id:"v-pills-messages-tab","data-bs-toggle":"pill","data-bs-target":"#v-pills-messages",type:"button",role:"tab","aria-controls":"v-pills-messages","aria-selected":"false",children:"Fragrance Family"}):""]})}),(0,l.jsx)("div",{className:"col-8",children:(0,l.jsxs)("div",{className:"tab-content",id:"v-pills-tabContent",children:["hierarchy"==s&&t.length?(0,l.jsx)("div",{className:"tab-pane fade show active",id:"v-pills-home",role:"tabpanel","aria-labelledby":"v-pills-home-tab",tabIndex:"0",children:(0,l.jsx)(a.Z,{convertedHierarchy:t,handleChangeHierarchy:d})}):"",(0,l.jsx)("div",{className:"tab-pane fade",id:"v-pills-profile",role:"tabpanel","aria-labelledby":"v-pills-profile-tab",tabIndex:"0",children:p.map(((e,i)=>(0,l.jsxs)("div",{className:"form-check",children:[(0,l.jsx)("input",{className:"form-check-input",type:"checkbox",value:"",id:"quantity".concat(i+1),onChange:i=>u(e,i.target.checked)}),(0,l.jsxs)("label",{className:"form-check-label",for:"quantity".concat(i+1),children:[e,"ml"]})]})))}),"gender"!=s?(0,l.jsxs)("div",{className:"tab-pane fade",id:"v-pills-gender",role:"tabpanel","aria-labelledby":"v-pills-gender-tab",tabIndex:"0",children:[(0,l.jsxs)("div",{className:"form-check",children:[(0,l.jsx)("input",{className:"form-check-input",type:"checkbox",value:"",id:"gender1",onChange:e=>r("Men",e.target.checked)}),(0,l.jsx)("label",{className:"form-check-label",for:"gender1",children:"Men"})]}),(0,l.jsxs)("div",{className:"form-check",children:[(0,l.jsx)("input",{className:"form-check-input",type:"checkbox",value:"",id:"gender2",onChange:e=>r("Women",e.target.checked)}),(0,l.jsx)("label",{className:"form-check-label",for:"gender2",children:"Women"})]}),(0,l.jsxs)("div",{className:"form-check",children:[(0,l.jsx)("input",{className:"form-check-input",type:"checkbox",value:"",id:"gender3",onChange:e=>r("Unisex",e.target.checked)}),(0,l.jsx)("label",{className:"form-check-label",for:"gender3",children:"Unisex"})]})]}):"",(0,l.jsx)("div",{className:"tab-pane fade",id:"v-pills-disabled",role:"tabpanel","aria-labelledby":"v-pills-disabled-tab",tabIndex:"0",children:m.map(((e,i)=>e.length>1?(0,l.jsxs)("div",{className:"form-check",children:[(0,l.jsx)("input",{className:"form-check-input",type:"checkbox",value:"",id:"price".concat(i+1),onChange:i=>c(e,i.target.checked)}),(0,l.jsxs)("label",{className:"form-check-label",for:"price".concat(i+1),children:["\u20b9",e[0]," - \u20b9 ",9999==e[1]?"above":e[1]]})]}):(0,l.jsxs)("div",{className:"form-check",children:[(0,l.jsx)("input",{className:"form-check-input",type:"checkbox",value:"",id:"price".concat(i+1),onChange:i=>c(e,i.target.checked)}),(0,l.jsxs)("label",{className:"form-check-label",for:"price".concat(i+1),children:["\u20b9",e[0]]})]})))}),i.length?(0,l.jsx)("div",{className:"tab-pane fade",id:"v-pills-messages",role:"tabpanel","aria-labelledby":"v-pills-messages-tab",tabIndex:"0",children:i.map(((e,i)=>(0,l.jsxs)("div",{className:"form-check",children:[(0,l.jsx)("input",{className:"form-check-input",type:"checkbox",id:"fragrance".concat(i),onChange:s=>o(e.value,s.target.checked,i)}),(0,l.jsx)("label",{className:"form-check-label",for:"fragrance".concat(i),children:e.label})]})))}):"",(0,l.jsx)("div",{className:"tab-pane fade",id:"v-pills-settings",role:"tabpanel","aria-labelledby":"v-pills-settings-tab",tabIndex:"0",children:"..."})]})}),(0,l.jsx)("button",{className:"btn btn-dark w-75 mx-auto mt-3","data-bs-toggle":"offcanvas","data-bs-target":"#offcanvasFilter",onClick:n,children:"Apply Filters"})]})})})]})]})}},14962:function(e,i,s){s.d(i,{Z:function(){return o}});var a=s(72791),l=s(57689),t=s(11087),n=s(33419),d=s(80184);var o=()=>{const e=(0,l.TH)(),[i,s]=(0,a.useState)(!1);return(0,a.useEffect)((()=>{var i,a;"products"==(null===(i=e.pathname)||void 0===i||null===(a=i.split("/"))||void 0===a?void 0:a.filter((e=>""!=e)))[0]?s(!0):s(!1)}),[e]),(0,d.jsx)(d.Fragment,{children:(0,d.jsx)("div",{className:"mobileNav",children:i?(0,d.jsx)(d.Fragment,{children:(0,d.jsx)(n.Z,{})}):(0,d.jsx)(d.Fragment,{children:(0,d.jsxs)("div",{className:"d-flex justify-content-between align-items-center",children:[(0,d.jsx)("div",{className:"home",children:(0,d.jsxs)(t.rU,{to:"/",className:"mobileNavLink",children:[(0,d.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",fill:"currentColor",className:"bi bi-house-fill",viewBox:"0 0 16 16",children:[(0,d.jsx)("path",{d:"M8.707 1.5a1 1 0 0 0-1.414 0L.646 8.146a.5.5 0 0 0 .708.708L8 2.207l6.646 6.647a.5.5 0 0 0 .708-.708L13 5.793V2.5a.5.5 0 0 0-.5-.5h-1a.5.5 0 0 0-.5.5v1.293L8.707 1.5Z"}),(0,d.jsx)("path",{d:"m8 3.293 6 6V13.5a1.5 1.5 0 0 1-1.5 1.5h-9A1.5 1.5 0 0 1 2 13.5V9.293l6-6Z"})]}),(0,d.jsx)("div",{children:"Home"})]})}),(0,d.jsx)("div",{className:"categories",children:(0,d.jsxs)(t.rU,{to:"/products/perfume",className:"mobileNavLink",children:[(0,d.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",fill:"currentColor",className:"bi bi-microsoft",viewBox:"0 0 16 16",children:(0,d.jsx)("path",{d:"M7.462 0H0v7.19h7.462V0zM16 0H8.538v7.19H16V0zM7.462 8.211H0V16h7.462V8.211zm8.538 0H8.538V16H16V8.211z"})}),(0,d.jsx)("div",{children:"Perfumes"})]})}),(0,d.jsx)("div",{className:"account",children:(0,d.jsxs)(t.rU,{to:"/my-account",className:"mobileNavLink",children:[(0,d.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",fill:"currentColor",className:"bi bi-person-fill",viewBox:"0 0 16 16",children:(0,d.jsx)("path",{d:"M3 14s-1 0-1-1 1-4 6-4 6 3 6 4-1 1-1 1H3Zm5-6a3 3 0 1 0 0-6 3 3 0 0 0 0 6Z"})}),(0,d.jsx)("div",{children:"Account"})]})})]})})})})}},89404:function(e,i,s){const a=new(s(65238).Z);i.Z=e=>{if(sessionStorage.getItem("session-id")&&(i=sessionStorage.getItem("session-id"),/^[0-9a-fA-F]{8}-[0-9a-fA-F]{4}-[4][0-9a-fA-F]{3}-[89ABab][0-9a-fA-F]{3}-[0-9a-fA-F]{12}$/.test(i)))a.callApi("/session/trackUserEvent",{method:"POST",body:{event:e}});else{sessionStorage.removeItem("session-id");const i=function(e){const i=new URLSearchParams(window.location.search),s={};for(const[a,l]of i)a.includes(e)&&(s[a]=l);return s}("utm");let s={method:"POST",body:{additionalDetails:i,event:e}};a.callApi("/session/createNewSession",s).then((e=>{sessionStorage.setItem("session-id",e.data.data)}))}var i}},67604:function(e,i,s){var a=s(21830),l=s.n(a),t=s(58086),n=s.n(t),d=s(80184);const o=n()(l());i.Z=async(e,i,s)=>o.fire({title:(0,d.jsx)("strong",{children:e}),html:(0,d.jsx)("p",{children:i}),icon:s})},80252:function(e,i,s){s.r(i),s.d(i,{default:function(){return y}});var a=s(72791),l=s(65238),t=s(59434),n=s(72881),d=s(1455),o=s(763),c=s(14962),r=s(57689),u=s(21830),v=s.n(u),h=s(58086),m=s.n(h),p=s.p+"static/media/emptyCart.4d817f8109f28ec24c7c.png",x=s(9038),b=(s(4676),s(67604)),f=s(89404);var j=s.p+"static/media/check-mark.2bd4b157705414d92f16f57d23c9b8ad.svg",g=s(80184);const N=e=>{let{couponTitle:i,setCouponInput:s,couponDescription:a,couponCode:l,handleApplyCoupon:t,currentAppliedCoupon:n}=e;return(0,g.jsxs)("div",{className:"mt-2 available-coupons-wrapper",children:[(0,g.jsx)("div",{className:"coupon-name",children:i}),(0,g.jsxs)("div",{className:"coupon-details",children:[(0,g.jsxs)("div",{className:"coupon-code",children:[(0,g.jsx)("div",{className:"coupon-code-text",children:(0,g.jsx)("span",{children:l})}),(0,g.jsx)("div",{className:"".concat(n===l?"disable":"apply"),onClick:()=>{n!==l&&(e=>{s(e),t(e)})(l)},children:n===l?(0,g.jsxs)("span",{className:"applied",children:["APPLIED ",(0,g.jsx)("img",{src:j})]}):(0,g.jsx)("span",{children:"APPLY"})})]}),(0,g.jsx)("div",{className:"coupon-description",children:(0,g.jsx)("span",{children:a})})]})]})},w=m()(v()),C=new l.Z;var y=()=>{const e=(0,t.I0)(),[i,s]=(0,a.useState)(!1),[l,u]=(0,a.useState)([]),[v,h]=(0,a.useState)([]),[m,j]=(0,a.useState)([]),y=(0,t.v9)((e=>e.cart.itemsList)),[k,S]=(0,a.useState)(0),[P,A]=(0,a.useState)(0),[O,I]=(0,a.useState)(0),[E,D]=(0,a.useState)(0),[T,L]=(0,a.useState)(""),[V,U]=(0,a.useState)(null),[M,H]=(0,a.useState)(0),[z,F]=(0,a.useState)(!1),[R,J]=(0,a.useState)([]),[Z,B]=(0,a.useState)(""),[q,_]=(0,a.useState)(!0);let[Y,K]=(0,a.useState)([]);const G=(0,t.v9)((e=>!!e.user.currentUser.userId)),W=(0,r.s0)();function Q(e){return e.productId==this.productId&&(0,o.isEqual)(e.attributeCombination,this.attributeCombination)}function $(e){return e.productId==this.productId&&e.productVariantId==this.productVariantId}const X=(i,s)=>{let a={productId:i,attributeCombination:s},t=JSON.parse(JSON.stringify(l)),n=JSON.parse(JSON.stringify(y)),o=t.findIndex(Q,a);t[o].count+=1,n[o].count+=1,u(t),se(t,m),e(d.U.addToCart(n))},ee=(i,s)=>{var a;let t=JSON.parse(JSON.stringify(l)),n=JSON.parse(JSON.stringify(y)),c=JSON.parse(i.target.value),r=t[s],v=null===r||void 0===r||null===(a=r.productDetails)||void 0===a?void 0:a.find((e=>(0,o.isEqual)(e.attributeCombination,c)));t[s].attributeCombination=c,m[s]=v,n[s].attributeCombination=c,n[s].productVariantId=v.id,u(t),j([...m]),se(t,m),e(d.U.addToCart(n))},ie=(i,s)=>{let a={productId:i,attributeCombination:s},t=JSON.parse(JSON.stringify(l)),n=JSON.parse(JSON.stringify(y)),o=t.findIndex(Q,a);t[o].count-1==0?(t.splice(o,1),n.splice(o,1)):(t[o].count-=1,n[o].count-=1),u(t),se(t,m),e(d.U.addToCart(n))},se=function(e,i){let s=arguments.length>2&&void 0!==arguments[2]&&arguments[2],a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null,l=0,t=0,n=0,d=0;if(e.forEach(((e,s)=>{let a=i[s];l+=a.productPrice*e.count,t+=a.productDiscountPrice*e.count;let d=a.productPrice*e.count-a.productDiscountPrice*e.count;n+=d})),s){let e=Math.round(t*a/100);H(e),t-=e}t<500&&(d=50),t+=d,te(t),A(t),S(l),I(n),D(d)},ae=(0,a.useCallback)((async()=>{try{s(!0);const l={method:"POST",body:y},t=await C.callApi("/product/getProductsInCart",l);if(200==(null===t||void 0===t?void 0:t.status)){var e,i,a;s(!1);let l=null===t||void 0===t||null===(e=t.data)||void 0===e?void 0:e.data,n=null===t||void 0===t||null===(i=t.data)||void 0===i||null===(a=i.data)||void 0===a?void 0:a.map((e=>{var i;return null===e||void 0===e||null===(i=e.productDetails)||void 0===i?void 0:i.find((i=>(0,o.isEqual)(i.attributeCombination,e.attributeCombination)))}));u(l),j(n),se(l,n)}else s(!1)}catch(l){s(!1)}}),[y]),le=(0,a.useCallback)((async()=>{s(!0);let e=await C.callApi("/popup/getAllPopups",{method:"GET"});var i,a;200==(null===e||void 0===e?void 0:e.status)?(s(!1),Y=null===e||void 0===e||null===(i=e.data)||void 0===i?void 0:i.data,K(null===e||void 0===e||null===(a=e.data)||void 0===a?void 0:a.data)):s(!1)}),[]),te=(0,a.useCallback)((async e=>{let i;if(0!=e&&Y.length){let s=[...Y];s.reverse(),s.every((s=>!(e>=s.minimumAmount)||(i=s,!1)))}h(i?i.products:[])}),[Y]);(0,a.useEffect)((()=>{le().then((()=>{ae()}))}),[]),(0,a.useEffect)((()=>{(0,f.Z)("Cart")}),[]);const ne=()=>{G?W(V?"/checkout?couponCode=".concat(V):"/checkout"):w.fire({text:"You need to Login first to proceed",buttons:{login:{text:"Login",value:"login"}}}).then((e=>{null!==e&&void 0!==e&&e.isConfirmed&&W("/sign-in?target=checkout")}))},de=async()=>{if(z)return(0,b.Z)("Error","Coupon is already Applied","error");if(G){s(!0);let g={method:"POST",body:{selectedList:y,couponCode:T}},N=await C.callApi("/coupon/validateAndApplyCoupon",g);if(200==(null===N||void 0===N?void 0:N.status)){var e,i,a,t,n,d,o,c,r,u;s(!1),B(T);let f=JSON.parse(JSON.stringify(l)),g=JSON.parse(JSON.stringify(m));if(null!==N&&void 0!==N&&null!==(e=N.data)&&void 0!==e&&null!==(i=e.data)&&void 0!==i&&i.products&&null!==N&&void 0!==N&&null!==(a=N.data)&&void 0!==a&&null!==(t=a.data)&&void 0!==t&&t.products.length){for(let e=0;e<(null===N||void 0===N||null===(v=N.data)||void 0===v||null===(h=v.data)||void 0===h?void 0:h.products.length);e++){var v,h,p,x;let i=null===N||void 0===N||null===(p=N.data)||void 0===p||null===(x=p.data)||void 0===x?void 0:x.products[e],s=f.findIndex($,i);-1!=s&&(g[s].productDiscountPrice=Math.round(g[s].productDiscountPrice-g[s].productDiscountPrice*N.data.data.couponValue/100))}j([...g])}se(f,g,null==(null===N||void 0===N||null===(n=N.data)||void 0===n||null===(d=n.data)||void 0===d?void 0:d.products),null===N||void 0===N||null===(o=N.data)||void 0===o||null===(c=o.data)||void 0===c?void 0:c.couponValue),F(!0),U(null===N||void 0===N||null===(r=N.data)||void 0===r||null===(u=r.data)||void 0===u?void 0:u.couponName),(0,b.Z)("Success","The coupon is applied successfully","success")}else{var f;s(!1),(0,b.Z)("Error",(null===N||void 0===N||null===(f=N.data)||void 0===f?void 0:f.errorMessage)||"Something went wrong","error")}}else w.fire({text:"You need to Login first to proceed",buttons:{login:{text:"Login",value:"login"}}}).then((e=>{null!==e&&void 0!==e&&e.isConfirmed&&W("/sign-in?target=cart")}))},oe=async e=>{s(!0);let i={method:"POST",body:{selectedList:y,couponCode:e}},a=await C.callApi("/coupon/validateAndApplyCoupon",i);if(200==(null===a||void 0===a?void 0:a.status)){var t,n,d,o,c,r,u,v,h,p;s(!1),B(e);let i=JSON.parse(JSON.stringify(l)),w=JSON.parse(JSON.stringify(m));if(null!==a&&void 0!==a&&null!==(t=a.data)&&void 0!==t&&null!==(n=t.data)&&void 0!==n&&n.products&&null!==a&&void 0!==a&&null!==(d=a.data)&&void 0!==d&&null!==(o=d.data)&&void 0!==o&&o.products.length){for(let e=0;e<(null===a||void 0===a||null===(x=a.data)||void 0===x||null===(f=x.data)||void 0===f?void 0:f.products.length);e++){var x,f,g,N;let s=null===a||void 0===a||null===(g=a.data)||void 0===g||null===(N=g.data)||void 0===N?void 0:N.products[e],l=i.findIndex($,s);-1!=l&&(w[l].productDiscountPrice=Math.round(w[l].productDiscountPrice-w[l].productDiscountPrice*a.data.data.couponValue/100))}j([...w])}se(i,w,null==(null===a||void 0===a||null===(c=a.data)||void 0===c||null===(r=c.data)||void 0===r?void 0:r.products),null===a||void 0===a||null===(u=a.data)||void 0===u||null===(v=u.data)||void 0===v?void 0:v.couponValue),F(!0),U(null===a||void 0===a||null===(h=a.data)||void 0===h||null===(p=h.data)||void 0===p?void 0:p.couponName),(0,b.Z)("Success","The coupon is applied successfully","success")}else{var w;s(!1),(0,b.Z)("Error",(null===a||void 0===a||null===(w=a.data)||void 0===w?void 0:w.errorMessage)||"Something went wrong","error")}};(0,a.useEffect)((()=>{0!=P&&Y.length&&P<Y[Y.length-1].minimumAmount&&q&&w.fire({title:(0,g.jsx)("strong",{children:"Available offer"}),html:(0,g.jsxs)(x.tq,{style:{fontSize:"2.5rem",cursor:"default"},slidesPerView:1,children:[Y.map((e=>{var i;return P<(null===e||void 0===e?void 0:e.minimumAmount)&&(0,g.jsxs)(x.o5,{children:[(0,g.jsx)("img",{src:"https://embarkperfumes.com/api/"+(null===e||void 0===e||null===(i=e.image)||void 0===i?void 0:i.url),alt:"productimg",style:{width:"17rem",height:"12rem"}})," ",(0,g.jsx)("br",{})]})})),_(!1)]})})}),[Y,P]);return(0,a.useEffect)((()=>{G&&(async()=>{let e=await C.callApi("/coupon/getUserCoupons",{method:"GET"});200==e.status&&J(e.data.data)})()}),[]),(0,g.jsxs)(g.Fragment,{children:[i?(0,g.jsx)(n.Z,{}):null,0==l.length?(0,g.jsx)(g.Fragment,{children:(0,g.jsx)("div",{className:"container emptyContainer py-5 text-center",children:(0,g.jsx)("img",{src:p,alt:"Empty Cart",height:"100%",width:"100%"})})}):(0,g.jsx)(g.Fragment,{children:(0,g.jsxs)("div",{className:"container-fluid container-lg cartContainer",children:[(0,g.jsxs)("div",{className:"row d-none d-md-flex pt-4",children:[(0,g.jsxs)("div",{className:"col-lg-6",children:[(0,g.jsx)("div",{className:"cartSummary mt-4 mb-2 fs-3",children:"CHECKOUT SUMMARY"}),(0,g.jsxs)("div",{className:"card p-3 summaryCard",children:[l.map(((e,i)=>{var s,a,l,t,n,d;return(0,g.jsxs)("div",{className:"d-flex mb-3",children:[(0,g.jsx)("img",{src:"https://embarkperfumes.com/api/"+(null===(s=m[i])||void 0===s?void 0:s.pictureUrl),alt:"product2",height:"70px",width:"80px"}),(0,g.jsxs)("div",{className:"w-100",children:[(0,g.jsxs)("div",{className:"d-flex align-items-start justify-content-between w-100",children:[(0,g.jsxs)("div",{children:[(0,g.jsx)("div",{className:"productTitle mb-2",children:(null===e||void 0===e?void 0:e.productDetails.length)>1?null===e||void 0===e?void 0:e.productName:(null===e||void 0===e?void 0:e.productName)+" "+Object.values(e.attributeCombination)}),(null===e||void 0===e?void 0:e.productDetails.length)>1?(0,g.jsx)("select",{className:"form-select form-select-sm productsDropdown w-75","aria-label":".form-select-sm example",onChange:e=>ee(e,i),children:null===e||void 0===e||null===(a=e.productDetails)||void 0===a?void 0:a.map((i=>(0,o.isEqual)(i.attributeCombination,e.attributeCombination)?(0,g.jsx)("option",{value:JSON.stringify(i.attributeCombination),selected:!0,children:Object.values(i.attributeCombination)}):(0,g.jsx)("option",{value:JSON.stringify(i.attributeCombination),children:Object.values(i.attributeCombination)})))}):""]}),(0,g.jsxs)("div",{className:"d-flex flex-column align-items-end",children:[(0,g.jsxs)("div",{children:[(0,g.jsxs)("div",{className:"offerPrice d-inline me-2",children:["\u20b9",(null===(l=m[i])||void 0===l?void 0:l.productDiscountPrice)*(null===e||void 0===e?void 0:e.count)]}),(null===(t=m[i])||void 0===t?void 0:t.productDiscountPrice)!=(null===(n=m[i])||void 0===n?void 0:n.productPrice)&&(0,g.jsxs)("div",{className:"originalPrice d-inline me-2",children:["\u20b9",(null===(d=m[i])||void 0===d?void 0:d.productPrice)*(null===e||void 0===e?void 0:e.count)]})]}),(0,g.jsxs)("div",{className:"d-flex editItems mt-2",children:[(0,g.jsx)("div",{className:"button",name:"firstProduct",onClick:()=>ie(null===e||void 0===e?void 0:e.productId,null===e||void 0===e?void 0:e.attributeCombination),children:(0,g.jsx)("button",{id:"minus-btn",className:"check",children:1==(null===e||void 0===e?void 0:e.count)?(0,g.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",fill:"currentColor",className:"bi bi-trash",viewBox:"0 0 16 16",children:[(0,g.jsx)("path",{d:"M5.5 5.5A.5.5 0 0 1 6 6v6a.5.5 0 0 1-1 0V6a.5.5 0 0 1 .5-.5zm2.5 0a.5.5 0 0 1 .5.5v6a.5.5 0 0 1-1 0V6a.5.5 0 0 1 .5-.5zm3 .5a.5.5 0 0 0-1 0v6a.5.5 0 0 0 1 0V6z"}),(0,g.jsx)("path",{"fill-rule":"evenodd",d:"M14.5 3a1 1 0 0 1-1 1H13v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V4h-.5a1 1 0 0 1-1-1V2a1 1 0 0 1 1-1H6a1 1 0 0 1 1-1h2a1 1 0 0 1 1 1h3.5a1 1 0 0 1 1 1v1zM4.118 4 4 4.059V13a1 1 0 0 0 1 1h6a1 1 0 0 0 1-1V4.059L11.882 4H4.118zM2.5 3V2h11v1h-11z"})]}):(0,g.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",fill:"currentColor",className:"bi bi-dash",viewBox:"0 0 16 16",children:(0,g.jsx)("path",{d:"M4 8a.5.5 0 0 1 .5-.5h7a.5.5 0 0 1 0 1h-7A.5.5 0 0 1 4 8z"})})})}),(0,g.jsx)("div",{className:"number",children:(0,g.jsx)("div",{id:"count",children:null===e||void 0===e?void 0:e.count})}),(0,g.jsx)("div",{className:"button",name:"firstProduct",onClick:()=>X(null===e||void 0===e?void 0:e.productId,null===e||void 0===e?void 0:e.attributeCombination),children:(0,g.jsx)("button",{id:"plus-btn",className:"check",children:(0,g.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",fill:"currentColor",className:"bi bi-plus",viewBox:"0 0 16 16",children:(0,g.jsx)("path",{d:"M8 4a.5.5 0 0 1 .5.5v3h3a.5.5 0 0 1 0 1h-3v3a.5.5 0 0 1-1 0v-3h-3a.5.5 0 0 1 0-1h3v-3A.5.5 0 0 1 8 4z"})})})})]})]})]}),(0,g.jsx)("div",{className:"d-flex justify-content-start align-items-center"})]})]})})),v.map((e=>(0,g.jsxs)("div",{className:"d-flex mb-3",children:[(0,g.jsx)("img",{src:"https://embarkperfumes.com/api/"+(null===e||void 0===e?void 0:e.pictureUrl),alt:"product2",height:"70px",width:"80px"}),(0,g.jsxs)("div",{className:"w-100",children:[(0,g.jsxs)("div",{className:"d-flex align-items-start justify-content-between w-100",children:[(0,g.jsx)("div",{children:(0,g.jsx)("div",{className:"productTitle mb-2",children:(null===e||void 0===e?void 0:e.productName)+" "+Object.values(null===e||void 0===e?void 0:e.attributeCombination)})}),(0,g.jsx)("div",{className:"d-flex flex-column align-items-end",children:(0,g.jsx)("div",{children:(0,g.jsx)("div",{className:"offerPrice d-inline me-2",style:{color:"red"},children:"FREE"})})})]}),(0,g.jsx)("div",{className:"d-flex justify-content-start align-items-center"})]})]})))]})]}),(0,g.jsxs)("div",{className:"col-lg-6",children:[(0,g.jsx)("div",{className:"applyCouponTitle mt-4",children:" APPLY COUPON"}),(0,g.jsxs)("div",{className:"mt-2 d-flex justify-content-start align-items-center",children:[(0,g.jsx)("input",{value:T,onChange:e=>L(e.target.value),type:"text",placeholder:"ENTER CODE"}),(0,g.jsx)("button",{onClick:de,className:"btn applyBtn ms-3",children:"APPLY"})]}),(0,g.jsx)("div",{className:"mt-2",children:null===R||void 0===R?void 0:R.map(((e,i)=>(0,g.jsx)(N,{couponTitle:null===e||void 0===e?void 0:e.couponTitle,couponDescription:null===e||void 0===e?void 0:e.couponDescription,couponCode:null===e||void 0===e?void 0:e.couponName,setCouponInput:L,handleApplyCoupon:oe,currentAppliedCoupon:Z},i)))}),(0,g.jsxs)("div",{className:"mt-5",children:[(0,g.jsx)("div",{className:"priceDetailsTitle",children:"PRICE DETAILS"}),(0,g.jsxs)("div",{className:"card w-50 p-3 priceDetails mt-3",children:[(0,g.jsxs)("div",{className:"d-flex justify-content-between mt-1",children:[(0,g.jsx)("div",{children:"Subtotal (Inclusive of taxes)"}),(0,g.jsxs)("div",{children:["\u20b9",k]})]}),(0,g.jsxs)("div",{className:"d-flex justify-content-between mt-1",children:[(0,g.jsx)("div",{children:"Discount"}),(0,g.jsxs)("div",{children:["\u20b9",O]})]}),0!=M?(0,g.jsxs)("div",{className:"d-flex justify-content-between mt-1",children:[(0,g.jsx)("div",{children:"Coupon Applied"}),(0,g.jsxs)("div",{children:["\u20b9",M]})]}):null,(0,g.jsxs)("div",{className:"d-flex justify-content-between mt-1",children:[(0,g.jsx)("div",{children:"Shipping"}),(0,g.jsxs)("div",{children:["\u20b9",E]})]}),(0,g.jsx)("hr",{}),(0,g.jsxs)("div",{className:"d-flex justify-content-between mt-1",children:[(0,g.jsx)("div",{children:"Total"}),(0,g.jsxs)("div",{children:["\u20b9",P]})]})]})]}),(0,g.jsx)("button",{className:"btn btn-dark ms-5 mt-3",onClick:ne,children:"PROCEED TO CHECKOUT"})]})]}),(0,g.jsxs)("div",{className:"row d-block d-md-none",children:[(0,g.jsxs)("div",{className:"col-lg-6",children:[(0,g.jsx)("div",{className:"cartSummary mt-4 mb-2 text-start fs-4 fw-bold",children:"CHECKOUT SUMMARY"}),(0,g.jsxs)("div",{className:"card p-3 summaryCard mb-2",children:[null===l||void 0===l?void 0:l.map(((e,i)=>{var s,a,l,t,n,d;return(0,g.jsxs)("div",{className:"d-flex mb-3",children:[(0,g.jsx)("img",{src:"https://embarkperfumes.com/api/"+(null===(s=m[i])||void 0===s?void 0:s.pictureUrl),alt:"product2",height:"50px",width:"50px"}),(0,g.jsxs)("div",{className:"w-100",children:[(0,g.jsxs)("div",{className:"d-flex align-items-start justify-content-between w-100",children:[(0,g.jsxs)("div",{children:[(0,g.jsx)("div",{className:"productTitle mb-2",children:(null===e||void 0===e?void 0:e.productDetails.length)>1?null===e||void 0===e?void 0:e.productName:(null===e||void 0===e?void 0:e.productName)+" "+Object.values(e.attributeCombination)}),(null===e||void 0===e?void 0:e.productDetails.length)>1?(0,g.jsx)("select",{className:"form-select form-select-sm productsDropdown w-75","aria-label":".form-select-sm example",onChange:e=>ee(e,i),children:null===e||void 0===e||null===(a=e.productDetails)||void 0===a?void 0:a.map((i=>(0,o.isEqual)(i.attributeCombination,e.attributeCombination)?(0,g.jsx)("option",{value:JSON.stringify(i.attributeCombination),selected:!0,children:Object.values(i.attributeCombination)}):(0,g.jsx)("option",{value:JSON.stringify(i.attributeCombination),children:Object.values(i.attributeCombination)})))}):""]}),(0,g.jsxs)("div",{className:"d-flex flex-column align-items-end",children:[(0,g.jsxs)("div",{children:[(0,g.jsxs)("div",{className:"offerPrice d-inline me-2",children:["\u20b9",(null===(l=m[i])||void 0===l?void 0:l.productDiscountPrice)*(null===e||void 0===e?void 0:e.count)]}),(null===(t=m[i])||void 0===t?void 0:t.productDiscountPrice)!=(null===(n=m[i])||void 0===n?void 0:n.productPrice)&&(0,g.jsxs)("div",{className:"originalPrice d-inline me-2",children:["\u20b9",(null===(d=m[i])||void 0===d?void 0:d.productPrice)*(null===e||void 0===e?void 0:e.count)]})]}),(0,g.jsxs)("div",{className:"d-flex editItems mt-2 me-2",children:[(0,g.jsx)("div",{className:"button",name:"firstProduct",onClick:()=>ie(null===e||void 0===e?void 0:e.productId,null===e||void 0===e?void 0:e.attributeCombination),children:(0,g.jsx)("button",{id:"minus-btn",className:"check",children:1==(null===e||void 0===e?void 0:e.count)?(0,g.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",fill:"currentColor",className:"bi bi-trash",viewBox:"0 0 16 16",children:[(0,g.jsx)("path",{d:"M5.5 5.5A.5.5 0 0 1 6 6v6a.5.5 0 0 1-1 0V6a.5.5 0 0 1 .5-.5zm2.5 0a.5.5 0 0 1 .5.5v6a.5.5 0 0 1-1 0V6a.5.5 0 0 1 .5-.5zm3 .5a.5.5 0 0 0-1 0v6a.5.5 0 0 0 1 0V6z"}),(0,g.jsx)("path",{"fill-rule":"evenodd",d:"M14.5 3a1 1 0 0 1-1 1H13v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V4h-.5a1 1 0 0 1-1-1V2a1 1 0 0 1 1-1H6a1 1 0 0 1 1-1h2a1 1 0 0 1 1 1h3.5a1 1 0 0 1 1 1v1zM4.118 4 4 4.059V13a1 1 0 0 0 1 1h6a1 1 0 0 0 1-1V4.059L11.882 4H4.118zM2.5 3V2h11v1h-11z"})]}):(0,g.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",fill:"currentColor",className:"bi bi-dash",viewBox:"0 0 16 16",children:(0,g.jsx)("path",{d:"M4 8a.5.5 0 0 1 .5-.5h7a.5.5 0 0 1 0 1h-7A.5.5 0 0 1 4 8z"})})})}),(0,g.jsx)("div",{className:"number",children:(0,g.jsx)("div",{id:"count",children:null===e||void 0===e?void 0:e.count})}),(0,g.jsx)("div",{className:"button",name:"firstProduct",onClick:()=>X(null===e||void 0===e?void 0:e.productId,null===e||void 0===e?void 0:e.attributeCombination),children:(0,g.jsx)("button",{id:"plus-btn",className:"check",children:(0,g.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",fill:"currentColor",className:"bi bi-plus",viewBox:"0 0 16 16",children:(0,g.jsx)("path",{d:"M8 4a.5.5 0 0 1 .5.5v3h3a.5.5 0 0 1 0 1h-3v3a.5.5 0 0 1-1 0v-3h-3a.5.5 0 0 1 0-1h3v-3A.5.5 0 0 1 8 4z"})})})})]})]})]}),(0,g.jsx)("div",{className:"d-flex justify-content-start align-items-center"})]})]})})),null===v||void 0===v?void 0:v.map((e=>(0,g.jsxs)("div",{className:"d-flex mb-3",children:[(0,g.jsx)("img",{src:"https://embarkperfumes.com/api/"+(null===e||void 0===e?void 0:e.pictureUrl),alt:"product2",height:"50px",width:"50px"}),(0,g.jsxs)("div",{className:"w-100",children:[(0,g.jsxs)("div",{className:"d-flex align-items-start justify-content-between w-100",children:[(0,g.jsx)("div",{children:(0,g.jsx)("div",{className:"productTitle mb-2",children:(null===e||void 0===e?void 0:e.productName)+" "+Object.values(null===e||void 0===e?void 0:e.attributeCombination)})}),(0,g.jsx)("div",{className:"d-flex flex-column align-items-end",children:(0,g.jsx)("div",{children:(0,g.jsx)("div",{className:"offerPrice d-inline me-2",style:{color:"red"},children:"FREE"})})})]}),(0,g.jsx)("div",{className:"d-flex justify-content-start align-items-center"})]})]})))]})]}),(0,g.jsxs)("div",{className:"col-lg-6 mt-4",children:[(0,g.jsx)("div",{className:"applyCouponTitle",children:" APPLY COUPON"}),(0,g.jsxs)("div",{className:"mt-2 d-flex justify-content-start align-items-center",children:[(0,g.jsx)("input",{value:T,onChange:e=>L(e.target.value),className:"w-75",type:"text",placeholder:"ENTER CODE"}),(0,g.jsx)("button",{onClick:de,className:"btn applyBtn ms-3",children:"APPLY"})]}),(0,g.jsx)("div",{className:"mt-2",children:null===R||void 0===R?void 0:R.map(((e,i)=>(0,g.jsx)(N,{couponTitle:null===e||void 0===e?void 0:e.couponTitle,couponDescription:null===e||void 0===e?void 0:e.couponDescription,couponCode:null===e||void 0===e?void 0:e.couponName,setCouponInput:L,handleApplyCoupon:oe,currentAppliedCoupon:Z},i)))}),(0,g.jsxs)("div",{className:"mt-5",children:[(0,g.jsx)("div",{className:"priceDetailsTitle",children:"PRICE DETAILS"}),(0,g.jsxs)("div",{className:"card w-50 p-3 priceDetails mt-3",children:[(0,g.jsxs)("div",{className:"d-flex justify-content-between mt-1",children:[(0,g.jsx)("div",{children:"Subtotal (Inclusive of taxes)"}),(0,g.jsxs)("div",{children:["\u20b9",k]})]}),(0,g.jsxs)("div",{className:"d-flex justify-content-between mt-1",children:[(0,g.jsx)("div",{children:"Discount"}),(0,g.jsxs)("div",{children:["\u20b9",O]})]}),0!=M?(0,g.jsxs)("div",{className:"d-flex justify-content-between mt-1",children:[(0,g.jsx)("div",{children:"Coupon Applied"}),(0,g.jsxs)("div",{children:["\u20b9",M]})]}):null,(0,g.jsxs)("div",{className:"d-flex justify-content-between mt-1",children:[(0,g.jsx)("div",{children:"Shipping"}),(0,g.jsxs)("div",{children:["\u20b9",E]})]}),(0,g.jsx)("hr",{}),(0,g.jsxs)("div",{className:"d-flex justify-content-between mt-1",children:[(0,g.jsx)("div",{children:"Total"}),(0,g.jsxs)("div",{children:["\u20b9",P]})]})]})]}),(0,g.jsx)("button",{className:"btn btn-dark float-end mt-3",onClick:ne,children:"PROCEED TO CHECKOUT"}),(0,g.jsx)("div",{className:"clearfix"})]})]}),(0,g.jsxs)("div",{className:"d-flex flex-column justify-content-center align-items-center my-5 gap-2",children:[(0,g.jsx)("div",{className:"letsChat",children:"Contact Us"}),(0,g.jsx)("div",{className:" mt-1 contactDetails",children:"Write to Us - info@embarkperfumes.com"}),(0,g.jsx)("div",{className:"contactDetails",children:"Call Us - +91-22-24922280"})]})]})}),(0,g.jsx)(c.Z,{})]})}},4676:function(){}}]);
//# sourceMappingURL=401.b2054616.chunk.js.map