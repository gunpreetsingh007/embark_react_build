"use strict";(self.webpackChunkembark_react=self.webpackChunkembark_react||[]).push([[3494],{24560:function(e,s,t){t(72791);s.Z=t.p+"static/media/edit.b977cfe4d50ff49b1acfb80a9021edfc.svg"},65238:function(e,s,t){t.d(s,{Z:function(){return a}});var i=t(55294);var n=class{constructor(e){this._initializeResponseInterceptor=()=>{this.instance.interceptors.response.use(this._handleResponse,this._handleError)},this._handleResponse=e=>e,this._handleError=async e=>{let{response:s,config:t}=e;return Promise.resolve(s)},this.instance=i.Z.create({baseURL:e}),this._initializeResponseInterceptor()}},r=t(69441);class a extends n{constructor(){super("https://embarkperfumes.com/api"),this._initializeRequestInterceptor=()=>{this.instance.interceptors.request.use(this._handleRequest)},this._handleRequest=async e=>{let s=r.Z.getState().user.currentUser.accessToken;return s&&(e.headers.Authorization=s),sessionStorage.getItem("session-id")&&(e.headers["session-id"]=sessionStorage.getItem("session-id")),e},this._initializeRequestInterceptor()}callApi(e,s){return this.instance({method:s.method,url:e,headers:null!==s&&void 0!==s&&s.header?null===s||void 0===s?void 0:s.header:{},data:null!==s&&void 0!==s&&s.body?null===s||void 0===s?void 0:s.body:void 0,onUploadProgress:null!==s&&void 0!==s&&s.onUploadProgress?null===s||void 0===s?void 0:s.onUploadProgress:void 0})}}},63494:function(e,s,t){t.r(s),t.d(s,{default:function(){return u}});var i=t(65238),n=t(72791),r=t(72881),a=t(56960),o=t(57689),d=t(24560),l=(t(763),t(80184));const c=new i.Z;var u=()=>{const[e,s]=(0,n.useState)([]),[t,i]=(0,n.useState)(!1),u=(0,o.s0)(),h=(0,n.useCallback)((async()=>{i(!0);let e=await c.callApi("/popup/getAllPopups",{method:"GET"});var t;200==(null===e||void 0===e?void 0:e.status)?(i(!1),s(null===e||void 0===e||null===(t=e.data)||void 0===t?void 0:t.data)):(i(!1),a.Am.error("Something went wrong while fetching products"))}),[]);return(0,n.useEffect)((()=>{h()}),[]),(0,l.jsxs)(l.Fragment,{children:[t?(0,l.jsx)(r.Z,{}):null,(0,l.jsxs)("div",{className:"ManagePopupsMainClass mt-4",children:[(0,l.jsx)("div",{className:"ManagePopupsHeader",children:(0,l.jsx)("button",{onClick:()=>u("/add-popup"),style:{float:"left"},children:"+ Add Popup"})}),(0,l.jsxs)("table",{className:"table borderd",children:[(0,l.jsx)("thead",{children:(0,l.jsxs)("tr",{children:[(0,l.jsx)("th",{children:"Sr. No."}),(0,l.jsx)("th",{children:"Minimum Amount"}),(0,l.jsx)("th",{children:"Products"}),(0,l.jsx)("th",{children:"Image"}),(0,l.jsx)("th",{children:"Edit"})]})}),(0,l.jsx)("tbody",{className:"text-capitalize",children:null===e||void 0===e?void 0:e.map(((e,s)=>(0,l.jsxs)("tr",{children:[(0,l.jsx)("td",{children:s+1}),(0,l.jsx)("td",{children:(0,l.jsx)("span",{style:{cursor:"pointer"},children:e.minimumAmount})}),(0,l.jsx)("td",{children:e.products.map((e=>e.productName+" "+Object.values(e.attributeCombination)[0])).join(",")}),(0,l.jsx)("td",{children:(0,l.jsx)("img",{style:{width:"100px",height:"100px"},src:"https://embarkperfumes.com/api/"+e.image.url,alt:""})}),(0,l.jsx)("td",{children:(0,l.jsx)("div",{onClick:()=>u("/edit-popup/".concat(e.id)),children:(0,l.jsx)("img",{src:d.Z,alt:""})})})]})))})]})]})]})}}}]);
//# sourceMappingURL=3494.b7ee841d.chunk.js.map