"use strict";(self.webpackChunkembark_react=self.webpackChunkembark_react||[]).push([[7190],{65238:function(e,r,a){a.d(r,{Z:function(){return p}});var s=a(74165),t=a(15861),n=a(15671),o=a(43144),i=a(60136),l=a(27277),c=a(74569),m=a.n(c),u=(0,o.Z)((function e(r){var a=this;(0,n.Z)(this,e),this._initializeResponseInterceptor=function(){a.instance.interceptors.response.use(a._handleResponse,a._handleError)},this._handleResponse=function(e){return e},this._handleError=function(){var e=(0,t.Z)((0,s.Z)().mark((function e(r){var a,t;return(0,s.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=r.response,t=r.config,t,e.abrupt("return",Promise.resolve(a));case 3:case"end":return e.stop()}}),e)})));return function(r){return e.apply(this,arguments)}}(),this.instance=m().create({baseURL:r}),this._initializeResponseInterceptor()})),d=u,f=a(69441),p=function(e){(0,i.Z)(a,e);var r=(0,l.Z)(a);function a(){var e;return(0,n.Z)(this,a),(e=r.call(this,"https://embarkperfumes.com/api"))._initializeRequestInterceptor=function(){e.instance.interceptors.request.use(e._handleRequest)},e._handleRequest=function(){var e=(0,t.Z)((0,s.Z)().mark((function e(r){var a;return(0,s.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(a=f.Z.getState().user.currentUser.accessToken)&&(r.headers.Authorization=a),e.abrupt("return",r);case 3:case"end":return e.stop()}}),e)})));return function(r){return e.apply(this,arguments)}}(),e._initializeRequestInterceptor(),e}return(0,o.Z)(a,[{key:"callApi",value:function(e,r){return this.instance({method:r.method,url:e,headers:null!==r&&void 0!==r&&r.header?null===r||void 0===r?void 0:r.header:{},data:null!==r&&void 0!==r&&r.body?null===r||void 0===r?void 0:r.body:void 0,onUploadProgress:null!==r&&void 0!==r&&r.onUploadProgress?null===r||void 0===r?void 0:r.onUploadProgress:void 0})}}]),a}(d)},17190:function(e,r,a){a.r(r);var s=a(74165),t=a(15861),n=a(4942),o=a(1413),i=a(29439),l=a(72791),c=a(26022),m=a(65238),u=a(57689),d=a(80184),f=new m.Z;r.default=function(){var e=(0,u.s0)(),r=(0,u.bx)(),a=(0,l.useState)({firstName:!1,lastName:!1,email:!1,confirmPassword:!1,message:""}),m=(0,i.Z)(a,2),p=m[0],h=m[1],N=(0,l.useState)({firstName:"",lastName:"",email:"",currentPassword:"",newPassword:"",confirmPassword:""}),v=(0,i.Z)(N,2),w=v[0],b=v[1],x=function(e,r){b((0,o.Z)((0,o.Z)({},w),{},(0,n.Z)({},r,e))),!0!==p.email&&!0!==p.confirmPassword&&!0!==p.firstName&&!0!==p.lastName||h((0,o.Z)((0,o.Z)({},p),{},(0,n.Z)({},r,!1)))},g=function(){var r=(0,t.Z)((0,s.Z)().mark((function r(a){var t,n;return(0,s.Z)().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(r.prev=0,a.preventDefault(),t=(0,c.H)(w),w.newPassword!==w.confirmPassword&&(t.confirmPassword=!0),h(t),!(t.firstName||t.lastName||t.email||t.confirmPassword)){r.next=7;break}return r.abrupt("return");case 7:return n={method:"POST",body:w},r.next=10,f.callApi("user/updateUser",n);case 10:200==r.sent.status&&e("/"),r.next=17;break;case 14:r.prev=14,r.t0=r.catch(0),console.error("Something went wrong");case 17:case"end":return r.stop()}}),r,null,[[0,14]])})));return function(e){return r.apply(this,arguments)}}();return(0,l.useEffect)((function(){b((0,o.Z)((0,o.Z)({},w),r))}),[r]),(0,d.jsx)("div",{className:"edit-account-container container-fluid",style:{backgroundColor:"white"},children:(0,d.jsxs)("form",{children:[(0,d.jsxs)("div",{className:"row",style:{marginTop:"25px"},children:[(0,d.jsxs)("div",{className:"col-lg-6 col-sm-12 form-group mb-2",children:[(0,d.jsx)("label",{htmlFor:"firstName",className:"form-label",children:"First Name"}),(0,d.jsx)("input",{type:"text",id:"firstName",className:"form-control ".concat(p.firstName?"errorInputField":""),required:!0,onChange:function(e){return x(e.target.value,"firstName")},value:w.firstName}),p.firstName&&(0,d.jsx)("div",{className:"error",children:"Please enter your first name"})]}),(0,d.jsxs)("div",{className:"col-lg-6 col-sm-12 form-group mb-2",children:[(0,d.jsx)("label",{htmlFor:"lastName",className:"form-label",children:"Last Name"}),(0,d.jsx)("input",{type:"text",id:"lastName",className:"form-control ".concat(p.lastName?"errorInputField":""),required:!0,onChange:function(e){return x(e.target.value,"lastName")},value:w.lastName}),p.lastName&&(0,d.jsx)("div",{className:"error",children:"Please enter your last name"})]})]}),(0,d.jsxs)("div",{className:"form-group mb-2",children:[(0,d.jsx)("label",{htmlFor:"email",className:"form-label",children:"Email Address"}),(0,d.jsx)("input",{type:"email",id:"email",className:"form-control ".concat(p.email?"errorInputField":""),required:!0,onChange:function(e){return x(e.target.value,"email")},value:w.email}),p.email&&(0,d.jsx)("div",{className:"error",children:p.message?"Please enter a valid email":"Please enter your email"})]}),(0,d.jsx)("span",{className:"text-style",style:{margin:"15px 0px",display:"inline-block"},children:"PASSWORD CHANGE"}),(0,d.jsxs)("div",{className:"form-group mb-2",children:[(0,d.jsx)("label",{htmlFor:"current password",className:"form-label",children:"Current password (leave blank to leave unchanged)"}),(0,d.jsx)("input",{type:"password",id:"current password",className:"form-control",required:!0,onChange:function(e){return x(e.target.value,"currentPassword")}})]}),(0,d.jsxs)("div",{className:"form-group mb-2",children:[(0,d.jsx)("label",{htmlFor:"new password",className:"form-label",children:"New password (leave blank to leave unchanged) "}),(0,d.jsx)("input",{type:"password",id:"new password",className:"form-control",required:!0,onChange:function(e){return x(e.target.value,"newPassword")}})]}),(0,d.jsxs)("div",{className:"form-group mb-2",children:[(0,d.jsx)("label",{htmlFor:"confirm password",className:"form-label",children:"Confirm new password"}),(0,d.jsx)("input",{type:"password",id:"confirm password",className:"form-control ".concat(p.confirmPassword?"errorInputField":""),required:!0,onChange:function(e){return x(e.target.value,"confirmPassword")}}),p.confirmPassword&&(0,d.jsx)("div",{className:"error",children:"Passwords do not match"})]}),(0,d.jsx)("button",{className:"btn btn-dark mt-5 mb-2",onClick:function(e){return g(e)},children:"SAVE CHANGES"})]})})}},26022:function(e,r,a){a.d(r,{C:function(){return t},H:function(){return s}});var s=function(e){var r=e.firstName,a=e.lastName,s=e.email,t={firstName:!1,lastName:!1,email:!1,message:""};return r||(t.firstName=!0),a||(t.lastName=!0),s||(t.email=!0),s&&!/\S+@\S+\.\S+/.test(s)&&(t.email=!0,t.message="invalid email"),t},t=function(e){var r=e.firstName,a=e.lastName,s=e.email,t=e.state,n=e.streetAddress,o=e.city,i=e.postcode,l=e.phone,c={firstName:!1,lastName:!1,email:!1,state:!1,streetAddress:!1,city:!1,postcode:!1,phone:!1,message:""};return r||(c.firstName=!0),a||(c.lastName=!0),s||(c.email=!0),s&&!/\S+@\S+\.\S+/.test(s)&&(c.email=!0,c.message="invalid email"),t||(c.state=!0),n||(c.streetAddress=!0),o||(c.city=!0),i||(c.postcode=!0),l||(c.phone=!0),l&&10!=l.length&&(c.phone=!0),c}}}]);
//# sourceMappingURL=7190.27505e6e.chunk.js.map