"use strict";(self.webpackChunkembark_react=self.webpackChunkembark_react||[]).push([[8769],{65238:function(e,n,s){s.d(n,{Z:function(){return f}});var t=s(74165),i=s(15861),r=s(15671),a=s(43144),o=s(60136),d=s(27277),l=s(74569),c=s.n(l),u=(0,a.Z)((function e(n){var s=this;(0,r.Z)(this,e),this._initializeResponseInterceptor=function(){s.instance.interceptors.response.use(s._handleResponse,s._handleError)},this._handleResponse=function(e){return e},this._handleError=function(){var e=(0,i.Z)((0,t.Z)().mark((function e(n){var s,i;return(0,t.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return s=n.response,i=n.config,i,e.abrupt("return",Promise.resolve(s));case 3:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}(),this.instance=c().create({baseURL:n}),this._initializeResponseInterceptor()})),v=u,h=s(69441),f=function(e){(0,o.Z)(s,e);var n=(0,d.Z)(s);function s(){var e;return(0,r.Z)(this,s),(e=n.call(this,"http://localhost:8085/api"))._initializeRequestInterceptor=function(){e.instance.interceptors.request.use(e._handleRequest)},e._handleRequest=function(){var e=(0,i.Z)((0,t.Z)().mark((function e(n){var s;return(0,t.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(s=h.Z.getState().user.currentUser.accessToken)&&(n.headers.Authorization=s),sessionStorage.getItem("session-id")&&(n.headers["session-id"]=sessionStorage.getItem("session-id")),e.abrupt("return",n);case 4:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}(),e._initializeRequestInterceptor(),e}return(0,a.Z)(s,[{key:"callApi",value:function(e,n){return this.instance({method:n.method,url:e,headers:null!==n&&void 0!==n&&n.header?null===n||void 0===n?void 0:n.header:{},data:null!==n&&void 0!==n&&n.body?null===n||void 0===n?void 0:n.body:void 0,onUploadProgress:null!==n&&void 0!==n&&n.onUploadProgress?null===n||void 0===n?void 0:n.onUploadProgress:void 0})}}]),s}(v)},89404:function(e,n,s){var t=s(29439),i=s(37762),r=new(s(65238).Z);n.Z=function(e){if(sessionStorage.getItem("session-id")&&(a=sessionStorage.getItem("session-id"),/^[0-9a-fA-F]{8}-[0-9a-fA-F]{4}-[4][0-9a-fA-F]{3}-[89ABab][0-9a-fA-F]{3}-[0-9a-fA-F]{12}$/.test(a)))r.callApi("/session/trackUserEvent",{method:"POST",body:{event:e}});else{sessionStorage.removeItem("session-id");var n=function(e){var n,s=new URLSearchParams(window.location.search),r={},a=(0,i.Z)(s);try{for(a.s();!(n=a.n()).done;){var o=(0,t.Z)(n.value,2),d=o[0],l=o[1];d.includes(e)&&(r[d]=l)}}catch(c){a.e(c)}finally{a.f()}return r}("utm"),s={method:"POST",body:{additionalDetails:n,event:e}};r.callApi("/session/createNewSession",s).then((function(e){sessionStorage.setItem("session-id",e.data.data)}))}var a}},58769:function(e,n,s){s.r(n);var t=s(74165),i=s(15861),r=s(29439),a=(s(46944),s(57689)),o=s(11087),d=s(72791),l=s(65238),c=s(89404),u=s(80184),v=new l.Z;n.default=function(){var e=(0,d.useState)([]),n=(0,r.Z)(e,2),s=n[0],l=n[1],h=(0,d.useState)([]),f=(0,r.Z)(h,2),p=f[0],m=f[1],x=(0,d.useState)(!1),b=(0,r.Z)(x,2),j=b[0],g=b[1],y=(0,a.s0)(),Z=function(){var e=(0,i.Z)((0,t.Z)().mark((function e(){var n,s,i,r,a,o,d;return(0,t.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n={method:"GET"},e.next=3,v.callApi("user/getAddresses",n);case 3:200==(s=e.sent).status&&(l(null===s||void 0===s||null===(i=s.data)||void 0===i||null===(r=i.data)||void 0===r?void 0:r.filter((function(e){return"billing"==e.addressType}))),m(null===s||void 0===s||null===(a=s.data)||void 0===a||null===(o=a.data)||void 0===o?void 0:o.filter((function(e){return"shipping"==e.addressType}))),0==(null===s||void 0===s||null===(d=s.data)||void 0===d?void 0:d.data.length)&&g(!0));case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),k=function(e){y("/my-account/addresses/".concat(e,"-address").concat(j?"?firstAddress=true":""))};return(0,d.useEffect)((function(){Z()}),[]),(0,d.useEffect)((function(){(0,c.Z)("View Addresses")}),[]),(0,u.jsxs)("div",{style:{backgroundColor:"white"},children:[(0,u.jsx)("span",{className:"text-style",children:"The following addresses will be used on the checkout page by default."}),(0,u.jsx)("div",{className:"container-fluid",style:{backgroundColor:"white"},children:(0,u.jsxs)("div",{className:"row",style:{marginTop:"25px"},children:[(0,u.jsxs)("div",{className:"col-sm-12 col-lg-6 text-style",children:[(0,u.jsx)("span",{style:{fontSize:"30px"},children:"Billing address"}),(0,u.jsx)("br",{}),s.map((function(e){return(0,u.jsxs)("div",{className:"card p-2 mt-2",children:[(0,u.jsxs)("div",{className:"text-bold-md",children:[(0,u.jsx)("i",{className:"fw-bold",children:"".concat(null===e||void 0===e?void 0:e.firstName," ").concat(null===e||void 0===e?void 0:e.lastName)}),(0,u.jsx)("br",{}),(0,u.jsx)("i",{children:"".concat(null===e||void 0===e?void 0:e.streetAddress)}),(0,u.jsx)("br",{}),(null===e||void 0===e?void 0:e.landmark)&&(0,u.jsxs)(u.Fragment,{children:[(0,u.jsx)("i",{children:"".concat(null===e||void 0===e?void 0:e.landmark)}),(0,u.jsx)("br",{})]}),(0,u.jsx)("i",{children:"".concat(null===e||void 0===e?void 0:e.city," ").concat(null===e||void 0===e?void 0:e.pincode)}),(0,u.jsx)("br",{}),(0,u.jsx)("i",{children:"".concat(null===e||void 0===e?void 0:e.state)})]}),(0,u.jsx)("br",{}),(0,u.jsx)(o.rU,{className:"inline-block",to:"/my-account/addresses/billing-address?id=".concat(e.id),style:{textDecoration:"none",color:"#777777"},children:"Edit"})]})})),(0,u.jsx)("button",{className:"btn btn-dark mt-2","data-bs-toggle":"modal","data-bs-target":"#addAddress",onClick:function(){return k("billing")},children:"Add New Address"})]}),(0,u.jsxs)("div",{className:"col text-style",children:[(0,u.jsx)("span",{style:{fontSize:"30px"},children:"Shipping address"}),(0,u.jsx)("br",{}),p.map((function(e){return(0,u.jsxs)("div",{className:"card p-2 mt-2",children:[(0,u.jsxs)("div",{className:"text-bold-md",children:[(0,u.jsx)("i",{className:"fw-bold",children:"".concat(null===e||void 0===e?void 0:e.firstName," ").concat(null===e||void 0===e?void 0:e.lastName)}),(0,u.jsx)("br",{}),(0,u.jsx)("i",{children:"".concat(null===e||void 0===e?void 0:e.streetAddress)}),(0,u.jsx)("br",{}),(null===e||void 0===e?void 0:e.landmark)&&(0,u.jsxs)(u.Fragment,{children:[(0,u.jsx)("i",{children:"".concat(null===e||void 0===e?void 0:e.landmark)}),(0,u.jsx)("br",{})]}),(0,u.jsx)("i",{children:"".concat(null===e||void 0===e?void 0:e.city," ").concat(null===e||void 0===e?void 0:e.pincode)}),(0,u.jsx)("br",{}),(0,u.jsx)("i",{children:"".concat(null===e||void 0===e?void 0:e.state)})]}),(0,u.jsx)("br",{}),(0,u.jsx)(o.rU,{className:"d-inline",to:"/my-account/addresses/shipping-address?id=".concat(e.id),style:{textDecoration:"none",color:"#777777"},children:"Edit"})]})})),(0,u.jsx)("button",{className:"btn btn-dark mt-2","data-bs-toggle":"modal","data-bs-target":"#addAddress",onClick:function(){return k("shipping")},children:"Add New Address"})]})]})})]})}},46944:function(){}}]);
//# sourceMappingURL=8769.bb3cc2bc.chunk.js.map