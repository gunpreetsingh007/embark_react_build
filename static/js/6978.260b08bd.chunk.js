"use strict";(self.webpackChunkembark_react=self.webpackChunkembark_react||[]).push([[6978],{24560:function(e,t,n){n(72791);t.Z=n.p+"static/media/edit.b977cfe4d50ff49b1acfb80a9021edfc.svg"},65238:function(e,t,n){n.d(t,{Z:function(){return i}});var r=n(55294);var s=class{constructor(e){this._initializeResponseInterceptor=()=>{this.instance.interceptors.response.use(this._handleResponse,this._handleError)},this._handleResponse=e=>e,this._handleError=async e=>{let{response:t,config:n}=e;return Promise.resolve(t)},this.instance=r.Z.create({baseURL:e}),this._initializeResponseInterceptor()}},a=n(69441);class i extends s{constructor(){super("https://embarkperfumes.com/api"),this._initializeRequestInterceptor=()=>{this.instance.interceptors.request.use(this._handleRequest)},this._handleRequest=async e=>{let t=a.Z.getState().user.currentUser.accessToken;return t&&(e.headers.Authorization=t),sessionStorage.getItem("session-id")&&(e.headers["session-id"]=sessionStorage.getItem("session-id")),e},this._initializeRequestInterceptor()}callApi(e,t){return this.instance({method:t.method,url:e,headers:null!==t&&void 0!==t&&t.header?null===t||void 0===t?void 0:t.header:{},data:null!==t&&void 0!==t&&t.body?null===t||void 0===t?void 0:t.body:void 0,onUploadProgress:null!==t&&void 0!==t&&t.onUploadProgress?null===t||void 0===t?void 0:t.onUploadProgress:void 0})}}},7273:function(e,t,n){n.d(t,{Z:function(){return p}});var r=n(72791),s=n(51261),a=n(30168),i=n(17691);var o,l=n.p+"static/media/caret.53f08b95a07c3a9bf0bb2f024d1a9921.svg",d=n(54558);const c=(0,i.ZP)(d.ZP)(o||(o=(0,a.Z)(['\n  height: 22px;\n  text-align: left;\n  letter-spacing: 0px;\n  color: #000000;\n  font: normal normal normal 18px/24px "Proxima Nova Rg", sans-serif;\n  border: none;\n  outline: none;\n  appearance: none;\n  background: transparent;\n  background-image: url(',");\n  background-repeat: no-repeat;\n  background-position-x: 100%;\n  background-position-y: 5px;\n  width: 100%;\n"])),l),u={multiValue:e=>({...e,display:"none"}),control:e=>({...e,width:"auto",border:0,boxShadow:"none",borderRadius:0,backgroundColor:"transparent",marginTop:-8}),menu:e=>{let{width:t,...n}=e;return{...n}},option:e=>({...e,paddingRight:44})};var h=n(80184);var p=e=>{const{onChange:t,value:n,customRef:a,name:i,required:o,hint:l,imageSrc:d,label:p,errorMsg:x,data:m,style:g}=e,f=(0,r.useCallback)((()=>(n||"").toString()),[n]),[v,b]=(0,r.useState)(f());e.selectedValue&&e.selectedValue(v);const[j,w]=(0,r.useState)({error:!1,message:""}),y=(0,r.useCallback)((e=>{let t={error:!1,message:""};return!e&&o&&(t={error:!0,message:x||p+" is missing"}),w(t),t}),[p,o]);r.useEffect((()=>{a&&a({value:v,validate:y,name:i||""})}),[a,v,i,y]),r.useEffect((()=>{b(n||"")}),[n]);const S=null===m||void 0===m?void 0:m.filter((e=>e.value===v));return(0,h.jsxs)(h.Fragment,{children:[(0,h.jsxs)(s.fv,{style:g,children:[d?(0,h.jsx)(s.JO,{src:d,alt:""}):null,p?(0,h.jsxs)(s.__,{children:[o&&(0,h.jsx)("span",{className:"required",children:"* "})," ",p,":"," "]}):null,(0,h.jsx)(c,{components:{DropdownIndicator:()=>null,IndicatorSeparator:()=>null},onChange:n=>{y(n.value),b(n.value),t&&t(n),e.selectedValue&&e.selectedValue(n.value)},value:S,styles:u,options:m})]}),(0,h.jsxs)(s.ZK,{children:[j.error?(0,h.jsx)(s.hW,{children:j.message}):(0,h.jsx)("div",{}),l?(0,h.jsx)(s.sG,{children:l}):(0,h.jsx)("div",{})]})]})}},51261:function(e,t,n){n.d(t,{II:function(){return x},JO:function(){return g},ZK:function(){return p},__:function(){return m},fv:function(){return h},hW:function(){return f},sG:function(){return v}});var r,s,a,i,o,l,d,c=n(30168),u=n(17691);const h=u.ZP.div(r||(r=(0,c.Z)(["\n  border: 1px solid #00000033;\n  border-radius: 4px;\n  min-height: 50px;\n  display: flex;\n  align-items: center;\n  padding: 0px 12px;\n"]))),p=u.ZP.div(s||(s=(0,c.Z)(["\n  display: flex;\n  align-items: center;\n  justify-content: space-between;\n  padding: 0px 0px;\n"]))),x=u.ZP.input(a||(a=(0,c.Z)(['\n  height: 22px;\n  text-align: left;\n  letter-spacing: 0px;\n  color: #000000;\n  font: normal normal normal 18px/24px "Proxima Nova Rg", sans-serif;\n  border: none;\n  outline: none;\n  border-bottom: 1px solid #00000040;\n  width: 100%;\n']))),m=u.ZP.label(i||(i=(0,c.Z)(['\n  text-align: left;\n  font: normal normal normal 18px/24px "Proxima Nova Rg", sans-serif;\n  letter-spacing: 0px;\n  color: #00000099;\n  margin-right: 12px;\n  flex: 0 0 auto;\n']))),g=u.ZP.img(o||(o=(0,c.Z)(["\n  width: 36px;\n  height: 27px;\n  object-fit: contain;\n  margin-right: 12px;\n"]))),f=u.ZP.label(l||(l=(0,c.Z)(['\n  text-align: left;\n  font: normal normal normal 12px/24px "Proxima Nova Rg", sans-serif;\n  letter-spacing: 0px;\n  color: #ff767c;\n']))),v=u.ZP.label(d||(d=(0,c.Z)(['\n  text-align: left;\n  font: normal normal normal 12px/24px "Proxima Nova Rg", sans-serif;\n  letter-spacing: 0px;\n  color: #00000066;\n'])))},67604:function(e,t,n){var r=n(21830),s=n.n(r),a=n(58086),i=n.n(a),o=n(80184);const l=i()(s());t.Z=async(e,t,n)=>l.fire({title:(0,o.jsx)("strong",{children:e}),html:(0,o.jsx)("p",{children:t}),icon:n})},86978:function(e,t,n){n.r(t),n.d(t,{default:function(){return m}});var r=n(65238),s=n(19279),a=n(72791),i=n(72881),o=n(56960),l=n(763),d=n(57689),c=n(24560),u=n(7273),h=n(67604),p=n(80184);const x=new r.Z;var m=()=>{const[e,t]=(0,a.useState)([]),[n,r]=(0,a.useState)([]),[m,g]=(0,a.useState)(!1),[f,v]=(0,a.useState)(!0),[b,j]=(0,a.useState)([]),w=(0,d.s0)(),y=(0,a.useCallback)((async()=>{g(!0);let e=await x.callApi("/product/getAllProducts",{method:"GET"});var n,s;200==(null===e||void 0===e?void 0:e.status)?(g(!1),t(null===e||void 0===e||null===(n=e.data)||void 0===n?void 0:n.data),r(null===e||void 0===e||null===(s=e.data)||void 0===s?void 0:s.data)):(g(!1),o.Am.error("Something went wrong while fetching products"))}),[]),S=(0,a.useCallback)((async()=>{let e=await x.callApi("/addProduct/chooseHierarchyInAddProduct",{method:"GET"});var t;200==(null===e||void 0===e?void 0:e.status)?j(null===e||void 0===e||null===(t=e.data)||void 0===t?void 0:t.data):o.Am.error("Something went wrong while fetching categories")}),[]),k=async(e,t,n,r)=>{g(!0);let s={method:"POST",body:{productId:t,productAttributeId:n,columnName:r,flag:e.target.checked}},a=await x.callApi("/product/editProductAttributeColumns",s);200==(null===a||void 0===a?void 0:a.status)?(g(!1),o.Am.success("Updated Successfully")):(g(!1),o.Am.error("Something went wrong"))};(0,a.useEffect)((()=>{y(),S()}),[]);return(0,p.jsxs)(p.Fragment,{children:[m?(0,p.jsx)(i.Z,{}):null,(0,p.jsxs)("div",{className:"ManageProductsMainClass mt-4",children:[(0,p.jsxs)("div",{className:"ManageproductsHeader",children:[(0,p.jsx)("button",{onClick:()=>w("/add-product"),style:{float:"left"},children:"+ Add Product"}),(0,p.jsx)("button",{disabled:f,className:f?"disabled":"",style:{float:"right"},onClick:async()=>{g(!0);let e={},t=1;n.forEach((n=>{e[n.id]||(e[n.id]={}),e[n.id][n.productDetails.id]=t,t+=1}));let r={method:"POST",body:{payload:e}},s=await x.callApi("/product/saveOrderOfProducts",r);200==(null===s||void 0===s?void 0:s.status)?(g(!1),(0,h.Z)("Success","Updated Successfully","success")):(g(!1),(0,h.Z)("Error","Something went wrong","error"))},children:"Save Products Order"})]}),(0,p.jsx)(s.Z5,{onDragEnd:t=>{if(!t.destination)return;let s=JSON.parse(JSON.stringify(n)),[a]=s.splice(t.source.index,1);s.splice(t.destination.index,0,a),(0,l.isEqual)(s,e)?v(!0):v(!1),r(s)},children:(0,p.jsxs)("table",{className:"table borderd",children:[(0,p.jsx)("thead",{children:(0,p.jsxs)("tr",{children:[(0,p.jsx)("th",{}),(0,p.jsx)("th",{children:"Sr. No."}),(0,p.jsx)("th",{children:"Perfume"}),(0,p.jsx)("th",{children:"Attribute"}),(0,p.jsx)("th",{children:"Category"}),(0,p.jsx)("th",{children:"Gender"}),(0,p.jsx)("th",{children:"Product Status"}),(0,p.jsx)("th",{children:"Best Seller Status"}),(0,p.jsx)("th",{children:"New"}),(0,p.jsx)("th",{children:"Edit"})]})}),(0,p.jsx)(s.bK,{droppableId:"droppable-1",children:e=>(0,p.jsxs)("tbody",{className:"text-capitalize",ref:e.innerRef,...e.droppableProps,children:[null===n||void 0===n?void 0:n.map(((e,t)=>(0,p.jsx)(s._l,{draggableId:e.productDetails.id,index:t,children:n=>(0,p.jsxs)("tr",{...n.draggableProps,ref:n.innerRef,children:[(0,p.jsx)("td",{...n.dragHandleProps,children:" = "}),(0,p.jsx)("td",{children:t+1}),(0,p.jsx)("td",{children:e.productName}),(0,p.jsx)("td",{children:Object.values(e.productDetails.attributeCombination)}),(0,p.jsx)("td",{style:{width:"250px"},children:(0,p.jsx)(u.Z,{name:"category",value:null===e||void 0===e?void 0:e.hierarchyId,data:b,onChange:t=>(async(e,t)=>{g(!0);let n={method:"POST",body:{productId:t.id,hierarchyId:e.value}},r=await x.callApi("/product/updateProductHierarchy",n);200==(null===r||void 0===r?void 0:r.status)?(g(!1),o.Am.success("Updated Successfully")):(g(!1),o.Am.error("Something went wrong"))})(t,e)})}),(0,p.jsx)("td",{style:{width:"250px"},children:(0,p.jsx)(u.Z,{name:"gender",value:null===e||void 0===e?void 0:e.gender,data:[{label:"Men",value:"Men"},{label:"Women",value:"Women"},{label:"Unisex",value:"Unisex"}],onChange:t=>(async(e,t)=>{g(!0);let n={method:"POST",body:{productId:t.id,gender:e.value}},r=await x.callApi("/product/updateProductGender",n);200==(null===r||void 0===r?void 0:r.status)?(g(!1),o.Am.success("Updated Successfully")):(g(!1),o.Am.error("Something went wrong"))})(t,e)})}),(0,p.jsx)("td",{children:(0,p.jsx)("div",{className:"form-check form-switch",children:(0,p.jsx)("input",{className:"form-check-input",type:"checkbox",role:"switch",id:"flexSwitchCheckChecked",defaultChecked:e.productDetails.isActive,onChange:t=>k(t,e.id,e.productDetails.id,"isActive")})})}),(0,p.jsx)("td",{children:(0,p.jsx)("div",{className:"form-check form-switch",children:(0,p.jsx)("input",{className:"form-check-input",type:"checkbox",role:"switch",id:"flexSwitchCheckChecked",defaultChecked:e.productDetails.bestSellerStatus,onChange:t=>k(t,e.id,e.productDetails.id,"bestSellerStatus")})})}),(0,p.jsx)("td",{children:(0,p.jsx)("div",{className:"form-check form-switch",children:(0,p.jsx)("input",{className:"form-check-input",type:"checkbox",role:"switch",id:"flexSwitchCheckChecked",defaultChecked:e.productDetails.isNew,onChange:t=>k(t,e.id,e.productDetails.id,"isNew")})})}),(0,p.jsx)("td",{children:(0,p.jsx)("div",{onClick:()=>w("/edit-product/".concat(e.productName.replaceAll(" ","-").toLowerCase())),children:(0,p.jsx)("img",{src:c.Z,alt:""})})})]})},e.productDetails.id))),e.placeholder]})})]})})]})]})}}}]);
//# sourceMappingURL=6978.260b08bd.chunk.js.map