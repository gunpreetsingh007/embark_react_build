"use strict";(self.webpackChunkembark_react=self.webpackChunkembark_react||[]).push([[1560],{24560:function(e,n,t){t(72791);n.Z=t.p+"static/media/edit.b977cfe4d50ff49b1acfb80a9021edfc.svg"},65238:function(e,n,t){t.d(n,{Z:function(){return f}});var r=t(74165),i=t(15861),a=t(15671),o=t(43144),s=t(60136),c=t(27277),u=t(74569),d=t.n(u),l=(0,o.Z)((function e(n){var t=this;(0,a.Z)(this,e),this._initializeResponseInterceptor=function(){t.instance.interceptors.response.use(t._handleResponse,t._handleError)},this._handleResponse=function(e){return e},this._handleError=function(){var e=(0,i.Z)((0,r.Z)().mark((function e(n){var t,i;return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=n.response,i=n.config,i,e.abrupt("return",Promise.resolve(t));case 3:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}(),this.instance=d().create({baseURL:n}),this._initializeResponseInterceptor()})),p=l,h=t(69441),f=function(e){(0,s.Z)(t,e);var n=(0,c.Z)(t);function t(){var e;return(0,a.Z)(this,t),(e=n.call(this,"http://localhost:8085/api"))._initializeRequestInterceptor=function(){e.instance.interceptors.request.use(e._handleRequest)},e._handleRequest=function(){var e=(0,i.Z)((0,r.Z)().mark((function e(n){var t;return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(t=h.Z.getState().user.currentUser.accessToken)&&(n.headers.Authorization=t),sessionStorage.getItem("session-id")&&(n.headers["session-id"]=sessionStorage.getItem("session-id")),e.abrupt("return",n);case 4:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}(),e._initializeRequestInterceptor(),e}return(0,o.Z)(t,[{key:"callApi",value:function(e,n){return this.instance({method:n.method,url:e,headers:null!==n&&void 0!==n&&n.header?null===n||void 0===n?void 0:n.header:{},data:null!==n&&void 0!==n&&n.body?null===n||void 0===n?void 0:n.body:void 0,onUploadProgress:null!==n&&void 0!==n&&n.onUploadProgress?null===n||void 0===n?void 0:n.onUploadProgress:void 0})}}]),t}(p)},7273:function(e,n,t){t.d(n,{Z:function(){return m}});var r=t(29439),i=t(72791),a=t(51261),o=t(30168),s=t(17691);var c,u=t.p+"static/media/caret.53f08b95a07c3a9bf0bb2f024d1a9921.svg",d=t(6978),l=(0,s.ZP)(d.ZP)(c||(c=(0,o.Z)(['\n  height: 22px;\n  text-align: left;\n  letter-spacing: 0px;\n  color: #000000;\n  font: normal normal normal 18px/24px "Proxima Nova Rg", sans-serif;\n  border: none;\n  outline: none;\n  appearance: none;\n  background: transparent;\n  background-image: url(',");\n  background-repeat: no-repeat;\n  background-position-x: 100%;\n  background-position-y: 5px;\n  width: 100%;\n"])),u),p=t(45987),h=t(1413),f=["width"],x={multiValue:function(e){return(0,h.Z)((0,h.Z)({},e),{},{display:"none"})},control:function(e){return(0,h.Z)((0,h.Z)({},e),{},{width:"auto",border:0,boxShadow:"none",borderRadius:0,backgroundColor:"transparent",marginTop:-8})},menu:function(e){e.width;var n=(0,p.Z)(e,f);return(0,h.Z)({},n)},option:function(e){return(0,h.Z)((0,h.Z)({},e),{},{paddingRight:44})}},v=t(80184),m=function(e){var n=e.onChange,t=e.value,o=e.customRef,s=e.name,c=e.required,u=e.hint,d=e.imageSrc,p=e.label,h=e.errorMsg,f=e.data,m=e.style,g=(0,i.useCallback)((function(){return(t||"").toString()}),[t]),Z=(0,i.useState)(g()),b=(0,r.Z)(Z,2),j=b[0],w=b[1];e.selectedValue&&e.selectedValue(j);var k=(0,i.useState)({error:!1,message:""}),S=(0,r.Z)(k,2),y=S[0],P=S[1],C=(0,i.useCallback)((function(e){var n={error:!1,message:""};return!e&&c&&(n={error:!0,message:h||p+" is missing"}),P(n),n}),[p,c]);i.useEffect((function(){o&&o({value:j,validate:C,name:s||""})}),[o,j,s,C]),i.useEffect((function(){w(t||"")}),[t]);var N=null===f||void 0===f?void 0:f.filter((function(e){return e.value===j}));return(0,v.jsxs)(v.Fragment,{children:[(0,v.jsxs)(a.fv,{style:m,children:[d?(0,v.jsx)(a.JO,{src:d,alt:""}):null,p?(0,v.jsxs)(a.__,{children:[c&&(0,v.jsx)("span",{className:"required",children:"* "})," ",p,":"," "]}):null,(0,v.jsx)(l,{components:{DropdownIndicator:function(){return null},IndicatorSeparator:function(){return null}},onChange:function(t){C(t.value),w(t.value),n&&n(t),e.selectedValue&&e.selectedValue(t.value)},value:N,styles:x,options:f})]}),(0,v.jsxs)(a.ZK,{children:[y.error?(0,v.jsx)(a.hW,{children:y.message}):(0,v.jsx)("div",{}),u?(0,v.jsx)(a.sG,{children:u}):(0,v.jsx)("div",{})]})]})}},51261:function(e,n,t){t.d(n,{II:function(){return f},JO:function(){return v},ZK:function(){return h},__:function(){return x},fv:function(){return p},hW:function(){return m},sG:function(){return g}});var r,i,a,o,s,c,u,d=t(30168),l=t(17691),p=l.ZP.div(r||(r=(0,d.Z)(["\n  border: 1px solid #00000033;\n  border-radius: 4px;\n  min-height: 50px;\n  display: flex;\n  align-items: center;\n  padding: 0px 12px;\n"]))),h=l.ZP.div(i||(i=(0,d.Z)(["\n  display: flex;\n  align-items: center;\n  justify-content: space-between;\n  padding: 0px 0px;\n"]))),f=l.ZP.input(a||(a=(0,d.Z)(['\n  height: 22px;\n  text-align: left;\n  letter-spacing: 0px;\n  color: #000000;\n  font: normal normal normal 18px/24px "Proxima Nova Rg", sans-serif;\n  border: none;\n  outline: none;\n  border-bottom: 1px solid #00000040;\n  width: 100%;\n']))),x=l.ZP.label(o||(o=(0,d.Z)(['\n  text-align: left;\n  font: normal normal normal 18px/24px "Proxima Nova Rg", sans-serif;\n  letter-spacing: 0px;\n  color: #00000099;\n  margin-right: 12px;\n  flex: 0 0 auto;\n']))),v=l.ZP.img(s||(s=(0,d.Z)(["\n  width: 36px;\n  height: 27px;\n  object-fit: contain;\n  margin-right: 12px;\n"]))),m=l.ZP.label(c||(c=(0,d.Z)(['\n  text-align: left;\n  font: normal normal normal 12px/24px "Proxima Nova Rg", sans-serif;\n  letter-spacing: 0px;\n  color: #ff767c;\n']))),g=l.ZP.label(u||(u=(0,d.Z)(['\n  text-align: left;\n  font: normal normal normal 12px/24px "Proxima Nova Rg", sans-serif;\n  letter-spacing: 0px;\n  color: #00000066;\n'])))},67604:function(e,n,t){var r=t(74165),i=t(15861),a=t(21830),o=t.n(a),s=t(58086),c=t.n(s),u=t(80184),d=c()(o()),l=function(){var e=(0,i.Z)((0,r.Z)().mark((function e(n,t,i){return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",d.fire({title:(0,u.jsx)("strong",{children:n}),html:(0,u.jsx)("p",{children:t}),icon:i}));case 1:case"end":return e.stop()}}),e)})));return function(n,t,r){return e.apply(this,arguments)}}();n.Z=l},86978:function(e,n,t){t.r(n),t.d(n,{default:function(){return Z}});var r=t(1413),i=t(74165),a=t(15861),o=t(29439),s=t(65238),c=t(19279),u=t(72791),d=t(72881),l=t(56960),p=t(763),h=t(57689),f=t(24560),x=t(7273),v=t(67604),m=t(80184),g=new s.Z,Z=function(){var e=(0,u.useState)([]),n=(0,o.Z)(e,2),t=n[0],s=n[1],Z=(0,u.useState)([]),b=(0,o.Z)(Z,2),j=b[0],w=b[1],k=(0,u.useState)(!1),S=(0,o.Z)(k,2),y=S[0],P=S[1],C=(0,u.useState)(!0),N=(0,o.Z)(C,2),A=N[0],I=N[1],R=(0,u.useState)([]),_=(0,o.Z)(R,2),D=_[0],E=_[1],O=(0,h.s0)(),U=(0,u.useCallback)((0,a.Z)((0,i.Z)().mark((function e(){var n,t,r,a;return(0,i.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return P(!0),n={method:"GET"},e.next=4,g.callApi("/product/getAllProducts",n);case 4:200==(null===(t=e.sent)||void 0===t?void 0:t.status)?(P(!1),s(null===t||void 0===t||null===(r=t.data)||void 0===r?void 0:r.data),w(null===t||void 0===t||null===(a=t.data)||void 0===a?void 0:a.data)):(P(!1),l.Am.error("Something went wrong while fetching products"));case 6:case"end":return e.stop()}}),e)}))),[]),q=(0,u.useCallback)((0,a.Z)((0,i.Z)().mark((function e(){var n,t,r;return(0,i.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n={method:"GET"},e.next=3,g.callApi("/addProduct/chooseHierarchyInAddProduct",n);case 3:200==(null===(t=e.sent)||void 0===t?void 0:t.status)?E(null===t||void 0===t||null===(r=t.data)||void 0===r?void 0:r.data):l.Am.error("Something went wrong while fetching categories");case 5:case"end":return e.stop()}}),e)}))),[]),T=function(){var e=(0,a.Z)((0,i.Z)().mark((function e(n,t,r,a){var o,s,c;return(0,i.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return P(!0),o=n.target.checked,s={method:"POST",body:{productId:t,productAttributeId:r,columnName:a,flag:o}},e.next=5,g.callApi("/product/editProductAttributeColumns",s);case 5:200==(null===(c=e.sent)||void 0===c?void 0:c.status)?(P(!1),l.Am.success("Updated Successfully")):(P(!1),l.Am.error("Something went wrong"));case 7:case"end":return e.stop()}}),e)})));return function(n,t,r,i){return e.apply(this,arguments)}}(),z=function(){var e=(0,a.Z)((0,i.Z)().mark((function e(){var n,t,r,a;return(0,i.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return P(!0),n={},t=1,j.forEach((function(e){n[e.id]||(n[e.id]={}),n[e.id][e.productDetails.id]=t,t+=1})),r={method:"POST",body:{payload:n}},e.next=7,g.callApi("/product/saveOrderOfProducts",r);case 7:200==(null===(a=e.sent)||void 0===a?void 0:a.status)?(P(!1),(0,v.Z)("Success","Updated Successfully","success")):(P(!1),(0,v.Z)("Error","Something went wrong","error"));case 9:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();(0,u.useEffect)((function(){U(),q()}),[]);var G=function(){var e=(0,a.Z)((0,i.Z)().mark((function e(n,t){var r,a;return(0,i.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return P(!0),r={method:"POST",body:{productId:t.id,hierarchyId:n.value}},e.next=4,g.callApi("/product/updateProductHierarchy",r);case 4:200==(null===(a=e.sent)||void 0===a?void 0:a.status)?(P(!1),l.Am.success("Updated Successfully")):(P(!1),l.Am.error("Something went wrong"));case 6:case"end":return e.stop()}}),e)})));return function(n,t){return e.apply(this,arguments)}}(),M=function(){var e=(0,a.Z)((0,i.Z)().mark((function e(n,t){var r,a;return(0,i.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return P(!0),r={method:"POST",body:{productId:t.id,gender:n.value}},e.next=4,g.callApi("/product/updateProductGender",r);case 4:200==(null===(a=e.sent)||void 0===a?void 0:a.status)?(P(!1),l.Am.success("Updated Successfully")):(P(!1),l.Am.error("Something went wrong"));case 6:case"end":return e.stop()}}),e)})));return function(n,t){return e.apply(this,arguments)}}();return(0,m.jsxs)(m.Fragment,{children:[y?(0,m.jsx)(d.Z,{}):null,(0,m.jsxs)("div",{className:"ManageProductsMainClass mt-4",children:[(0,m.jsxs)("div",{className:"ManageproductsHeader",children:[(0,m.jsx)("button",{onClick:function(){return O("/add-product")},style:{float:"left"},children:"+ Add Product"}),(0,m.jsx)("button",{disabled:A,className:A?"disabled":"",style:{float:"right"},onClick:z,children:"Save Products Order"})]}),(0,m.jsx)(c.Z5,{onDragEnd:function(e){if(e.destination){var n=JSON.parse(JSON.stringify(j)),r=n.splice(e.source.index,1),i=(0,o.Z)(r,1)[0];n.splice(e.destination.index,0,i),(0,p.isEqual)(n,t)?I(!0):I(!1),w(n)}},children:(0,m.jsxs)("table",{className:"table borderd",children:[(0,m.jsx)("thead",{children:(0,m.jsxs)("tr",{children:[(0,m.jsx)("th",{}),(0,m.jsx)("th",{children:"Sr. No."}),(0,m.jsx)("th",{children:"Perfume"}),(0,m.jsx)("th",{children:"Attribute"}),(0,m.jsx)("th",{children:"Category"}),(0,m.jsx)("th",{children:"Gender"}),(0,m.jsx)("th",{children:"Product Status"}),(0,m.jsx)("th",{children:"Best Seller Status"}),(0,m.jsx)("th",{children:"New"}),(0,m.jsx)("th",{children:"Edit"})]})}),(0,m.jsx)(c.bK,{droppableId:"droppable-1",children:function(e){return(0,m.jsxs)("tbody",(0,r.Z)((0,r.Z)({className:"text-capitalize",ref:e.innerRef},e.droppableProps),{},{children:[null===j||void 0===j?void 0:j.map((function(e,n){return(0,m.jsx)(c._l,{draggableId:e.productDetails.id,index:n,children:function(t){return(0,m.jsxs)("tr",(0,r.Z)((0,r.Z)({},t.draggableProps),{},{ref:t.innerRef,children:[(0,m.jsx)("td",(0,r.Z)((0,r.Z)({},t.dragHandleProps),{},{children:" = "})),(0,m.jsx)("td",{children:n+1}),(0,m.jsx)("td",{children:e.productName}),(0,m.jsx)("td",{children:Object.values(e.productDetails.attributeCombination)}),(0,m.jsx)("td",{style:{width:"250px"},children:(0,m.jsx)(x.Z,{name:"category",value:null===e||void 0===e?void 0:e.hierarchyId,data:D,onChange:function(n){return G(n,e)}})}),(0,m.jsx)("td",{style:{width:"250px"},children:(0,m.jsx)(x.Z,{name:"gender",value:null===e||void 0===e?void 0:e.gender,data:[{label:"Men",value:"Men"},{label:"Women",value:"Women"},{label:"Unisex",value:"Unisex"}],onChange:function(n){return M(n,e)}})}),(0,m.jsx)("td",{children:(0,m.jsx)("div",{className:"form-check form-switch",children:(0,m.jsx)("input",{className:"form-check-input",type:"checkbox",role:"switch",id:"flexSwitchCheckChecked",defaultChecked:e.productDetails.isActive,onChange:function(n){return T(n,e.id,e.productDetails.id,"isActive")}})})}),(0,m.jsx)("td",{children:(0,m.jsx)("div",{className:"form-check form-switch",children:(0,m.jsx)("input",{className:"form-check-input",type:"checkbox",role:"switch",id:"flexSwitchCheckChecked",defaultChecked:e.productDetails.bestSellerStatus,onChange:function(n){return T(n,e.id,e.productDetails.id,"bestSellerStatus")}})})}),(0,m.jsx)("td",{children:(0,m.jsx)("div",{className:"form-check form-switch",children:(0,m.jsx)("input",{className:"form-check-input",type:"checkbox",role:"switch",id:"flexSwitchCheckChecked",defaultChecked:e.productDetails.isNew,onChange:function(n){return T(n,e.id,e.productDetails.id,"isNew")}})})}),(0,m.jsx)("td",{children:(0,m.jsx)("div",{onClick:function(){return O("/edit-product/".concat(e.productName.replaceAll(" ","-").toLowerCase()))},children:(0,m.jsx)("img",{src:f.Z,alt:""})})})]}))}},e.productDetails.id)})),e.placeholder]}))}})]})})]})]})}}}]);
//# sourceMappingURL=1560.e0b0bd21.chunk.js.map