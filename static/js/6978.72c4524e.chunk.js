"use strict";(self.webpackChunkembark_react=self.webpackChunkembark_react||[]).push([[6978],{24560:function(e,t,n){n(72791);t.Z=n.p+"static/media/edit.b977cfe4d50ff49b1acfb80a9021edfc.svg"},7273:function(e,t,n){n.d(t,{Z:function(){return p}});var r=n(72791),a=n(51261),l=n(30168),i=n(17691);var d,s=n.p+"static/media/caret.53f08b95a07c3a9bf0bb2f024d1a9921.svg",o=n(54558);const c=(0,i.ZP)(o.ZP)(d||(d=(0,l.Z)(['\n  height: 22px;\n  text-align: left;\n  letter-spacing: 0px;\n  color: #000000;\n  font: normal normal normal 18px/24px "Proxima Nova Rg", sans-serif;\n  border: none;\n  outline: none;\n  appearance: none;\n  background: transparent;\n  background-image: url(',");\n  background-repeat: no-repeat;\n  background-position-x: 100%;\n  background-position-y: 5px;\n  width: 100%;\n"])),s),u={multiValue:e=>({...e,display:"none"}),control:e=>({...e,width:"auto",border:0,boxShadow:"none",borderRadius:0,backgroundColor:"transparent",marginTop:-8}),menu:e=>{let{width:t,...n}=e;return{...n}},option:e=>({...e,paddingRight:44})};var h=n(80184);var p=e=>{const{onChange:t,value:n,customRef:l,name:i,required:d,hint:s,imageSrc:o,label:p,errorMsg:x,data:m,style:f}=e,g=(0,r.useCallback)((()=>(n||"").toString()),[n]),[v,b]=(0,r.useState)(g());e.selectedValue&&e.selectedValue(v);const[j,w]=(0,r.useState)({error:!1,message:""}),S=(0,r.useCallback)((e=>{let t={error:!1,message:""};return!e&&d&&(t={error:!0,message:x||p+" is missing"}),w(t),t}),[p,d]);r.useEffect((()=>{l&&l({value:v,validate:S,name:i||""})}),[l,v,i,S]),r.useEffect((()=>{b(n||"")}),[n]);const y=null===m||void 0===m?void 0:m.filter((e=>e.value===v));return(0,h.jsxs)(h.Fragment,{children:[(0,h.jsxs)(a.fv,{style:f,children:[o?(0,h.jsx)(a.JO,{src:o,alt:""}):null,p?(0,h.jsxs)(a.__,{children:[d&&(0,h.jsx)("span",{className:"required",children:"* "})," ",p,":"," "]}):null,(0,h.jsx)(c,{components:{DropdownIndicator:()=>null,IndicatorSeparator:()=>null},onChange:n=>{S(n.value),b(n.value),t&&t(n),e.selectedValue&&e.selectedValue(n.value)},value:y,styles:u,options:m})]}),(0,h.jsxs)(a.ZK,{children:[j.error?(0,h.jsx)(a.hW,{children:j.message}):(0,h.jsx)("div",{}),s?(0,h.jsx)(a.sG,{children:s}):(0,h.jsx)("div",{})]})]})}},51261:function(e,t,n){n.d(t,{II:function(){return x},JO:function(){return f},ZK:function(){return p},__:function(){return m},fv:function(){return h},hW:function(){return g},sG:function(){return v}});var r,a,l,i,d,s,o,c=n(30168),u=n(17691);const h=u.ZP.div(r||(r=(0,c.Z)(["\n  border: 1px solid #00000033;\n  border-radius: 4px;\n  min-height: 50px;\n  display: flex;\n  align-items: center;\n  padding: 0px 12px;\n"]))),p=u.ZP.div(a||(a=(0,c.Z)(["\n  display: flex;\n  align-items: center;\n  justify-content: space-between;\n  padding: 0px 0px;\n"]))),x=u.ZP.input(l||(l=(0,c.Z)(['\n  height: 22px;\n  text-align: left;\n  letter-spacing: 0px;\n  color: #000000;\n  font: normal normal normal 18px/24px "Proxima Nova Rg", sans-serif;\n  border: none;\n  outline: none;\n  border-bottom: 1px solid #00000040;\n  width: 100%;\n']))),m=u.ZP.label(i||(i=(0,c.Z)(['\n  text-align: left;\n  font: normal normal normal 18px/24px "Proxima Nova Rg", sans-serif;\n  letter-spacing: 0px;\n  color: #00000099;\n  margin-right: 12px;\n  flex: 0 0 auto;\n']))),f=u.ZP.img(d||(d=(0,c.Z)(["\n  width: 36px;\n  height: 27px;\n  object-fit: contain;\n  margin-right: 12px;\n"]))),g=u.ZP.label(s||(s=(0,c.Z)(['\n  text-align: left;\n  font: normal normal normal 12px/24px "Proxima Nova Rg", sans-serif;\n  letter-spacing: 0px;\n  color: #ff767c;\n']))),v=u.ZP.label(o||(o=(0,c.Z)(['\n  text-align: left;\n  font: normal normal normal 12px/24px "Proxima Nova Rg", sans-serif;\n  letter-spacing: 0px;\n  color: #00000066;\n'])))},67604:function(e,t,n){var r=n(21830),a=n.n(r),l=n(58086),i=n.n(l),d=n(80184);const s=i()(a());t.Z=async(e,t,n)=>s.fire({title:(0,d.jsx)("strong",{children:e}),html:(0,d.jsx)("p",{children:t}),icon:n})},86978:function(e,t,n){n.r(t),n.d(t,{default:function(){return m}});var r=n(27117),a=n(19279),l=n(72791),i=n(72881),d=n(56960),s=n(763),o=n(57689),c=n(24560),u=n(7273),h=n(67604),p=n(80184);const x=new r.Z;var m=()=>{const[e,t]=(0,l.useState)([]),[n,r]=(0,l.useState)([]),[m,f]=(0,l.useState)(!1),[g,v]=(0,l.useState)(!0),[b,j]=(0,l.useState)([]),w=(0,o.s0)(),S=(0,l.useCallback)((async()=>{f(!0);let e=await x.callApi("/product/getAllProducts",{method:"GET"});var n,a;200==(null===e||void 0===e?void 0:e.status)?(f(!1),t(null===e||void 0===e||null===(n=e.data)||void 0===n?void 0:n.data),r(null===e||void 0===e||null===(a=e.data)||void 0===a?void 0:a.data)):(f(!1),d.Am.error("Something went wrong while fetching products"))}),[]),y=(0,l.useCallback)((async()=>{let e=await x.callApi("/addProduct/chooseHierarchyInAddProduct",{method:"GET"});var t;200==(null===e||void 0===e?void 0:e.status)?j(null===e||void 0===e||null===(t=e.data)||void 0===t?void 0:t.data):d.Am.error("Something went wrong while fetching categories")}),[]),k=async(e,t,n,r)=>{f(!0);let a={method:"POST",body:{productId:t,productAttributeId:n,columnName:r,flag:e.target.checked}},l=await x.callApi("/product/editProductAttributeColumns",a);200==(null===l||void 0===l?void 0:l.status)?(f(!1),d.Am.success("Updated Successfully")):(f(!1),d.Am.error("Something went wrong"))};(0,l.useEffect)((()=>{S(),y()}),[]);return(0,p.jsxs)(p.Fragment,{children:[m?(0,p.jsx)(i.Z,{}):null,(0,p.jsxs)("div",{className:"ManageProductsMainClass mt-4",children:[(0,p.jsxs)("div",{className:"ManageproductsHeader",children:[(0,p.jsx)("button",{onClick:()=>w("/add-product"),style:{float:"left"},children:"+ Add Product"}),(0,p.jsx)("button",{disabled:g,className:g?"disabled":"",style:{float:"right"},onClick:async()=>{f(!0);let e={},t=1;n.forEach((n=>{e[n.id]||(e[n.id]={}),e[n.id][n.productDetails.id]=t,t+=1}));let r={method:"POST",body:{payload:e}},a=await x.callApi("/product/saveOrderOfProducts",r);200==(null===a||void 0===a?void 0:a.status)?(f(!1),(0,h.Z)("Success","Updated Successfully","success")):(f(!1),(0,h.Z)("Error","Something went wrong","error"))},children:"Save Products Order"})]}),(0,p.jsx)(a.Z5,{onDragEnd:t=>{if(!t.destination)return;let a=JSON.parse(JSON.stringify(n)),[l]=a.splice(t.source.index,1);a.splice(t.destination.index,0,l),(0,s.isEqual)(a,e)?v(!0):v(!1),r(a)},children:(0,p.jsxs)("table",{className:"table borderd",children:[(0,p.jsx)("thead",{children:(0,p.jsxs)("tr",{children:[(0,p.jsx)("th",{}),(0,p.jsx)("th",{children:"Sr. No."}),(0,p.jsx)("th",{children:"Perfume"}),(0,p.jsx)("th",{children:"Attribute"}),(0,p.jsx)("th",{children:"Category"}),(0,p.jsx)("th",{children:"Gender"}),(0,p.jsx)("th",{children:"Product Status"}),(0,p.jsx)("th",{children:"Best Seller Status"}),(0,p.jsx)("th",{children:"New"}),(0,p.jsx)("th",{children:"Edit"})]})}),(0,p.jsx)(a.bK,{droppableId:"droppable-1",children:e=>(0,p.jsxs)("tbody",{className:"text-capitalize",ref:e.innerRef,...e.droppableProps,children:[null===n||void 0===n?void 0:n.map(((e,t)=>(0,p.jsx)(a._l,{draggableId:e.productDetails.id,index:t,children:n=>(0,p.jsxs)("tr",{...n.draggableProps,ref:n.innerRef,children:[(0,p.jsx)("td",{...n.dragHandleProps,children:" = "}),(0,p.jsx)("td",{children:t+1}),(0,p.jsx)("td",{children:e.productName}),(0,p.jsx)("td",{children:Object.values(e.productDetails.attributeCombination)}),(0,p.jsx)("td",{style:{width:"250px"},children:(0,p.jsx)(u.Z,{name:"category",value:null===e||void 0===e?void 0:e.hierarchyId,data:b,onChange:t=>(async(e,t)=>{f(!0);let n={method:"POST",body:{productId:t.id,hierarchyId:e.value}},r=await x.callApi("/product/updateProductHierarchy",n);200==(null===r||void 0===r?void 0:r.status)?(f(!1),d.Am.success("Updated Successfully")):(f(!1),d.Am.error("Something went wrong"))})(t,e)})}),(0,p.jsx)("td",{style:{width:"250px"},children:(0,p.jsx)(u.Z,{name:"gender",value:null===e||void 0===e?void 0:e.gender,data:[{label:"Men",value:"Men"},{label:"Women",value:"Women"},{label:"Unisex",value:"Unisex"}],onChange:t=>(async(e,t)=>{f(!0);let n={method:"POST",body:{productId:t.id,gender:e.value}},r=await x.callApi("/product/updateProductGender",n);200==(null===r||void 0===r?void 0:r.status)?(f(!1),d.Am.success("Updated Successfully")):(f(!1),d.Am.error("Something went wrong"))})(t,e)})}),(0,p.jsx)("td",{children:(0,p.jsx)("div",{className:"form-check form-switch",children:(0,p.jsx)("input",{className:"form-check-input",type:"checkbox",role:"switch",id:"flexSwitchCheckChecked",defaultChecked:e.productDetails.isActive,onChange:t=>k(t,e.id,e.productDetails.id,"isActive")})})}),(0,p.jsx)("td",{children:(0,p.jsx)("div",{className:"form-check form-switch",children:(0,p.jsx)("input",{className:"form-check-input",type:"checkbox",role:"switch",id:"flexSwitchCheckChecked",defaultChecked:e.productDetails.bestSellerStatus,onChange:t=>k(t,e.id,e.productDetails.id,"bestSellerStatus")})})}),(0,p.jsx)("td",{children:(0,p.jsx)("div",{className:"form-check form-switch",children:(0,p.jsx)("input",{className:"form-check-input",type:"checkbox",role:"switch",id:"flexSwitchCheckChecked",defaultChecked:e.productDetails.isNew,onChange:t=>k(t,e.id,e.productDetails.id,"isNew")})})}),(0,p.jsx)("td",{children:(0,p.jsx)("div",{onClick:()=>w("/edit-product/".concat(e.productName.replaceAll(" ","-").toLowerCase())),children:(0,p.jsx)("img",{src:c.Z,alt:""})})})]})},e.productDetails.id))),e.placeholder]})})]})})]})]})}}}]);
//# sourceMappingURL=6978.72c4524e.chunk.js.map