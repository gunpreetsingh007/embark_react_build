"use strict";(self.webpackChunkembark_react=self.webpackChunkembark_react||[]).push([[7190],{65238:function(e,r,s){s.d(r,{Z:function(){return p}});var a=s(74165),t=s(15861),n=s(15671),o=s(43144),i=s(60136),l=s(27277),c=s(74569),m=s.n(c),u=(0,o.Z)((function e(r){var s=this;(0,n.Z)(this,e),this._initializeResponseInterceptor=function(){s.instance.interceptors.response.use(s._handleResponse,s._handleError)},this._handleResponse=function(e){return e},this._handleError=function(){var e=(0,t.Z)((0,a.Z)().mark((function e(r){var s,t;return(0,a.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return s=r.response,t=r.config,t,e.abrupt("return",Promise.resolve(s));case 3:case"end":return e.stop()}}),e)})));return function(r){return e.apply(this,arguments)}}(),this.instance=m().create({baseURL:r}),this._initializeResponseInterceptor()})),d=u,f=s(69441),p=function(e){(0,i.Z)(s,e);var r=(0,l.Z)(s);function s(){var e;return(0,n.Z)(this,s),(e=r.call(this,"http://localhost:8085/api"))._initializeRequestInterceptor=function(){e.instance.interceptors.request.use(e._handleRequest)},e._handleRequest=function(){var e=(0,t.Z)((0,a.Z)().mark((function e(r){var s;return(0,a.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(s=f.Z.getState().user.currentUser.accessToken)&&(r.headers.Authorization=s),sessionStorage.getItem("session-id")&&(r.headers["session-id"]=sessionStorage.getItem("session-id")),e.abrupt("return",r);case 4:case"end":return e.stop()}}),e)})));return function(r){return e.apply(this,arguments)}}(),e._initializeRequestInterceptor(),e}return(0,o.Z)(s,[{key:"callApi",value:function(e,r){return this.instance({method:r.method,url:e,headers:null!==r&&void 0!==r&&r.header?null===r||void 0===r?void 0:r.header:{},data:null!==r&&void 0!==r&&r.body?null===r||void 0===r?void 0:r.body:void 0,onUploadProgress:null!==r&&void 0!==r&&r.onUploadProgress?null===r||void 0===r?void 0:r.onUploadProgress:void 0})}}]),s}(d)},89404:function(e,r,s){var a=s(29439),t=s(37762),n=new(s(65238).Z);r.Z=function(e){if(sessionStorage.getItem("session-id")&&(o=sessionStorage.getItem("session-id"),/^[0-9a-fA-F]{8}-[0-9a-fA-F]{4}-[4][0-9a-fA-F]{3}-[89ABab][0-9a-fA-F]{3}-[0-9a-fA-F]{12}$/.test(o)))n.callApi("/session/trackUserEvent",{method:"POST",body:{event:e}});else{sessionStorage.removeItem("session-id");var r=function(e){var r,s=new URLSearchParams(window.location.search),n={},o=(0,t.Z)(s);try{for(o.s();!(r=o.n()).done;){var i=(0,a.Z)(r.value,2),l=i[0],c=i[1];l.includes(e)&&(n[l]=c)}}catch(m){o.e(m)}finally{o.f()}return n}("utm"),s={method:"POST",body:{additionalDetails:r,event:e}};n.callApi("/session/createNewSession",s).then((function(e){sessionStorage.setItem("session-id",e.data.data)}))}var o}},17190:function(e,r,s){s.r(r);var a=s(74165),t=s(15861),n=s(4942),o=s(1413),i=s(29439),l=s(72791),c=s(26022),m=s(65238),u=s(57689),d=s(89404),f=s(80184),p=new m.Z;r.default=function(){var e=(0,u.s0)(),r=(0,u.bx)(),s=(0,l.useState)({firstName:!1,lastName:!1,email:!1,confirmPassword:!1,message:""}),m=(0,i.Z)(s,2),h=m[0],v=m[1],N=(0,l.useState)({firstName:"",lastName:"",email:"",currentPassword:"",newPassword:"",confirmPassword:""}),w=(0,i.Z)(N,2),g=w[0],b=w[1],x=function(e,r){b((0,o.Z)((0,o.Z)({},g),{},(0,n.Z)({},r,e))),!0!==h.email&&!0!==h.confirmPassword&&!0!==h.firstName&&!0!==h.lastName||v((0,o.Z)((0,o.Z)({},h),{},(0,n.Z)({},r,!1)))},Z=function(){var r=(0,t.Z)((0,a.Z)().mark((function r(s){var t,n;return(0,a.Z)().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(r.prev=0,s.preventDefault(),t=(0,c.H)(g),g.newPassword!==g.confirmPassword&&(t.confirmPassword=!0),v(t),!(t.firstName||t.lastName||t.email||t.confirmPassword)){r.next=7;break}return r.abrupt("return");case 7:return n={method:"POST",body:g},r.next=10,p.callApi("user/updateUser",n);case 10:200==r.sent.status&&e("/"),r.next=17;break;case 14:r.prev=14,r.t0=r.catch(0),console.error("Something went wrong");case 17:case"end":return r.stop()}}),r,null,[[0,14]])})));return function(e){return r.apply(this,arguments)}}();return(0,l.useEffect)((function(){b((0,o.Z)((0,o.Z)({},g),r))}),[r]),(0,l.useEffect)((function(){(0,d.Z)("Edit Account")}),[]),(0,f.jsx)("div",{className:"edit-account-container container-fluid",style:{backgroundColor:"white"},children:(0,f.jsxs)("form",{children:[(0,f.jsxs)("div",{className:"row",style:{marginTop:"25px"},children:[(0,f.jsxs)("div",{className:"col-lg-6 col-sm-12 form-group mb-2",children:[(0,f.jsx)("label",{htmlFor:"firstName",className:"form-label",children:"First Name"}),(0,f.jsx)("input",{type:"text",id:"firstName",className:"form-control ".concat(h.firstName?"errorInputField":""),required:!0,onChange:function(e){return x(e.target.value,"firstName")},value:g.firstName}),h.firstName&&(0,f.jsx)("div",{className:"error",children:"Please enter your first name"})]}),(0,f.jsxs)("div",{className:"col-lg-6 col-sm-12 form-group mb-2",children:[(0,f.jsx)("label",{htmlFor:"lastName",className:"form-label",children:"Last Name"}),(0,f.jsx)("input",{type:"text",id:"lastName",className:"form-control ".concat(h.lastName?"errorInputField":""),required:!0,onChange:function(e){return x(e.target.value,"lastName")},value:g.lastName}),h.lastName&&(0,f.jsx)("div",{className:"error",children:"Please enter your last name"})]})]}),(0,f.jsxs)("div",{className:"form-group mb-2",children:[(0,f.jsx)("label",{htmlFor:"email",className:"form-label",children:"Email Address"}),(0,f.jsx)("input",{type:"email",id:"email",className:"form-control ".concat(h.email?"errorInputField":""),required:!0,onChange:function(e){return x(e.target.value,"email")},value:g.email}),h.email&&(0,f.jsx)("div",{className:"error",children:h.message?"Please enter a valid email":"Please enter your email"})]}),(0,f.jsx)("span",{className:"text-style",style:{margin:"15px 0px",display:"inline-block"},children:"PASSWORD CHANGE"}),(0,f.jsxs)("div",{className:"form-group mb-2",children:[(0,f.jsx)("label",{htmlFor:"current password",className:"form-label",children:"Current password (leave blank to leave unchanged)"}),(0,f.jsx)("input",{type:"password",id:"current password",className:"form-control",required:!0,onChange:function(e){return x(e.target.value,"currentPassword")}})]}),(0,f.jsxs)("div",{className:"form-group mb-2",children:[(0,f.jsx)("label",{htmlFor:"new password",className:"form-label",children:"New password (leave blank to leave unchanged) "}),(0,f.jsx)("input",{type:"password",id:"new password",className:"form-control",required:!0,onChange:function(e){return x(e.target.value,"newPassword")}})]}),(0,f.jsxs)("div",{className:"form-group mb-2",children:[(0,f.jsx)("label",{htmlFor:"confirm password",className:"form-label",children:"Confirm new password"}),(0,f.jsx)("input",{type:"password",id:"confirm password",className:"form-control ".concat(h.confirmPassword?"errorInputField":""),required:!0,onChange:function(e){return x(e.target.value,"confirmPassword")}}),h.confirmPassword&&(0,f.jsx)("div",{className:"error",children:"Passwords do not match"})]}),(0,f.jsx)("button",{className:"btn btn-dark mt-5 mb-2",onClick:function(e){return Z(e)},children:"SAVE CHANGES"})]})})}},26022:function(e,r,s){s.d(r,{C:function(){return t},H:function(){return a}});var a=function(e){var r=e.firstName,s=e.lastName,a=e.email,t={firstName:!1,lastName:!1,email:!1,message:""};return r||(t.firstName=!0),s||(t.lastName=!0),a||(t.email=!0),a&&!/\S+@\S+\.\S+/.test(a)&&(t.email=!0,t.message="invalid email"),t},t=function(e){var r=e.firstName,s=e.lastName,a=e.email,t=e.state,n=e.streetAddress,o=e.city,i=e.postcode,l=e.phone,c={firstName:!1,lastName:!1,email:!1,state:!1,streetAddress:!1,city:!1,postcode:!1,phone:!1,message:""};return r||(c.firstName=!0),s||(c.lastName=!0),a||(c.email=!0),a&&!/\S+@\S+\.\S+/.test(a)&&(c.email=!0,c.message="invalid email"),t||(c.state=!0),n||(c.streetAddress=!0),o||(c.city=!0),i||(c.postcode=!0),l||(c.phone=!0),l&&10!=l.length&&(c.phone=!0),c}}}]);
//# sourceMappingURL=7190.e68462dd.chunk.js.map