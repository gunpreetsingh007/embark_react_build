"use strict";(self.webpackChunkembark_react=self.webpackChunkembark_react||[]).push([[1148],{71148:function(e,t,a){a.r(t);var n=a(72791),i=a(57689),r=a(59434),s=a(27117),u=a(46799),d=a(21830),o=a.n(d),l=a(58086),c=a.n(l),f=a(72881),m=a(80184);const b=new s.Z,h=c()(o());t.default=e=>{const t=(0,r.I0)(),a=(0,i.s0)(),{accessCode:s,Component:d}=e,[o,l]=(0,n.useState)(null),c=(0,n.useCallback)((async()=>{let e=await b.callApi("/user/me",{method:"GET"});200===(null===e||void 0===e?void 0:e.status)?(t((0,u.Nq)({role:e.data.data.role,userId:e.data.data.id,firstName:e.data.data.firstName,lastName:e.data.data.lastName,email:e.data.data.email,contact:e.data.data.phoneNumber})),l(e.data.data.role)):l("sign-in-required")}),[]);if((0,n.useLayoutEffect)((()=>{c()}),[]),!o)return(0,m.jsx)(f.Z,{});if("sign-in-required"==o)h.fire({text:"You need to sign in to continue",buttons:{OK:{text:"OK",value:"OK"}}}).then((e=>{if(null!==e&&void 0!==e&&e.isConfirmed)return a("/sign-in")}));else{if(s.includes(o))return d;h.fire({text:"You are not authorized",buttons:{OK:{text:"OK",value:"OK"}}}).then((e=>{if(null!==e&&void 0!==e&&e.isConfirmed)return a(-1)}))}}}}]);
//# sourceMappingURL=1148.0bc9f389.chunk.js.map