"use strict";(self.webpackChunkembark_react=self.webpackChunkembark_react||[]).push([[9779],{89404:function(e,a,s){const t=new(s(27117).Z);a.Z=e=>{if(sessionStorage.getItem("session-id")&&(a=sessionStorage.getItem("session-id"),/^[0-9a-fA-F]{8}-[0-9a-fA-F]{4}-[4][0-9a-fA-F]{3}-[89ABab][0-9a-fA-F]{3}-[0-9a-fA-F]{12}$/.test(a)))t.callApi("/session/trackUserEvent",{method:"POST",body:{event:e}});else{sessionStorage.removeItem("session-id");const a=function(e){const a=new URLSearchParams(window.location.search),s={};for(const[t,l]of a)t.includes(e)&&(s[t]=l);return s}("utm");let s={method:"POST",body:{additionalDetails:a,event:e}};t.callApi("/session/createNewSession",s).then((e=>{sessionStorage.setItem("session-id",e.data.data)}))}var a}},8055:function(e,a,s){s.r(a);var t=s(72791),l=s(26022),r=s(27117),o=s(57689),n=s(11087),i=s(24459),d=s(24054),m=s(54558),c=s(69441),u=s(89404),N=s(80184);const p=new r.Z;a.default=()=>{const{addressType:e}=(0,o.UO)(),[a,s]=(0,n.lr)();let r=c.Z.getState().user.currentUser;const h=a.get("id"),v=a.get("firstAddress");let f="",g="",b="",y="";v&&"true"==v&&(f=r.firstName,g=r.lastName,b=r.email,y=r.contact);const x=(0,o.s0)();["billing-address","shipping-address"].includes(e)||x("/404");const[j,S]=(0,t.useState)({firstName:!1,lastName:!1,email:!1,state:!1,streetAddress:!1,city:!1,postcode:!1,phone:!1,message:""}),[A,F]=(0,t.useState)({firstName:f,lastName:g,email:b,companyName:"",gstNumber:"",country:"India",state:"",streetAddress:"",landmark:"",city:"",postcode:"",phone:y}),[C,I]=(0,t.useState)("IN"),[k,P]=(0,t.useState)(""),[w,Z]=(0,t.useState)({label:null}),E=(sessionStorage.getItem("add"),(e,a)=>{F({...A,[a]:e}),(!0===j.email||!0===j.city||!0===j.firstName||!0===j.lastName||!0===j.country||j.phone||j.postcode||j.state||j.streetAddress)&&S({...j,[a]:!1})});return(0,t.useEffect)((()=>{h&&(async()=>{const e=await p.callApi("user/getAddressById/".concat(h),{method:"GET"});200==e.status&&(F({...A,id:e.data.data.id,firstName:e.data.data.firstName,lastName:e.data.data.lastName,email:e.data.data.email,companyName:e.data.data.companyName,gstNumber:e.data.data.gstNumber,country:e.data.data.country,state:e.data.data.state,streetAddress:e.data.data.streetAddress,landmark:e.data.data.landmark,city:e.data.data.city,postcode:e.data.data.pincode+"",phone:e.data.data.contact}),Z({label:e.data.data.city}),P(e.data.data.stateId))})()}),[]),(0,t.useEffect)((()=>{(0,u.Z)("Add/Edit Address")}),[]),(0,N.jsxs)("div",{className:"edit-account-container container",style:{backgroundColor:"white"},children:[(0,N.jsx)("div",{className:"text-style mt-4",children:"billing-address"===e?"Billing address":"Shipping address"}),(0,N.jsxs)("form",{children:[(0,N.jsxs)("div",{className:"row",style:{marginTop:"25px"},children:[(0,N.jsxs)("div",{className:"col-sm-12 col-lg-6 form-group mb-2",children:[(0,N.jsx)("label",{htmlFor:"firstName",className:"form-label",children:"First Name"}),(0,N.jsx)("input",{type:"text",id:"firstName",className:"form-control ".concat(j.firstName?"errorInputField":""),required:!0,onChange:e=>E(e.target.value,"firstName"),value:null===A||void 0===A?void 0:A.firstName}),j.firstName&&(0,N.jsx)("div",{className:"error",children:"Please enter your first name"})]}),(0,N.jsxs)("div",{className:"col form-group mb-2",children:[(0,N.jsx)("label",{htmlFor:"lastName",className:"form-label",children:"Last Name"}),(0,N.jsx)("input",{type:"text",id:"lastName",className:"form-control ".concat(j.lastName?"errorInputField":""),required:!0,onChange:e=>E(e.target.value,"lastName"),value:null===A||void 0===A?void 0:A.lastName}),j.lastName&&(0,N.jsx)("div",{className:"error",children:"Please enter your last name"})]})]}),(0,N.jsxs)("div",{className:"form-group mb-2",children:[(0,N.jsx)("label",{htmlFor:"companyName",className:"form-label",children:"Company name (Optional)"}),(0,N.jsx)("input",{type:"text",id:"companyName",className:"form-control",onChange:e=>E(e.target.value,"companyName"),value:null===A||void 0===A?void 0:A.companyName})]}),(0,N.jsxs)("div",{className:"form-group mb-2",children:[(0,N.jsx)("label",{htmlFor:"gstNumber",className:"form-label",children:"GST No. (Optional)"}),(0,N.jsx)("input",{type:"text",id:"gstNumber",className:"form-control",onChange:e=>E(e.target.value,"gstNumber"),value:null===A||void 0===A?void 0:A.gstNumber})]}),(0,N.jsxs)("div",{className:"row",children:[(0,N.jsxs)("div",{className:"col-sm-12 col-lg-6 form-group mb-2",children:[(0,N.jsx)("label",{htmlFor:"streetAddress",className:"form-label",children:"Address"}),(0,N.jsx)("input",{type:"text",id:"streetAddress",className:"form-control ".concat(j.streetAddress?"errorInputField":""),required:!0,onChange:e=>E(e.target.value,"streetAddress"),value:null===A||void 0===A?void 0:A.streetAddress}),j.streetAddress&&(0,N.jsx)("div",{className:"error",children:"Please enter your address"})]}),(0,N.jsxs)("div",{className:"col form-group mb-2",children:[(0,N.jsx)("label",{htmlFor:"landmark",className:"form-label",children:"Landmark (Optional)"}),(0,N.jsx)("input",{type:"text",id:"landmark",className:"form-control",onChange:e=>E(e.target.value,"landmark"),value:null===A||void 0===A?void 0:A.landmark})]})]}),(0,N.jsxs)("div",{className:"row",children:[(0,N.jsxs)("div",{className:"col-sm-12 col-lg-6 form-group mb-2",children:[(0,N.jsx)("label",{className:"form-label",children:"Country"}),(0,N.jsx)(m.ZP,{className:"".concat(j.country?"errorSelectField":""),options:[{label:"India",value:"India",id:"IN"}],onChange:e=>{E(e.value,"country")},value:{label:"India"}})]}),(0,N.jsxs)("div",{className:"col form-group mb-2",children:[(0,N.jsx)("label",{htmlFor:"state",className:"form-label",children:"State"}),(0,N.jsx)(m.ZP,{className:"".concat(j.state?"errorSelectField":""),options:(q=C,i.ZP.getStatesOfCountry(q).map((e=>({label:e.name,value:e.name,id:e.isoCode})))),onChange:e=>{P(e.id),Z({label:null}),E(e.value,"state")},value:A.state&&{label:A.state}}),j.state&&(0,N.jsx)("div",{className:"error",children:"Please enter your state"})]})]}),(0,N.jsxs)("div",{className:"form-group mb-2",children:[(0,N.jsx)("label",{htmlFor:"city",className:"form-label",children:"City"}),(0,N.jsx)(m.ZP,{className:"".concat(j.city?"errorSelectField":""),options:(O=C,T=k||null,d.Z.getCitiesOfState(O,T).map((e=>({label:e.name,value:e.name})))),onChange:e=>{Z({label:e.value}),E(e.value,"city")},value:w.label&&w}),j.city&&(0,N.jsx)("div",{className:"error",children:"Please enter your city"})]}),(0,N.jsxs)("div",{className:"form-group mb-2",children:[(0,N.jsx)("label",{htmlFor:"postcode",className:"form-label",children:"Pincode"}),(0,N.jsx)("input",{type:"number",id:"postcode",className:"form-control ".concat(j.postcode?"errorInputField":""),required:!0,onChange:e=>E(e.target.value,"postcode"),value:null===A||void 0===A?void 0:A.postcode}),j.postcode&&(0,N.jsx)("div",{className:"error",children:"Please enter your pincode"})]}),(0,N.jsxs)("div",{className:"form-group mb-2",children:[(0,N.jsx)("label",{htmlFor:"phone",className:"form-label",children:"Phone"}),(0,N.jsx)("input",{type:"number",id:"phone",className:"form-control ".concat(j.phone?"errorInputField":""),required:!0,onChange:e=>E(e.target.value,"phone"),value:null===A||void 0===A?void 0:A.phone}),j.phone&&(0,N.jsx)("div",{className:"error",children:"Please enter valid phone number"})]}),(0,N.jsxs)("div",{className:"form-group mb-2",children:[(0,N.jsx)("label",{htmlFor:"email",className:"form-label",children:"Email Address"}),(0,N.jsx)("input",{type:"email",id:"email",className:"form-control ".concat(j.email?"errorInputField":""),required:!0,onChange:e=>E(e.target.value,"email"),value:null===A||void 0===A?void 0:A.email}),j.email&&(0,N.jsx)("div",{className:"error",children:j.message?"Please enter a valid email":"Please enter your email"})]}),(0,N.jsx)("button",{className:"btn btn-dark mt-5 mb-2",onClick:a=>(async a=>{try{a.preventDefault();const s=(0,l.C)(A);if(null==w.label?S({...s,city:!0}):S(s),s.city||s.firstName||s.lastName||s.email||s.country||s.phone||s.postcode||s.state||s.streetAddress||null==w.label)return;const t={method:"POST",body:{...A,selectedStateId:k,addressType:"billing-address"==e?"billing":"shipping"}};200==(await p.callApi("user/createEditAddresses",t)).status&&x("/checkout")}catch(j){console.error("Something went wrong")}})(a),children:"SAVE ADDRESS"})]})]});var O,T,q}},26022:function(e,a,s){s.d(a,{C:function(){return l},H:function(){return t}});const t=e=>{const{firstName:a,lastName:s,email:t}=e;var l={firstName:!1,lastName:!1,email:!1,message:""};return a||(l.firstName=!0),s||(l.lastName=!0),t||(l.email=!0),t&&!/\S+@\S+\.\S+/.test(t)&&(l.email=!0,l.message="invalid email"),l},l=e=>{const{firstName:a,lastName:s,email:t,state:l,streetAddress:r,city:o,postcode:n,phone:i}=e;var d={firstName:!1,lastName:!1,email:!1,state:!1,streetAddress:!1,city:!1,postcode:!1,phone:!1,message:""};return a||(d.firstName=!0),s||(d.lastName=!0),t||(d.email=!0),t&&!/\S+@\S+\.\S+/.test(t)&&(d.email=!0,d.message="invalid email"),l||(d.state=!0),r||(d.streetAddress=!0),o||(d.city=!0),n||(d.postcode=!0),i||(d.phone=!0),i&&10!=i.length&&(d.phone=!0),d}}}]);
//# sourceMappingURL=9779.3bce39dc.chunk.js.map