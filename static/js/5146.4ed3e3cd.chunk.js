"use strict";(self.webpackChunkembark_react=self.webpackChunkembark_react||[]).push([[5146],{89404:function(e,s,a){const r=new(a(27117).Z);s.Z=e=>{if(sessionStorage.getItem("session-id")&&(s=sessionStorage.getItem("session-id"),/^[0-9a-fA-F]{8}-[0-9a-fA-F]{4}-[4][0-9a-fA-F]{3}-[89ABab][0-9a-fA-F]{3}-[0-9a-fA-F]{12}$/.test(s)))r.callApi("/session/trackUserEvent",{method:"POST",body:{event:e}});else{sessionStorage.removeItem("session-id");const s=function(e){const s=new URLSearchParams(window.location.search),a={};for(const[r,o]of s)r.includes(e)&&(a[r]=o);return a}("utm");let a={method:"POST",body:{additionalDetails:s,event:e}};r.callApi("/session/createNewSession",a).then((e=>{sessionStorage.setItem("session-id",e.data.data)}))}var s}},67604:function(e,s,a){var r=a(21830),o=a.n(r),n=a(58086),t=a.n(n),i=a(80184);const l=t()(o());s.Z=async(e,s,a)=>l.fire({title:(0,i.jsx)("strong",{children:e}),html:(0,i.jsx)("p",{children:s}),icon:a})},5146:function(e,s,a){a.r(s),a.d(s,{default:function(){return m}});var r=a(72791);var o=a(57689),n=a(27117),t=a(67604),i=a(72881),l=a(89404),c=a(80184);const d=new n.Z;var m=()=>{const{token:e}=(0,o.UO)(),[s,a]=(0,r.useState)(!1),n=(0,o.s0)(),[m,w]=(0,r.useState)({email:!1,confirmPassword:!1,message:""}),[u,f]=(0,r.useState)({email:"",newPassword:"",confirmPassword:""}),h=(e,s)=>{f({...u,[s]:e}),!0!==m.email&&!0!==m.confirmPassword&&!0!==m.newPassword||w({...m,[s]:!1})};return(0,r.useEffect)((()=>{(async()=>{try{const s={method:"POST",body:{token:e}},a=await d.callApi("auth/verifyForgetToken",s);200==a.status?f({...u,email:a.data.data.email}):n("*")}catch(m){console.error("Something went wrong")}})()}),[]),(0,r.useEffect)((()=>{(0,l.Z)("Reset Password")}),[]),(0,c.jsxs)(c.Fragment,{children:[s?(0,c.jsx)(i.Z,{}):null,(0,c.jsx)("div",{className:"resetPassword-wrapper bg-dark d-flex align-item-center justify-content-center w-100",children:(0,c.jsxs)("div",{className:"resetPassword",children:[(0,c.jsx)("h2",{className:"mb-3",children:"Reset Passowrd"}),(0,c.jsxs)("form",{children:[(0,c.jsxs)("div",{className:"form-group mb-2",children:[(0,c.jsx)("label",{htmlFor:"email",className:"form-label",children:"Email Address"}),(0,c.jsx)("input",{disabled:!0,id:"email",className:"form-control ".concat(m.email&&"errorInputField"),required:!0,onChange:e=>h(e.target.value,"email"),value:u.email}),m.email&&(0,c.jsx)("div",{className:"error",children:m.message?"Please enter a valid email":"Please enter your email"})]}),(0,c.jsxs)("div",{className:"form-group mb-2",children:[(0,c.jsx)("label",{htmlFor:"new password",className:"form-label",children:"New password"}),(0,c.jsx)("input",{type:"password",id:"new password",className:"form-control ".concat(m.newPassword?"errorInputField":""),required:!0,onChange:e=>h(e.target.value,"newPassword")}),m.newPassword&&(0,c.jsx)("div",{className:"error",children:"Please enter a password"})]}),(0,c.jsxs)("div",{className:"form-group mb-2",children:[(0,c.jsx)("label",{htmlFor:"confirm password",className:"form-label",children:"Confirm new password"}),(0,c.jsx)("input",{type:"password",id:"confirm password",className:"form-control ".concat(m.confirmPassword?"errorInputField":""),required:!0,onChange:e=>h(e.target.value,"confirmPassword")}),m.confirmPassword&&(0,c.jsx)("div",{className:"error",children:"Passwords do not match"})]}),(0,c.jsx)("button",{className:"btn btn-dark w-100 mt-2",onClick:s=>(async s=>{s.preventDefault();const r=(e=>{const{email:s,newPassword:a}=e;var r={email:!1,newPassword:!1,message:""};return s||(r.email=!0),s&&!/\S+@\S+\.\S+/.test(s)&&(r.email=!0,r.message="invalid email"),a||(r.newPassword=!0),r})(u);if(u.newPassword!==u.confirmPassword&&(r.confirmPassword=!0),w(r),!(r.email||r.confirmPassword||r.newPassword))try{const s={method:"POST",body:{...u,token:e}};a(!0),200==(await d.callApi("auth/resetPassword",s)).status?(a(!1),n("/sign-in"),(0,t.Z)("Success","Password has been reset","success")):(a(!1),(0,t.Z)("Failure","Error in changing password","error"))}catch(m){console.error("Something went wrong")}})(s),children:"RESET PASSWORD"})]})]})})]})}}}]);
//# sourceMappingURL=5146.4ed3e3cd.chunk.js.map