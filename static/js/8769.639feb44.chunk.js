"use strict";(self.webpackChunkembark_react=self.webpackChunkembark_react||[]).push([[8769],{65238:function(e,s,t){t.d(s,{Z:function(){return a}});var i=t(55294);var n=class{constructor(e){this._initializeResponseInterceptor=()=>{this.instance.interceptors.response.use(this._handleResponse,this._handleError)},this._handleResponse=e=>e,this._handleError=async e=>{let{response:s,config:t}=e;return Promise.resolve(s)},this.instance=i.Z.create({baseURL:e}),this._initializeResponseInterceptor()}},d=t(69441);class a extends n{constructor(){super("https://embarkperfumes.com/api"),this._initializeRequestInterceptor=()=>{this.instance.interceptors.request.use(this._handleRequest)},this._handleRequest=async e=>{let s=d.Z.getState().user.currentUser.accessToken;return s&&(e.headers.Authorization=s),sessionStorage.getItem("session-id")&&(e.headers["session-id"]=sessionStorage.getItem("session-id")),e},this._initializeRequestInterceptor()}callApi(e,s){return this.instance({method:s.method,url:e,headers:null!==s&&void 0!==s&&s.header?null===s||void 0===s?void 0:s.header:{},data:null!==s&&void 0!==s&&s.body?null===s||void 0===s?void 0:s.body:void 0,onUploadProgress:null!==s&&void 0!==s&&s.onUploadProgress?null===s||void 0===s?void 0:s.onUploadProgress:void 0})}}},89404:function(e,s,t){const i=new(t(65238).Z);s.Z=e=>{if(sessionStorage.getItem("session-id")&&(s=sessionStorage.getItem("session-id"),/^[0-9a-fA-F]{8}-[0-9a-fA-F]{4}-[4][0-9a-fA-F]{3}-[89ABab][0-9a-fA-F]{3}-[0-9a-fA-F]{12}$/.test(s)))i.callApi("/session/trackUserEvent",{method:"POST",body:{event:e}});else{sessionStorage.removeItem("session-id");const s=function(e){const s=new URLSearchParams(window.location.search),t={};for(const[i,n]of s)i.includes(e)&&(t[i]=n);return t}("utm");let t={method:"POST",body:{additionalDetails:s,event:e}};i.callApi("/session/createNewSession",t).then((e=>{sessionStorage.setItem("session-id",e.data.data)}))}var s}},58769:function(e,s,t){t.r(s);t(46944);var i=t(57689),n=t(11087),d=t(72791),a=t(65238),o=t(89404),l=t(80184);const r=new a.Z;s.default=()=>{const[e,s]=(0,d.useState)([]),[t,a]=(0,d.useState)([]),[c,u]=(0,d.useState)(!1),h=(0,i.s0)(),v=e=>{h("/my-account/addresses/".concat(e,"-address").concat(c?"?firstAddress=true":""))};return(0,d.useEffect)((()=>{(async()=>{const e=await r.callApi("user/getAddresses",{method:"GET"});var t,i,n,d,o;200==e.status&&(s(null===e||void 0===e||null===(t=e.data)||void 0===t||null===(i=t.data)||void 0===i?void 0:i.filter((e=>"billing"==e.addressType))),a(null===e||void 0===e||null===(n=e.data)||void 0===n||null===(d=n.data)||void 0===d?void 0:d.filter((e=>"shipping"==e.addressType))),0==(null===e||void 0===e||null===(o=e.data)||void 0===o?void 0:o.data.length)&&u(!0))})()}),[]),(0,d.useEffect)((()=>{(0,o.Z)("View Addresses")}),[]),(0,l.jsxs)("div",{style:{backgroundColor:"white"},children:[(0,l.jsx)("span",{className:"text-style",children:"The following addresses will be used on the checkout page by default."}),(0,l.jsx)("div",{className:"container-fluid",style:{backgroundColor:"white"},children:(0,l.jsxs)("div",{className:"row",style:{marginTop:"25px"},children:[(0,l.jsxs)("div",{className:"col-sm-12 col-lg-6 text-style",children:[(0,l.jsx)("span",{style:{fontSize:"30px"},children:"Billing address"}),(0,l.jsx)("br",{}),e.map((e=>(0,l.jsxs)("div",{className:"card p-2 mt-2",children:[(0,l.jsxs)("div",{className:"text-bold-md",children:[(0,l.jsx)("i",{className:"fw-bold",children:"".concat(null===e||void 0===e?void 0:e.firstName," ").concat(null===e||void 0===e?void 0:e.lastName)}),(0,l.jsx)("br",{}),(0,l.jsx)("i",{children:"".concat(null===e||void 0===e?void 0:e.streetAddress)}),(0,l.jsx)("br",{}),(null===e||void 0===e?void 0:e.landmark)&&(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)("i",{children:"".concat(null===e||void 0===e?void 0:e.landmark)}),(0,l.jsx)("br",{})]}),(0,l.jsx)("i",{children:"".concat(null===e||void 0===e?void 0:e.city," ").concat(null===e||void 0===e?void 0:e.pincode)}),(0,l.jsx)("br",{}),(0,l.jsx)("i",{children:"".concat(null===e||void 0===e?void 0:e.state)})]}),(0,l.jsx)("br",{}),(0,l.jsx)(n.rU,{className:"inline-block",to:"/my-account/addresses/billing-address?id=".concat(e.id),style:{textDecoration:"none",color:"#777777"},children:"Edit"})]}))),(0,l.jsx)("button",{className:"btn btn-dark mt-2","data-bs-toggle":"modal","data-bs-target":"#addAddress",onClick:()=>v("billing"),children:"Add New Address"})]}),(0,l.jsxs)("div",{className:"col text-style",children:[(0,l.jsx)("span",{style:{fontSize:"30px"},children:"Shipping address"}),(0,l.jsx)("br",{}),t.map((e=>(0,l.jsxs)("div",{className:"card p-2 mt-2",children:[(0,l.jsxs)("div",{className:"text-bold-md",children:[(0,l.jsx)("i",{className:"fw-bold",children:"".concat(null===e||void 0===e?void 0:e.firstName," ").concat(null===e||void 0===e?void 0:e.lastName)}),(0,l.jsx)("br",{}),(0,l.jsx)("i",{children:"".concat(null===e||void 0===e?void 0:e.streetAddress)}),(0,l.jsx)("br",{}),(null===e||void 0===e?void 0:e.landmark)&&(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)("i",{children:"".concat(null===e||void 0===e?void 0:e.landmark)}),(0,l.jsx)("br",{})]}),(0,l.jsx)("i",{children:"".concat(null===e||void 0===e?void 0:e.city," ").concat(null===e||void 0===e?void 0:e.pincode)}),(0,l.jsx)("br",{}),(0,l.jsx)("i",{children:"".concat(null===e||void 0===e?void 0:e.state)})]}),(0,l.jsx)("br",{}),(0,l.jsx)(n.rU,{className:"d-inline",to:"/my-account/addresses/shipping-address?id=".concat(e.id),style:{textDecoration:"none",color:"#777777"},children:"Edit"})]}))),(0,l.jsx)("button",{className:"btn btn-dark mt-2","data-bs-toggle":"modal","data-bs-target":"#addAddress",onClick:()=>v("shipping"),children:"Add New Address"})]})]})})]})}},46944:function(){}}]);
//# sourceMappingURL=8769.639feb44.chunk.js.map