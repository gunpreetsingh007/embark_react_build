"use strict";(self.webpackChunkembark_react=self.webpackChunkembark_react||[]).push([[366],{65238:function(e,t,s){s.d(t,{Z:function(){return p}});var r=s(74165),n=s(15861),a=s(15671),i=s(43144),o=s(60136),c=s(27277),d=s(55294),u=(0,i.Z)((function e(t){var s=this;(0,a.Z)(this,e),this._initializeResponseInterceptor=function(){s.instance.interceptors.response.use(s._handleResponse,s._handleError)},this._handleResponse=function(e){return e},this._handleError=function(){var e=(0,n.Z)((0,r.Z)().mark((function e(t){var s,n;return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return s=t.response,n=t.config,n,e.abrupt("return",Promise.resolve(s));case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),this.instance=d.Z.create({baseURL:t}),this._initializeResponseInterceptor()})),l=u,h=s(69441),p=function(e){(0,o.Z)(s,e);var t=(0,c.Z)(s);function s(){var e;return(0,a.Z)(this,s),(e=t.call(this,"https://embarkperfumes.com/api"))._initializeRequestInterceptor=function(){e.instance.interceptors.request.use(e._handleRequest)},e._handleRequest=function(){var e=(0,n.Z)((0,r.Z)().mark((function e(t){var s;return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(s=h.Z.getState().user.currentUser.accessToken)&&(t.headers.Authorization=s),sessionStorage.getItem("session-id")&&(t.headers["session-id"]=sessionStorage.getItem("session-id")),e.abrupt("return",t);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),e._initializeRequestInterceptor(),e}return(0,i.Z)(s,[{key:"callApi",value:function(e,t){return this.instance({method:t.method,url:e,headers:null!==t&&void 0!==t&&t.header?null===t||void 0===t?void 0:t.header:{},data:null!==t&&void 0!==t&&t.body?null===t||void 0===t?void 0:t.body:void 0,onUploadProgress:null!==t&&void 0!==t&&t.onUploadProgress?null===t||void 0===t?void 0:t.onUploadProgress:void 0})}}]),s}(l)},89404:function(e,t,s){var r=s(29439),n=s(37762),a=new(s(65238).Z);t.Z=function(e){if(sessionStorage.getItem("session-id")&&(i=sessionStorage.getItem("session-id"),/^[0-9a-fA-F]{8}-[0-9a-fA-F]{4}-[4][0-9a-fA-F]{3}-[89ABab][0-9a-fA-F]{3}-[0-9a-fA-F]{12}$/.test(i)))a.callApi("/session/trackUserEvent",{method:"POST",body:{event:e}});else{sessionStorage.removeItem("session-id");var t=function(e){var t,s=new URLSearchParams(window.location.search),a={},i=(0,n.Z)(s);try{for(i.s();!(t=i.n()).done;){var o=(0,r.Z)(t.value,2),c=o[0],d=o[1];c.includes(e)&&(a[c]=d)}}catch(u){i.e(u)}finally{i.f()}return a}("utm"),s={method:"POST",body:{additionalDetails:t,event:e}};a.callApi("/session/createNewSession",s).then((function(e){sessionStorage.setItem("session-id",e.data.data)}))}var i}},20366:function(e,t,s){s.r(t),s.d(t,{default:function(){return p}});var r=s(74165),n=s(15861),a=s(29439),i=(s(46944),s(57689)),o=s(72791),c=s(65238),d=s(80184),u=function(e){var t=e.photoURL,s=e.productName,r=e.productAttribute,n=e.count,a=e.realPrice,i=e.discountPrice;return(0,d.jsxs)("div",{className:"singleOrderCart-container card mt-2 mb-2",children:[(0,d.jsx)("div",{className:"product-image",children:(0,d.jsx)("img",{src:"https://embarkperfumes.com/api/"+t,alt:"product-image"})}),(0,d.jsxs)("div",{className:"product-details",children:[(0,d.jsx)("span",{children:s}),(0,d.jsx)("span",{className:"mb-4",style:{textAlign:"center"},children:r}),(0,d.jsxs)("div",{children:[(0,d.jsx)("span",{children:"Quantity :"}),(0,d.jsx)("span",{className:"card ms-2",style:{width:"2rem",height:"1.4rem",textAlign:"center"},children:n})]})]}),(0,d.jsxs)("div",{className:"price",children:[(0,d.jsxs)("del",{children:["\u20b9 ",a]}),(0,d.jsxs)("span",{children:["\u20b9 ",i]})]})]})},l=s(89404),h=new c.Z,p=function(){var e=(0,i.UO)().id,t=(0,i.s0)(),s=(0,o.useState)({}),c=(0,a.Z)(s,2),p=c[0],m=c[1],f=(0,o.useState)({}),v=(0,a.Z)(f,2),x=(v[0],v[1]),j=(0,o.useState)([]),g=(0,a.Z)(j,2),A=g[0],Z=g[1],b=(0,o.useState)(),S=(0,a.Z)(b,2),y=S[0],N=S[1],w=(0,o.useState)({}),P=(0,a.Z)(w,2),k=P[0],I=P[1],R=function(){var s=(0,n.Z)((0,r.Z)().mark((function s(){var n,a;return(0,r.Z)().wrap((function(s){for(;;)switch(s.prev=s.next){case 0:return n={method:"GET"},s.prev=1,s.next=4,h.callApi("/user/getOrderById/".concat(e),n);case 4:200==(a=s.sent).status?(m(a.data.data.addressDetails.shippingAddress),x(a.data.data.addressDetails.billingAddress),N(a.data.data.orderStatus),Z(a.data.data.orderDetails),I({totalAmount:a.data.data.orderTotalAmount,deliveryCharges:a.data.data.deliveryCharges,orderAmount:a.data.data.orderAmount,orderAmountWithoutDiscount:a.data.data.orderAmountWithoutDiscount})):t("*"),s.next=11;break;case 8:s.prev=8,s.t0=s.catch(1),console.error("Something went wrong");case 11:case"end":return s.stop()}}),s,null,[[1,8]])})));return function(){return s.apply(this,arguments)}}();return(0,o.useEffect)((function(){e&&R()}),[]),(0,o.useEffect)((function(){(0,l.Z)("View Single Order")}),[]),(0,d.jsxs)("div",{className:"single-order-container",children:[(0,d.jsxs)("div",{className:"first-section",children:[(0,d.jsxs)("div",{children:[(0,d.jsx)("h3",{children:"Delivery Address"}),(0,d.jsx)("span",{children:p.firstName+" "+p.lastName}),(0,d.jsx)("br",{}),(0,d.jsx)("span",{children:p.streetAddress+", "+p.city+"-"+p.pincode+", "+p.state+", "+p.country}),(0,d.jsx)("br",{}),(0,d.jsxs)("span",{children:["Phone number : ",p.contact]})]}),(0,d.jsxs)("div",{className:"order-status",children:[(0,d.jsx)("h3",{children:"Order Status"}),(0,d.jsx)("span",{className:"mt-2",children:y}),(0,d.jsx)("br",{})]})]}),(0,d.jsxs)("div",{className:"second-section mt-5",children:[(0,d.jsx)("h4",{children:"Product Details"}),A.map((function(e){return(0,d.jsx)(u,{photoURL:e.productImage,productName:e.productName,productAttribute:Object.values(e.attributeCombination)[0],count:e.count,realPrice:e.productPrice,discountPrice:e.productDiscountPrice})}))]}),(0,d.jsxs)("div",{className:"third-section mt-5",children:[(0,d.jsx)("h4",{children:"Price Details"}),(0,d.jsxs)("div",{className:"price-details ms-3",children:[(0,d.jsxs)("span",{children:["List price : \u20b9 ",k.orderAmountWithoutDiscount]}),(0,d.jsxs)("span",{children:["Selling price : \u20b9 ",k.orderAmount]}),(0,d.jsxs)("span",{children:["Shipping fee : \u20b9 ",k.deliveryCharges]}),(0,d.jsxs)("span",{children:["Total Amount : \u20b9 ",k.totalAmount]})]})]})]})}},46944:function(){}}]);
//# sourceMappingURL=366.7884a406.chunk.js.map