"use strict";(self.webpackChunkembark_react=self.webpackChunkembark_react||[]).push([[2669],{65238:function(e,s,t){t.d(s,{Z:function(){return a}});var r=t(55294);var n=class{constructor(e){this._initializeResponseInterceptor=()=>{this.instance.interceptors.response.use(this._handleResponse,this._handleError)},this._handleResponse=e=>e,this._handleError=async e=>{let{response:s,config:t}=e;return Promise.resolve(s)},this.instance=r.Z.create({baseURL:e}),this._initializeResponseInterceptor()}},o=t(69441);class a extends n{constructor(){super("https://embarkperfumes.com/api"),this._initializeRequestInterceptor=()=>{this.instance.interceptors.request.use(this._handleRequest)},this._handleRequest=async e=>{let s=o.Z.getState().user.currentUser.accessToken;return s&&(e.headers.Authorization=s),sessionStorage.getItem("session-id")&&(e.headers["session-id"]=sessionStorage.getItem("session-id")),e},this._initializeRequestInterceptor()}callApi(e,s){return this.instance({method:s.method,url:e,headers:null!==s&&void 0!==s&&s.header?null===s||void 0===s?void 0:s.header:{},data:null!==s&&void 0!==s&&s.body?null===s||void 0===s?void 0:s.body:void 0,onUploadProgress:null!==s&&void 0!==s&&s.onUploadProgress?null===s||void 0===s?void 0:s.onUploadProgress:void 0})}}},89404:function(e,s,t){const r=new(t(65238).Z);s.Z=e=>{if(sessionStorage.getItem("session-id")&&(s=sessionStorage.getItem("session-id"),/^[0-9a-fA-F]{8}-[0-9a-fA-F]{4}-[4][0-9a-fA-F]{3}-[89ABab][0-9a-fA-F]{3}-[0-9a-fA-F]{12}$/.test(s)))r.callApi("/session/trackUserEvent",{method:"POST",body:{event:e}});else{sessionStorage.removeItem("session-id");const s=function(e){const s=new URLSearchParams(window.location.search),t={};for(const[r,n]of s)r.includes(e)&&(t[r]=n);return t}("utm");let t={method:"POST",body:{additionalDetails:s,event:e}};r.callApi("/session/createNewSession",t).then((e=>{sessionStorage.setItem("session-id",e.data.data)}))}var s}},52669:function(e,s,t){t.r(s),t.d(s,{default:function(){return h}});t(46944);var r=t(72426),n=t.n(r),o=t(57689),a=t(80184);const i=e=>{const s=(0,o.s0)(),{id:t,totalPrice:r,orderStatus:i,orderDetails:c,date:d}=e;return(0,a.jsxs)("div",{className:"order-container-wrapper card p-3",onClick:()=>{s("/my-account/orders/".concat(t))},children:[(0,a.jsx)("div",{children:n()(d).format("MMMM Do YYYY")}),(0,a.jsxs)("div",{className:"row order-cart-container",children:[(0,a.jsx)("div",{className:"col-sm-12 col-lg-4 product-details-section",children:c.map((e=>(0,a.jsx)(a.Fragment,{children:(0,a.jsxs)("span",{children:[e.productName,1!=e.count?(0,a.jsxs)(a.Fragment,{children:["\xd7",e.count]}):""]})})))}),(0,a.jsx)("div",{className:"col-sm-12 col-lg-4 product-price-section",children:(0,a.jsx)("div",{className:"product-price",children:(0,a.jsx)("div",{children:(0,a.jsxs)("span",{className:"amount",children:[(0,a.jsx)("span",{className:"Price-currencySymbol",children:"\u20b9"}),r]})})})}),(0,a.jsx)("div",{className:"col-sm-12 col-lg-4 product-status-section",children:(0,a.jsx)("div",{className:"product-status",children:(0,a.jsx)("span",{children:i})})})]})]},t)};var c=t(72791),d=t(65238),l=t(89404);const u=new d.Z;var h=()=>{const[e,s]=(0,c.useState)([]);return(0,c.useEffect)((()=>{(async()=>{const e={method:"GET"};try{const t=await u.callApi("/user/getAllOrders",e);200==t.status&&s(t.data.data)}catch(t){console.error("Something went wrong")}})()}),[]),(0,c.useEffect)((()=>{(0,l.Z)("My Orders")}),[]),(0,a.jsx)("div",{className:".container-fluid",style:{backgroundColor:"white"},children:0==e.length?(0,a.jsx)("span",{className:"text-style order-msg",children:"No order has been made yet."}):e.map((e=>(0,a.jsx)(i,{id:e.id,totalPrice:e.orderTotalAmount,orderStatus:e.orderStatus,orderDetails:e.orderDetails,date:e.placedAt})))})}},46944:function(){}}]);
//# sourceMappingURL=2669.17792c4e.chunk.js.map