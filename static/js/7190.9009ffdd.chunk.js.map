{"version":3,"file":"static/js/7190.9009ffdd.chunk.js","mappings":"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","sources":["helpers/trackUserEvent.js","screens/MyAccount/editAccount.jsx","screens/MyAccount/validation.js"],"sourcesContent":["import Axios from \"../api/Axios\";\r\n\r\nconst axios = new Axios();\r\n\r\nconst trackUserEvent = (event) => {\r\n    if (sessionStorage.getItem(\"session-id\") && isValidUUID(sessionStorage.getItem(\"session-id\"))) {\r\n        axios.callApi(\"/session/trackUserEvent\", {\r\n            method: \"POST\",\r\n            body: {\r\n                event\r\n            }\r\n        })\r\n    }\r\n    else {\r\n        sessionStorage.removeItem('session-id');\r\n        const keyword = 'utm'; // The keyword you want to match\r\n        const matchingParams = getParamsMatchingKeyword(keyword);\r\n        let options = {\r\n            method: \"POST\",\r\n            body: {\r\n                additionalDetails: matchingParams,\r\n                event\r\n            }\r\n        }\r\n        axios.callApi(\"/session/createNewSession\", options).then((result) => {\r\n            sessionStorage.setItem('session-id', result.data.data)\r\n        })\r\n    }\r\n    if(event != \"Add To Cart\"){\r\n        axios.callApi(\"/session/sendFacebookConversionEvent\",{\r\n            method: \"POST\",\r\n            body: {\r\n                eventType: \"PageViewEvent\",\r\n                source_url: window.location.href\r\n            }\r\n        })\r\n    }\r\n    else{\r\n        axios.callApi(\"/session/sendFacebookConversionEvent\",{\r\n            method: \"POST\",\r\n            body: {\r\n                eventType: \"AddToCartEvent\",\r\n                source_url: window.location.href\r\n            }\r\n        })\r\n    }\r\n}\r\n\r\nfunction getParamsMatchingKeyword(keyword) {\r\n    const params = new URLSearchParams(window.location.search);\r\n    const matchingParams = {};\r\n\r\n    for (const [key, value] of params) {\r\n        if (key.includes(keyword)) {\r\n            matchingParams[key] = value;\r\n        }\r\n    }\r\n\r\n    return matchingParams;\r\n}\r\n\r\nfunction isValidUUID(uuid) {\r\n    const uuidPattern = /^[0-9a-fA-F]{8}-[0-9a-fA-F]{4}-[4][0-9a-fA-F]{3}-[89ABab][0-9a-fA-F]{3}-[0-9a-fA-F]{12}$/;\r\n    return uuidPattern.test(uuid);\r\n}\r\n\r\nexport default trackUserEvent","import { useEffect, useState } from \"react\";\nimport { editAccountValidation } from './validation'\nimport Axios from \"../../api/Axios\";\nimport { useNavigate, useOutletContext } from 'react-router-dom';\nimport trackUserEvent from \"../../helpers/trackUserEvent\";\n\nconst axios = new Axios();\n\nconst EditAccount = () => {\n\n  const navigate = useNavigate();\n  const userData = useOutletContext()\n  const [error, setError] = useState({\n    firstName: false,\n    lastName: false,\n    email: false,\n    // username: false,\n    confirmPassword: false,\n    message: \"\"\n  });\n\n  const [data, setData] = useState({\n    firstName: \"\",\n    lastName: \"\",\n    // username: \"\",\n    email: \"\",\n    currentPassword: \"\",\n    newPassword: \"\",\n    confirmPassword: \"\"\n  });\n\n  // const [isUsernameTaken, setIsUsernameTaken] = useState(false)\n  // const [actualUsername, setActualUsername] = useState(\"\")\n  const onChange = (value, target) => {\n    setData({\n      ...data,\n      [target]: value,\n    });\n    if (error.email === true || error.confirmPassword === true || error.firstName === true || error.lastName === true) {\n      setError({\n        ...error,\n        [target]: false\n      })\n    }\n  };\n\n  // const checkUsername = async () => {\n  //   const options = {\n  //     method: \"GET\",\n  //   }\n  //   if (data.username) {\n  //     const result = await axios.callApi(`auth/checkByUsername/${data.username}`, options)\n  //     if (result.data.usernameExists) {\n  //       setError({ ...error, username: true })\n  //       setIsUsernameTaken(true)\n  //     }\n  //     else {\n  //       setError({ ...error, username: false })\n  //       setIsUsernameTaken(false)\n  //     }\n  //   }\n  //   else {\n  //     setError({ ...error, username: false })\n  //     setIsUsernameTaken(false)\n  //   }\n\n  // }\n\n  const getUserAccountDetails = () => {\n    setData({ ...data, ...userData })\n    // setActualUsername(userData.username)\n  }\n  \n  const handleSubmit = async (e) => {\n    try {\n      e.preventDefault()\n      const valid = editAccountValidation(data)\n      if (!(data.newPassword === data.confirmPassword)) {\n        valid[\"confirmPassword\"] = true\n      }\n      // data.username && !isUsernameTaken ? setError(valid) : setError({ ...valid, username: true })\n      setError(valid)\n      if (valid.firstName || valid.lastName || valid.email || valid.confirmPassword) {\n        return\n      }\n      const options = {\n        method: \"POST\",\n        body: data\n      }\n      const result = await axios.callApi(`user/updateUser`, options)\n      if (result.status == 200) {\n        navigate(\"/\")\n      }\n    }\n    catch (error) {\n      console.error(\"Something went wrong\")\n    }\n  }\n\n  // useEffect(() => {\n  //   const typingTimer = setTimeout(() => {\n  //     if (actualUsername != data.username.trim())\n  //       checkUsername(data.username)\n  //   }, 1000);\n\n  //   return () => {\n  //     clearTimeout(typingTimer)\n  //   }\n  // }, [data.username])\n\n  useEffect(() => {\n    getUserAccountDetails()\n  }, [userData])\n\n  useEffect(() => {\n    trackUserEvent(\"Edit Account\")\n  },[])\n\n  return (\n    <div className=\"edit-account-container container-fluid\" style={{ backgroundColor: \"white\" }}>\n      <form>\n        <div className=\"row\" style={{ marginTop: \"25px\" }}>\n          <div className='col-lg-6 col-sm-12 form-group mb-2'>\n            <label htmlFor=\"firstName\" className='form-label'>First Name</label>\n            <input type=\"text\" id='firstName' className={`form-control ${error.firstName ? \"errorInputField\" : \"\"}`} required onChange={e => onChange(e.target.value, 'firstName')} value={data.firstName} />\n            {error.firstName && <div className='error'>\n              Please enter your first name\n            </div>}\n          </div>\n          <div className='col-lg-6 col-sm-12 form-group mb-2'>\n            <label htmlFor=\"lastName\" className='form-label'>Last Name</label>\n            <input type=\"text\" id='lastName' className={`form-control ${error.lastName ? \"errorInputField\" : \"\"}`} required onChange={e => onChange(e.target.value, 'lastName')} value={data.lastName} />\n            {error.lastName && <div className='error'>\n              Please enter your last name\n            </div>}\n          </div>\n        </div>\n        {/* <div className='form-group mb-2'>\n          <label htmlFor=\"username\" className='form-label'>Username</label>\n          <input type=\"text\" id='username' className={`form-control ${error.username ? \"errorInputField\" : \"\"}`} required onChange={e => onChange(e.target.value, 'username')} value={data.username} />\n          {error.username && <div className='error'>\n            {isUsernameTaken ? \"Username already use\" : \"Please enter your username\"}\n          </div>}\n        </div>\n        <i className=\"text-style\">This will be how your name will be displayed in the account section and in reviews</i> */}\n        <div className='form-group mb-2'>\n          <label htmlFor=\"email\" className='form-label'>Email Address</label>\n          <input type=\"email\" id='email' className={`form-control ${error.email ? \"errorInputField\" : \"\"}`} required onChange={e => onChange(e.target.value, 'email')} value={data.email} />\n          {error.email && <div className='error'>\n            {error.message ? \"Please enter a valid email\" : \"Please enter your email\"}\n          </div>}\n        </div>\n        <span className=\"text-style\" style={{ margin: \"15px 0px\", display: \"inline-block\" }}>PASSWORD CHANGE</span>\n        <div className='form-group mb-2'>\n          <label htmlFor=\"current password\" className='form-label'>Current password (leave blank to leave unchanged)</label>\n          <input type=\"password\" id='current password' className={`form-control`} required onChange={e => onChange(e.target.value, 'currentPassword')} />\n          {/* {error.password && <div className='error'>\n            Please enter your password\n          </div>} */}\n        </div>\n        <div className='form-group mb-2'>\n          <label htmlFor=\"new password\" className='form-label'>New password (leave blank to leave unchanged) </label>\n          <input type=\"password\" id='new password' className={`form-control`} required onChange={e => onChange(e.target.value, 'newPassword')} />\n          {/* {error.password && <div className='error'>\n            Please enter your password\n          </div>} */}\n        </div>\n        <div className='form-group mb-2'>\n          <label htmlFor=\"confirm password\" className='form-label'>Confirm new password</label>\n          <input type=\"password\" id='confirm password' className={`form-control ${error.confirmPassword ? \"errorInputField\" : \"\"}`} required onChange={e => onChange(e.target.value, 'confirmPassword')} />\n          {error.confirmPassword && <div className='error'>\n            Passwords do not match\n          </div>}\n        </div>\n        <button className='btn btn-dark mt-5 mb-2' onClick={e => handleSubmit(e)}>SAVE CHANGES</button>\n      </form>\n    </div>\n  )\n}\n\nexport default EditAccount\n","export const editAccountValidation = (data) => {\n  const { firstName, lastName, email } = data;\n  var errorVal = {\n    firstName: false,\n    lastName: false,\n    email: false,\n    message: \"\"\n  }\n\n  if (!firstName) {\n    errorVal[\"firstName\"] = true\n  }\n  if (!lastName) {\n    errorVal[\"lastName\"] = true\n  }\n  if (!email) {\n    errorVal[\"email\"] = true\n  }\n  if (email && !(/\\S+@\\S+\\.\\S+/.test(email))) {\n    errorVal[\"email\"] = true\n    errorVal[\"message\"] = \"invalid email\"\n  }\n  return errorVal\n};\n\nexport const editAddressValidation = (data) => {\n  const { firstName, lastName, email, state, streetAddress, city, postcode, phone } = data;\n  var errorVal = {\n    firstName: false,\n    lastName: false,\n    email: false,\n    state: false,\n    streetAddress: false,\n    city: false,\n    postcode: false,\n    phone: false,\n    message: \"\"\n  }\n\n  if (!firstName) {\n    errorVal[\"firstName\"] = true\n  }\n  if (!lastName) {\n    errorVal[\"lastName\"] = true\n  }\n  if (!email) {\n    errorVal[\"email\"] = true\n  }\n  if (email && !(/\\S+@\\S+\\.\\S+/.test(email))) {\n    errorVal[\"email\"] = true\n    errorVal[\"message\"] = \"invalid email\"\n  }\n  // if (!country) {\n  //   errorVal[\"country\"] = true\n  // }\n  if (!state) {\n    errorVal[\"state\"] = true\n  }\n  if (!streetAddress) {\n    errorVal[\"streetAddress\"] = true\n  }\n  if (!city) {\n    errorVal[\"city\"] = true\n  }\n  if (!postcode) {\n    errorVal[\"postcode\"] = true\n  }\n  if (!phone) {\n    errorVal[\"phone\"] = true\n  }\n  if (phone && phone.length != 10) {\n    errorVal[\"phone\"] = true\n  }\n  return errorVal\n};"],"names":["axios","Axios","event","sessionStorage","getItem","uuid","test","callApi","method","body","removeItem","matchingParams","keyword","params","URLSearchParams","window","location","search","key","value","includes","getParamsMatchingKeyword","options","additionalDetails","then","result","setItem","data","eventType","source_url","href","EditAccount","navigate","useNavigate","userData","useOutletContext","error","setError","useState","firstName","lastName","email","confirmPassword","message","setData","currentPassword","newPassword","onChange","target","useEffect","trackUserEvent","_jsx","className","style","backgroundColor","children","_jsxs","marginTop","htmlFor","type","id","concat","required","e","margin","display","onClick","async","preventDefault","valid","editAccountValidation","status","console","handleSubmit","errorVal","editAddressValidation","state","streetAddress","city","postcode","phone","length"],"sourceRoot":""}