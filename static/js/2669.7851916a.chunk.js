"use strict";(self.webpackChunkembark_react=self.webpackChunkembark_react||[]).push([[2669],{65238:function(e,n,t){t.d(n,{Z:function(){return f}});var r=t(74165),s=t(15861),a=t(15671),i=t(43144),o=t(60136),c=t(27277),u=t(74569),d=t.n(u),l=(0,i.Z)((function e(n){var t=this;(0,a.Z)(this,e),this._initializeResponseInterceptor=function(){t.instance.interceptors.response.use(t._handleResponse,t._handleError)},this._handleResponse=function(e){return e},this._handleError=function(){var e=(0,s.Z)((0,r.Z)().mark((function e(n){var t,s;return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=n.response,s=n.config,s,e.abrupt("return",Promise.resolve(t));case 3:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}(),this.instance=d().create({baseURL:n}),this._initializeResponseInterceptor()})),h=l,p=t(69441),f=function(e){(0,o.Z)(t,e);var n=(0,c.Z)(t);function t(){var e;return(0,a.Z)(this,t),(e=n.call(this,"http://localhost:8085/api"))._initializeRequestInterceptor=function(){e.instance.interceptors.request.use(e._handleRequest)},e._handleRequest=function(){var e=(0,s.Z)((0,r.Z)().mark((function e(n){var t;return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(t=p.Z.getState().user.currentUser.accessToken)&&(n.headers.Authorization=t),sessionStorage.getItem("session-id")&&(n.headers["session-id"]=sessionStorage.getItem("session-id")),e.abrupt("return",n);case 4:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}(),e._initializeRequestInterceptor(),e}return(0,i.Z)(t,[{key:"callApi",value:function(e,n){return this.instance({method:n.method,url:e,headers:null!==n&&void 0!==n&&n.header?null===n||void 0===n?void 0:n.header:{},data:null!==n&&void 0!==n&&n.body?null===n||void 0===n?void 0:n.body:void 0,onUploadProgress:null!==n&&void 0!==n&&n.onUploadProgress?null===n||void 0===n?void 0:n.onUploadProgress:void 0})}}]),t}(h)},89404:function(e,n,t){var r=t(29439),s=t(37762),a=new(t(65238).Z);n.Z=function(e){if(sessionStorage.getItem("session-id")&&(i=sessionStorage.getItem("session-id"),/^[0-9a-fA-F]{8}-[0-9a-fA-F]{4}-[4][0-9a-fA-F]{3}-[89ABab][0-9a-fA-F]{3}-[0-9a-fA-F]{12}$/.test(i)))a.callApi("/session/trackUserEvent",{method:"POST",body:{event:e}});else{sessionStorage.removeItem("session-id");var n=function(e){var n,t=new URLSearchParams(window.location.search),a={},i=(0,s.Z)(t);try{for(i.s();!(n=i.n()).done;){var o=(0,r.Z)(n.value,2),c=o[0],u=o[1];c.includes(e)&&(a[c]=u)}}catch(d){i.e(d)}finally{i.f()}return a}("utm"),t={method:"POST",body:{additionalDetails:n,event:e}};a.callApi("/session/createNewSession",t).then((function(e){sessionStorage.setItem("session-id",e.data.data)}))}var i}},52669:function(e,n,t){t.r(n),t.d(n,{default:function(){return v}});var r=t(74165),s=t(15861),a=t(29439),i=(t(46944),t(72426)),o=t.n(i),c=t(57689),u=t(80184),d=function(e){var n=(0,c.s0)(),t=e.id,r=e.totalPrice,s=e.orderStatus,a=e.orderDetails,i=e.date;return(0,u.jsxs)("div",{className:"order-container-wrapper card p-3",onClick:function(){n("/my-account/orders/".concat(t))},children:[(0,u.jsx)("div",{children:o()(i).format("MMMM Do YYYY")}),(0,u.jsxs)("div",{className:"row order-cart-container",children:[(0,u.jsx)("div",{className:"col-sm-12 col-lg-4 product-details-section",children:a.map((function(e){return(0,u.jsx)(u.Fragment,{children:(0,u.jsxs)("span",{children:[e.productName,1!=e.count?(0,u.jsxs)(u.Fragment,{children:["\xd7",e.count]}):""]})})}))}),(0,u.jsx)("div",{className:"col-sm-12 col-lg-4 product-price-section",children:(0,u.jsx)("div",{className:"product-price",children:(0,u.jsx)("div",{children:(0,u.jsxs)("span",{className:"amount",children:[(0,u.jsx)("span",{className:"Price-currencySymbol",children:"\u20b9"}),r]})})})}),(0,u.jsx)("div",{className:"col-sm-12 col-lg-4 product-status-section",children:(0,u.jsx)("div",{className:"product-status",children:(0,u.jsx)("span",{children:s})})})]})]},t)},l=t(72791),h=t(65238),p=t(89404),f=new h.Z,v=function(){var e=(0,l.useState)([]),n=(0,a.Z)(e,2),t=n[0],i=n[1],o=function(){var e=(0,s.Z)((0,r.Z)().mark((function e(){var n,t;return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n={method:"GET"},e.prev=1,e.next=4,f.callApi("/user/getAllOrders",n);case 4:200==(t=e.sent).status&&i(t.data.data),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(1),console.error("Something went wrong");case 11:case"end":return e.stop()}}),e,null,[[1,8]])})));return function(){return e.apply(this,arguments)}}();return(0,l.useEffect)((function(){o()}),[]),(0,l.useEffect)((function(){(0,p.Z)("My Orders")}),[]),(0,u.jsx)("div",{className:".container-fluid",style:{backgroundColor:"white"},children:0==t.length?(0,u.jsx)("span",{className:"text-style order-msg",children:"No order has been made yet."}):t.map((function(e){return(0,u.jsx)(d,{id:e.id,totalPrice:e.orderTotalAmount,orderStatus:e.orderStatus,orderDetails:e.orderDetails,date:e.placedAt})}))})}},46944:function(){}}]);
//# sourceMappingURL=2669.7851916a.chunk.js.map