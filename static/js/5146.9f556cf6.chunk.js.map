{"version":3,"file":"static/js/5146.9f556cf6.chunk.js","mappings":"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","sources":["helpers/trackUserEvent.js","helpers/triggerSwalAlert.js","screens/ResetPassword/index.jsx","screens/ResetPassword/validation.js"],"sourcesContent":["import Axios from \"../api/Axios\";\r\n\r\nconst axios = new Axios();\r\n\r\nconst trackUserEvent = (event) => {\r\n    if (sessionStorage.getItem(\"session-id\") && isValidUUID(sessionStorage.getItem(\"session-id\"))) {\r\n        axios.callApi(\"/session/trackUserEvent\", {\r\n            method: \"POST\",\r\n            body: {\r\n                event\r\n            }\r\n        })\r\n    }\r\n    else {\r\n        sessionStorage.removeItem('session-id');\r\n        const keyword = 'utm'; // The keyword you want to match\r\n        const matchingParams = getParamsMatchingKeyword(keyword);\r\n        let options = {\r\n            method: \"POST\",\r\n            body: {\r\n                additionalDetails: matchingParams,\r\n                event\r\n            }\r\n        }\r\n        axios.callApi(\"/session/createNewSession\", options).then((result) => {\r\n            sessionStorage.setItem('session-id', result.data.data)\r\n        })\r\n    }\r\n    if(event != \"Add To Cart\"){\r\n        axios.callApi(\"/session/sendFacebookConversionEvent\",{\r\n            method: \"POST\",\r\n            body: {\r\n                eventType: \"PageViewEvent\",\r\n                source_url: window.location.href\r\n            }\r\n        })\r\n    }\r\n    else{\r\n        axios.callApi(\"/session/sendFacebookConversionEvent\",{\r\n            method: \"POST\",\r\n            body: {\r\n                eventType: \"AddToCartEvent\",\r\n                source_url: window.location.href\r\n            }\r\n        })\r\n    }\r\n}\r\n\r\nfunction getParamsMatchingKeyword(keyword) {\r\n    const params = new URLSearchParams(window.location.search);\r\n    const matchingParams = {};\r\n\r\n    for (const [key, value] of params) {\r\n        if (key.includes(keyword)) {\r\n            matchingParams[key] = value;\r\n        }\r\n    }\r\n\r\n    return matchingParams;\r\n}\r\n\r\nfunction isValidUUID(uuid) {\r\n    const uuidPattern = /^[0-9a-fA-F]{8}-[0-9a-fA-F]{4}-[4][0-9a-fA-F]{3}-[89ABab][0-9a-fA-F]{3}-[0-9a-fA-F]{12}$/;\r\n    return uuidPattern.test(uuid);\r\n}\r\n\r\nexport default trackUserEvent","import Swal from 'sweetalert2'\nimport withReactContent from 'sweetalert2-react-content'\nconst MySwal = withReactContent(Swal)\n\n\nconst triggerSwalAlert = async (title, message, type)=>{\n    return MySwal.fire({\n      title: <strong>{title}</strong>,\n      html: <p>{message}</p>,\n      icon: type\n    })\n}\n\nexport default triggerSwalAlert","import { useState, useEffect } from \"react\";\nimport \"./index.css\"\nimport { validation } from \"./validation\"\nimport { useNavigate, useParams } from \"react-router-dom\";\nimport Axios from '../../api/Axios';\nimport triggerSwalAlert from \"../../helpers/triggerSwalAlert\";\nimport Loader from \"../../components/Loader\";\nimport trackUserEvent from \"../../helpers/trackUserEvent\";\n\nconst axios = new Axios();\n\nconst ResetPassword = () => {\n\n    const { token } = useParams()\n\n    const [pending, setPending] = useState(false)\n\n    const navigator = useNavigate()\n\n    const [error, setError] = useState({\n        email: false,\n        confirmPassword: false,\n        message: \"\"\n    });\n\n    const [data, setData] = useState({\n        email: \"\",\n        newPassword: \"\",\n        confirmPassword: \"\"\n    });\n\n    const onChange = (value, target) => {\n        setData({\n            ...data,\n            [target]: value,\n        });\n        if (error.email === true || error.confirmPassword === true || error.newPassword === true) {\n            setError({\n                ...error,\n                [target]: false\n            })\n        }\n    };\n\n    const handleResetPassword = async (e) => {\n        e.preventDefault()\n        const valid = validation(data)\n        if (!(data.newPassword === data.confirmPassword)) {\n            valid[\"confirmPassword\"] = true\n        }\n        setError(valid)\n        if (valid.email || valid.confirmPassword || valid.newPassword) {\n            return\n        }\n        try {\n            const options = {\n                method: \"POST\",\n                body: { ...data, token }\n            }\n            setPending(true)\n            const result = await axios.callApi(`auth/resetPassword`, options)\n            if (result.status == 200){\n                setPending(false)\n                navigator(\"/sign-in\")\n                triggerSwalAlert(\"Success\", \"Password has been reset\", \"success\")\n            }\n            else{\n                setPending(false)\n                triggerSwalAlert(\"Failure\", \"Error in changing password\", \"error\")\n            }\n        }\n        catch (error) {\n            console.error(\"Something went wrong\")\n        }\n    }\n\n    const verifyToken = async () => {\n        try {\n            const options = {\n                method: \"POST\",\n                body: { token }\n            }\n            const result = await axios.callApi(`auth/verifyForgetToken`, options)\n            if (result.status == 200) {\n                setData({ ...data, email: result.data.data.email })\n            }\n            else\n                navigator(\"*\")\n        }\n        catch (error) {\n            console.error(\"Something went wrong\")\n        }\n    }\n    useEffect(() => {\n        verifyToken()\n    }, [])\n\n    useEffect(() => {\n        trackUserEvent(\"Reset Password\")\n    },[])\n\n    return (\n        <>\n        {pending ? <Loader/> : null}\n        <div className='resetPassword-wrapper bg-dark d-flex align-item-center justify-content-center w-100'>\n            <div className='resetPassword'>\n                <h2 className='mb-3'>Reset Passowrd</h2>\n                <form>\n                    <div className='form-group mb-2'>\n                        <label htmlFor=\"email\" className='form-label'>Email Address</label>\n                        <input disabled id='email' className={`form-control ${error.email && \"errorInputField\"}`} required onChange={e => onChange(e.target.value, 'email')} value={data.email} />\n                        {error.email && <div className='error'>\n                            {error.message ? \"Please enter a valid email\" : \"Please enter your email\"}\n                        </div>}\n                    </div>\n                    <div className='form-group mb-2'>\n                        <label htmlFor=\"new password\" className='form-label'>New password</label>\n                        <input type=\"password\" id='new password' className={`form-control ${error.newPassword ? \"errorInputField\" : \"\"}`} required onChange={e => onChange(e.target.value, 'newPassword')} />\n                        {error.newPassword && <div className='error'>\n                            Please enter a password\n                        </div>}\n                    </div>\n                    <div className='form-group mb-2'>\n                        <label htmlFor=\"confirm password\" className='form-label'>Confirm new password</label>\n                        <input type=\"password\" id='confirm password' className={`form-control ${error.confirmPassword ? \"errorInputField\" : \"\"}`} required onChange={e => onChange(e.target.value, 'confirmPassword')} />\n                        {error.confirmPassword && <div className='error'>\n                            Passwords do not match\n                        </div>}\n                    </div>\n                    <button className='btn btn-dark w-100 mt-2' onClick={e => handleResetPassword(e)}>RESET PASSWORD</button>\n                </form>\n            </div>\n        </div>\n        </>\n    )\n}\n\nexport default ResetPassword\n","export const validation = (data) => {\n  const { email, newPassword } = data;\n  var errorVal = {\n    email: false,\n    newPassword: false,\n    message: \"\"\n  }\n  if (!email) {\n    errorVal[\"email\"] = true\n  }\n  if (email && !(/\\S+@\\S+\\.\\S+/.test(email))) {\n    errorVal[\"email\"] = true\n    errorVal[\"message\"] = \"invalid email\"\n  }\n  if (!newPassword) {\n    errorVal[\"newPassword\"] = true\n  }\n  return errorVal\n};\n"],"names":["axios","Axios","event","sessionStorage","getItem","uuid","test","callApi","method","body","removeItem","matchingParams","keyword","params","URLSearchParams","window","location","search","key","value","includes","getParamsMatchingKeyword","options","additionalDetails","then","result","setItem","data","eventType","source_url","href","MySwal","withReactContent","Swal","async","title","message","type","fire","_jsx","children","html","icon","ResetPassword","token","useParams","pending","setPending","useState","navigator","useNavigate","error","setError","email","confirmPassword","setData","newPassword","onChange","target","useEffect","status","console","verifyToken","trackUserEvent","_jsxs","_Fragment","Loader","className","htmlFor","disabled","id","concat","required","e","onClick","preventDefault","valid","errorVal","validation","triggerSwalAlert","handleResetPassword"],"sourceRoot":""}