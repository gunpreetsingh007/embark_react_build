"use strict";(self.webpackChunkembark_react=self.webpackChunkembark_react||[]).push([[366],{65238:function(e,s,t){t.d(s,{Z:function(){return n}});var r=t(55294);var i=class{constructor(e){this._initializeResponseInterceptor=()=>{this.instance.interceptors.response.use(this._handleResponse,this._handleError)},this._handleResponse=e=>e,this._handleError=async e=>{let{response:s,config:t}=e;return Promise.resolve(s)},this.instance=r.Z.create({baseURL:e}),this._initializeResponseInterceptor()}},a=t(69441);class n extends i{constructor(){super("https://embarkperfumes.com/api"),this._initializeRequestInterceptor=()=>{this.instance.interceptors.request.use(this._handleRequest)},this._handleRequest=async e=>{let s=a.Z.getState().user.currentUser.accessToken;return s&&(e.headers.Authorization=s),sessionStorage.getItem("session-id")&&(e.headers["session-id"]=sessionStorage.getItem("session-id")),e},this._initializeRequestInterceptor()}callApi(e,s){return this.instance({method:s.method,url:e,headers:null!==s&&void 0!==s&&s.header?null===s||void 0===s?void 0:s.header:{},data:null!==s&&void 0!==s&&s.body?null===s||void 0===s?void 0:s.body:void 0,onUploadProgress:null!==s&&void 0!==s&&s.onUploadProgress?null===s||void 0===s?void 0:s.onUploadProgress:void 0})}}},89404:function(e,s,t){const r=new(t(65238).Z);s.Z=e=>{if(sessionStorage.getItem("session-id")&&(s=sessionStorage.getItem("session-id"),/^[0-9a-fA-F]{8}-[0-9a-fA-F]{4}-[4][0-9a-fA-F]{3}-[89ABab][0-9a-fA-F]{3}-[0-9a-fA-F]{12}$/.test(s)))r.callApi("/session/trackUserEvent",{method:"POST",body:{event:e}});else{sessionStorage.removeItem("session-id");const s=function(e){const s=new URLSearchParams(window.location.search),t={};for(const[r,i]of s)r.includes(e)&&(t[r]=i);return t}("utm");let t={method:"POST",body:{additionalDetails:s,event:e}};r.callApi("/session/createNewSession",t).then((e=>{sessionStorage.setItem("session-id",e.data.data)}))}var s}},20366:function(e,s,t){t.r(s),t.d(s,{default:function(){return l}});t(46944);var r=t(57689),i=t(72791),a=t(65238),n=t(80184);const o=e=>{const{photoURL:s,productName:t,productAttribute:r,count:i,realPrice:a,discountPrice:o}=e;return(0,n.jsxs)("div",{className:"singleOrderCart-container card mt-2 mb-2",children:[(0,n.jsx)("div",{className:"product-image",children:(0,n.jsx)("img",{src:"https://embarkperfumes.com/api/"+s,alt:"product-image"})}),(0,n.jsxs)("div",{className:"product-details",children:[(0,n.jsx)("span",{children:t}),(0,n.jsx)("span",{className:"mb-4",style:{textAlign:"center"},children:r}),(0,n.jsxs)("div",{children:[(0,n.jsx)("span",{children:"Quantity :"}),(0,n.jsx)("span",{className:"card ms-2",style:{width:"2rem",height:"1.4rem",textAlign:"center"},children:i})]})]}),(0,n.jsxs)("div",{className:"price",children:[(0,n.jsxs)("del",{children:["\u20b9 ",a]}),(0,n.jsxs)("span",{children:["\u20b9 ",o]})]})]})};var d=t(89404);const c=new a.Z;var l=()=>{const{id:e}=(0,r.UO)(),s=(0,r.s0)(),[t,a]=(0,i.useState)({}),[l,u]=(0,i.useState)({}),[h,m]=(0,i.useState)([]),[p,v]=(0,i.useState)(),[x,j]=(0,i.useState)({});return(0,i.useEffect)((()=>{e&&(async()=>{const t={method:"GET"};try{const r=await c.callApi("/user/getOrderById/".concat(e),t);200==r.status?(a(r.data.data.addressDetails.shippingAddress),u(r.data.data.addressDetails.billingAddress),v(r.data.data.orderStatus),m(r.data.data.orderDetails),j({totalAmount:r.data.data.orderTotalAmount,deliveryCharges:r.data.data.deliveryCharges,orderAmount:r.data.data.orderAmount,orderAmountWithoutDiscount:r.data.data.orderAmountWithoutDiscount})):s("*")}catch(r){console.error("Something went wrong")}})()}),[]),(0,i.useEffect)((()=>{(0,d.Z)("View Single Order")}),[]),(0,n.jsxs)("div",{className:"single-order-container",children:[(0,n.jsxs)("div",{className:"first-section",children:[(0,n.jsxs)("div",{children:[(0,n.jsx)("h3",{children:"Delivery Address"}),(0,n.jsx)("span",{children:t.firstName+" "+t.lastName}),(0,n.jsx)("br",{}),(0,n.jsx)("span",{children:t.streetAddress+", "+t.city+"-"+t.pincode+", "+t.state+", "+t.country}),(0,n.jsx)("br",{}),(0,n.jsxs)("span",{children:["Phone number : ",t.contact]})]}),(0,n.jsxs)("div",{className:"order-status",children:[(0,n.jsx)("h3",{children:"Order Status"}),(0,n.jsx)("span",{className:"mt-2",children:p}),(0,n.jsx)("br",{})]})]}),(0,n.jsxs)("div",{className:"second-section mt-5",children:[(0,n.jsx)("h4",{children:"Product Details"}),h.map((e=>(0,n.jsx)(o,{photoURL:e.productImage,productName:e.productName,productAttribute:Object.values(e.attributeCombination)[0],count:e.count,realPrice:e.productPrice,discountPrice:e.productDiscountPrice})))]}),(0,n.jsxs)("div",{className:"third-section mt-5",children:[(0,n.jsx)("h4",{children:"Price Details"}),(0,n.jsxs)("div",{className:"price-details ms-3",children:[(0,n.jsxs)("span",{children:["List price : \u20b9 ",x.orderAmountWithoutDiscount]}),(0,n.jsxs)("span",{children:["Selling price : \u20b9 ",x.orderAmount]}),(0,n.jsxs)("span",{children:["Shipping fee : \u20b9 ",x.deliveryCharges]}),(0,n.jsxs)("span",{children:["Total Amount : \u20b9 ",x.totalAmount]})]})]})]})}},46944:function(){}}]);
//# sourceMappingURL=366.1ff40aed.chunk.js.map