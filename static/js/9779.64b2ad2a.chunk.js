"use strict";(self.webpackChunkembark_react=self.webpackChunkembark_react||[]).push([[9779],{65238:function(e,a,t){t.d(a,{Z:function(){return h}});var r=t(74165),s=t(15861),n=t(15671),l=t(43144),o=t(60136),i=t(27277),c=t(74569),d=t.n(c),m=(0,l.Z)((function e(a){var t=this;(0,n.Z)(this,e),this._initializeResponseInterceptor=function(){t.instance.interceptors.response.use(t._handleResponse,t._handleError)},this._handleResponse=function(e){return e},this._handleError=function(){var e=(0,s.Z)((0,r.Z)().mark((function e(a){var t,s;return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=a.response,s=a.config,s,e.abrupt("return",Promise.resolve(t));case 3:case"end":return e.stop()}}),e)})));return function(a){return e.apply(this,arguments)}}(),this.instance=d().create({baseURL:a}),this._initializeResponseInterceptor()})),u=m,p=t(69441),h=function(e){(0,o.Z)(t,e);var a=(0,i.Z)(t);function t(){var e;return(0,n.Z)(this,t),(e=a.call(this,"https://embarkperfumes.com/api"))._initializeRequestInterceptor=function(){e.instance.interceptors.request.use(e._handleRequest)},e._handleRequest=function(){var e=(0,s.Z)((0,r.Z)().mark((function e(a){var t;return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(t=p.Z.getState().user.currentUser.accessToken)&&(a.headers.Authorization=t),e.abrupt("return",a);case 3:case"end":return e.stop()}}),e)})));return function(a){return e.apply(this,arguments)}}(),e._initializeRequestInterceptor(),e}return(0,l.Z)(t,[{key:"callApi",value:function(e,a){return this.instance({method:a.method,url:e,headers:null!==a&&void 0!==a&&a.header?null===a||void 0===a?void 0:a.header:{},data:null!==a&&void 0!==a&&a.body?null===a||void 0===a?void 0:a.body:void 0,onUploadProgress:null!==a&&void 0!==a&&a.onUploadProgress?null===a||void 0===a?void 0:a.onUploadProgress:void 0})}}]),t}(u)},8055:function(e,a,t){t.r(a);var r=t(74165),s=t(15861),n=t(4942),l=t(1413),o=t(29439),i=t(72791),c=t(26022),d=t(65238),m=t(57689),u=t(11087),p=t(24459),h=t(24054),f=t(6978),v=t(69441),N=t(80184),b=new d.Z;a.default=function(){var e=(0,m.UO)().addressType,a=(0,u.lr)(),t=(0,o.Z)(a,2),d=t[0],g=(t[1],v.Z.getState().user.currentUser),x=d.get("id"),y=d.get("firstAddress"),j="",Z="",S="",k="";y&&"true"==y&&(j=g.firstName,Z=g.lastName,S=g.email,k=g.contact);var A=(0,m.s0)();["billing-address","shipping-address"].includes(e)||A("/404");var C,F,I,P=(0,i.useState)({firstName:!1,lastName:!1,email:!1,state:!1,streetAddress:!1,city:!1,postcode:!1,phone:!1,message:""}),w=(0,o.Z)(P,2),_=w[0],q=w[1],R=(0,i.useState)({firstName:j,lastName:Z,email:S,companyName:"",gstNumber:"",country:"India",state:"",streetAddress:"",landmark:"",city:"",postcode:"",phone:k}),E=(0,o.Z)(R,2),O=E[0],T=E[1],U=(0,i.useState)("IN"),z=(0,o.Z)(U,2),D=z[0],L=(z[1],(0,i.useState)("")),B=(0,o.Z)(L,2),G=B[0],H=B[1],V=(0,i.useState)({label:null}),J=(0,o.Z)(V,2),K=J[0],M=J[1],Q=(sessionStorage.getItem("add"),function(e,a){T((0,l.Z)((0,l.Z)({},O),{},(0,n.Z)({},a,e))),(!0===_.email||!0===_.city||!0===_.firstName||!0===_.lastName||!0===_.country||_.phone||_.postcode||_.state||_.streetAddress)&&q((0,l.Z)((0,l.Z)({},_),{},(0,n.Z)({},a,!1)))}),W=function(){var e=(0,s.Z)((0,r.Z)().mark((function e(){var a,t;return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a={method:"GET"},e.next=3,b.callApi("user/getAddressById/".concat(x),a);case 3:200==(t=e.sent).status&&(T((0,l.Z)((0,l.Z)({},O),{},{id:t.data.data.id,firstName:t.data.data.firstName,lastName:t.data.data.lastName,email:t.data.data.email,companyName:t.data.data.companyName,gstNumber:t.data.data.gstNumber,country:t.data.data.country,state:t.data.data.state,streetAddress:t.data.data.streetAddress,landmark:t.data.data.landmark,city:t.data.data.city,postcode:t.data.data.pincode+"",phone:t.data.data.contact})),M({label:t.data.data.city}),H(t.data.data.stateId));case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),X=function(){var a=(0,s.Z)((0,r.Z)().mark((function a(t){var s,n;return(0,r.Z)().wrap((function(a){for(;;)switch(a.prev=a.next){case 0:if(a.prev=0,t.preventDefault(),s=(0,c.C)(O),null==K.label?q((0,l.Z)((0,l.Z)({},s),{},{city:!0})):q(s),!(s.city||s.firstName||s.lastName||s.email||s.country||s.phone||s.postcode||s.state||s.streetAddress||null==K.label)){a.next=6;break}return a.abrupt("return");case 6:return n={method:"POST",body:(0,l.Z)((0,l.Z)({},O),{},{selectedStateId:G,addressType:"billing-address"==e?"billing":"shipping"})},a.next=9,b.callApi("user/createEditAddresses",n);case 9:200==a.sent.status&&A("/checkout"),a.next=16;break;case 13:a.prev=13,a.t0=a.catch(0),console.error("Something went wrong");case 16:case"end":return a.stop()}}),a,null,[[0,13]])})));return function(e){return a.apply(this,arguments)}}();return(0,i.useEffect)((function(){x&&W()}),[]),(0,N.jsxs)("div",{className:"edit-account-container container",style:{backgroundColor:"white"},children:[(0,N.jsx)("div",{className:"text-style mt-4",children:"billing-address"===e?"Billing address":"Shipping address"}),(0,N.jsxs)("form",{children:[(0,N.jsxs)("div",{className:"row",style:{marginTop:"25px"},children:[(0,N.jsxs)("div",{className:"col-sm-12 col-lg-6 form-group mb-2",children:[(0,N.jsx)("label",{htmlFor:"firstName",className:"form-label",children:"First Name"}),(0,N.jsx)("input",{type:"text",id:"firstName",className:"form-control ".concat(_.firstName?"errorInputField":""),required:!0,onChange:function(e){return Q(e.target.value,"firstName")},value:null===O||void 0===O?void 0:O.firstName}),_.firstName&&(0,N.jsx)("div",{className:"error",children:"Please enter your first name"})]}),(0,N.jsxs)("div",{className:"col form-group mb-2",children:[(0,N.jsx)("label",{htmlFor:"lastName",className:"form-label",children:"Last Name"}),(0,N.jsx)("input",{type:"text",id:"lastName",className:"form-control ".concat(_.lastName?"errorInputField":""),required:!0,onChange:function(e){return Q(e.target.value,"lastName")},value:null===O||void 0===O?void 0:O.lastName}),_.lastName&&(0,N.jsx)("div",{className:"error",children:"Please enter your last name"})]})]}),(0,N.jsxs)("div",{className:"form-group mb-2",children:[(0,N.jsx)("label",{htmlFor:"companyName",className:"form-label",children:"Company name (Optional)"}),(0,N.jsx)("input",{type:"text",id:"companyName",className:"form-control",onChange:function(e){return Q(e.target.value,"companyName")},value:null===O||void 0===O?void 0:O.companyName})]}),(0,N.jsxs)("div",{className:"form-group mb-2",children:[(0,N.jsx)("label",{htmlFor:"gstNumber",className:"form-label",children:"GST No. (Optional)"}),(0,N.jsx)("input",{type:"text",id:"gstNumber",className:"form-control",onChange:function(e){return Q(e.target.value,"gstNumber")},value:null===O||void 0===O?void 0:O.gstNumber})]}),(0,N.jsxs)("div",{className:"row",children:[(0,N.jsxs)("div",{className:"col-sm-12 col-lg-6 form-group mb-2",children:[(0,N.jsx)("label",{htmlFor:"streetAddress",className:"form-label",children:"Address"}),(0,N.jsx)("input",{type:"text",id:"streetAddress",className:"form-control ".concat(_.streetAddress?"errorInputField":""),required:!0,onChange:function(e){return Q(e.target.value,"streetAddress")},value:null===O||void 0===O?void 0:O.streetAddress}),_.streetAddress&&(0,N.jsx)("div",{className:"error",children:"Please enter your address"})]}),(0,N.jsxs)("div",{className:"col form-group mb-2",children:[(0,N.jsx)("label",{htmlFor:"landmark",className:"form-label",children:"Landmark (Optional)"}),(0,N.jsx)("input",{type:"text",id:"landmark",className:"form-control",onChange:function(e){return Q(e.target.value,"landmark")},value:null===O||void 0===O?void 0:O.landmark})]})]}),(0,N.jsxs)("div",{className:"row",children:[(0,N.jsxs)("div",{className:"col-sm-12 col-lg-6 form-group mb-2",children:[(0,N.jsx)("label",{className:"form-label",children:"Country"}),(0,N.jsx)(f.ZP,{className:"".concat(_.country?"errorSelectField":""),options:[{label:"India",value:"India",id:"IN"}],onChange:function(e){Q(e.value,"country")},value:{label:"India"}})]}),(0,N.jsxs)("div",{className:"col form-group mb-2",children:[(0,N.jsx)("label",{htmlFor:"state",className:"form-label",children:"State"}),(0,N.jsx)(f.ZP,{className:"".concat(_.state?"errorSelectField":""),options:(I=D,p.ZP.getStatesOfCountry(I).map((function(e){return{label:e.name,value:e.name,id:e.isoCode}}))),onChange:function(e){H(e.id),M({label:null}),Q(e.value,"state")},value:O.state&&{label:O.state}}),_.state&&(0,N.jsx)("div",{className:"error",children:"Please enter your state"})]})]}),(0,N.jsxs)("div",{className:"form-group mb-2",children:[(0,N.jsx)("label",{htmlFor:"city",className:"form-label",children:"City"}),(0,N.jsx)(f.ZP,{className:"".concat(_.city?"errorSelectField":""),options:(C=D,F=G||null,h.Z.getCitiesOfState(C,F).map((function(e){return{label:e.name,value:e.name}}))),onChange:function(e){M({label:e.value}),Q(e.value,"city")},value:K.label&&K}),_.city&&(0,N.jsx)("div",{className:"error",children:"Please enter your city"})]}),(0,N.jsxs)("div",{className:"form-group mb-2",children:[(0,N.jsx)("label",{htmlFor:"postcode",className:"form-label",children:"Pincode"}),(0,N.jsx)("input",{type:"number",id:"postcode",className:"form-control ".concat(_.postcode?"errorInputField":""),required:!0,onChange:function(e){return Q(e.target.value,"postcode")},value:null===O||void 0===O?void 0:O.postcode}),_.postcode&&(0,N.jsx)("div",{className:"error",children:"Please enter your pincode"})]}),(0,N.jsxs)("div",{className:"form-group mb-2",children:[(0,N.jsx)("label",{htmlFor:"phone",className:"form-label",children:"Phone"}),(0,N.jsx)("input",{type:"number",id:"phone",className:"form-control ".concat(_.phone?"errorInputField":""),required:!0,onChange:function(e){return Q(e.target.value,"phone")},value:null===O||void 0===O?void 0:O.phone}),_.phone&&(0,N.jsx)("div",{className:"error",children:"Please enter valid phone number"})]}),(0,N.jsxs)("div",{className:"form-group mb-2",children:[(0,N.jsx)("label",{htmlFor:"email",className:"form-label",children:"Email Address"}),(0,N.jsx)("input",{type:"email",id:"email",className:"form-control ".concat(_.email?"errorInputField":""),required:!0,onChange:function(e){return Q(e.target.value,"email")},value:null===O||void 0===O?void 0:O.email}),_.email&&(0,N.jsx)("div",{className:"error",children:_.message?"Please enter a valid email":"Please enter your email"})]}),(0,N.jsx)("button",{className:"btn btn-dark mt-5 mb-2",onClick:function(e){return X(e)},children:"SAVE ADDRESS"})]})]})}},26022:function(e,a,t){t.d(a,{C:function(){return s},H:function(){return r}});var r=function(e){var a=e.firstName,t=e.lastName,r=e.email,s={firstName:!1,lastName:!1,email:!1,message:""};return a||(s.firstName=!0),t||(s.lastName=!0),r||(s.email=!0),r&&!/\S+@\S+\.\S+/.test(r)&&(s.email=!0,s.message="invalid email"),s},s=function(e){var a=e.firstName,t=e.lastName,r=e.email,s=e.state,n=e.streetAddress,l=e.city,o=e.postcode,i=e.phone,c={firstName:!1,lastName:!1,email:!1,state:!1,streetAddress:!1,city:!1,postcode:!1,phone:!1,message:""};return a||(c.firstName=!0),t||(c.lastName=!0),r||(c.email=!0),r&&!/\S+@\S+\.\S+/.test(r)&&(c.email=!0,c.message="invalid email"),s||(c.state=!0),n||(c.streetAddress=!0),l||(c.city=!0),o||(c.postcode=!0),i||(c.phone=!0),i&&10!=i.length&&(c.phone=!0),c}}}]);
//# sourceMappingURL=9779.64b2ad2a.chunk.js.map