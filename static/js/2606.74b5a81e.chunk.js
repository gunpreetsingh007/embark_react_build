"use strict";(self.webpackChunkembark_react=self.webpackChunkembark_react||[]).push([[2606],{65238:function(e,a,s){s.d(a,{Z:function(){return o}});var t=s(55294);var l=class{constructor(e){this._initializeResponseInterceptor=()=>{this.instance.interceptors.response.use(this._handleResponse,this._handleError)},this._handleResponse=e=>e,this._handleError=async e=>{let{response:a,config:s}=e;return Promise.resolve(a)},this.instance=t.Z.create({baseURL:e}),this._initializeResponseInterceptor()}},r=s(69441);class o extends l{constructor(){super("https://embarkperfumes.com/api"),this._initializeRequestInterceptor=()=>{this.instance.interceptors.request.use(this._handleRequest)},this._handleRequest=async e=>{let a=r.Z.getState().user.currentUser.accessToken;return a&&(e.headers.Authorization=a),sessionStorage.getItem("session-id")&&(e.headers["session-id"]=sessionStorage.getItem("session-id")),e},this._initializeRequestInterceptor()}callApi(e,a){return this.instance({method:a.method,url:e,headers:null!==a&&void 0!==a&&a.header?null===a||void 0===a?void 0:a.header:{},data:null!==a&&void 0!==a&&a.body?null===a||void 0===a?void 0:a.body:void 0,onUploadProgress:null!==a&&void 0!==a&&a.onUploadProgress?null===a||void 0===a?void 0:a.onUploadProgress:void 0})}}},72606:function(e,a,s){s.r(a);var t=s(72791),l=s(26022),r=s(65238),o=s(57689),i=s(11087),n=s(24459),d=s(24054),c=s(54558),m=s(69441),u=s(80184);const h=new r.Z;a.default=()=>{const{addressType:e}=(0,o.UO)(),[a,s]=(0,i.lr)();let r=m.Z.getState().user.currentUser;const p=a.get("id"),N=a.get("firstAddress");let v="",g="",b="",f="";N&&"true"==N&&(v=r.firstName,g=r.lastName,b=r.email,f=r.contact);const y=(0,o.s0)();["billing-address","shipping-address"].includes(e)||y("/404");const[x,j]=(0,t.useState)({firstName:!1,lastName:!1,email:!1,state:!1,streetAddress:!1,city:!1,postcode:!1,phone:!1,message:""}),[S,A]=(0,t.useState)({firstName:v,lastName:g,email:b,companyName:"",gstNumber:"",country:"India",state:"",streetAddress:"",landmark:"",city:"",postcode:"",phone:f}),[C,F]=(0,t.useState)("IN"),[I,P]=(0,t.useState)(""),[k,_]=(0,t.useState)({label:null}),q=(e,a)=>{A({...S,[a]:e}),(!0===x.email||!0===x.city||!0===x.firstName||!0===x.lastName||!0===x.country||x.phone||x.postcode||x.state||x.streetAddress)&&j({...x,[a]:!1})};return(0,t.useEffect)((()=>{p&&(async()=>{const e=await h.callApi("user/getAddressById/".concat(p),{method:"GET"});200==e.status&&(A({...S,id:e.data.data.id,firstName:e.data.data.firstName,lastName:e.data.data.lastName,email:e.data.data.email,companyName:e.data.data.companyName,gstNumber:e.data.data.gstNumber,country:e.data.data.country,state:e.data.data.state,streetAddress:e.data.data.streetAddress,landmark:e.data.data.landmark,city:e.data.data.city,postcode:e.data.data.pincode+"",phone:e.data.data.contact}),_({label:e.data.data.city}),P(e.data.data.stateId))})()}),[]),(0,u.jsxs)("div",{className:"edit-account-container container-fluid",style:{backgroundColor:"white"},children:[(0,u.jsx)("div",{className:"text-style",children:"billing-address"===e?"Billing address":"Shipping address"}),(0,u.jsxs)("form",{children:[(0,u.jsxs)("div",{className:"row",style:{marginTop:"25px"},children:[(0,u.jsxs)("div",{className:"col-sm-12 col-lg-6 form-group mb-2",children:[(0,u.jsx)("label",{htmlFor:"firstName",className:"form-label",children:"First Name"}),(0,u.jsx)("input",{type:"text",id:"firstName",className:"form-control ".concat(x.firstName?"errorInputField":""),required:!0,onChange:e=>q(e.target.value,"firstName"),value:null===S||void 0===S?void 0:S.firstName}),x.firstName&&(0,u.jsx)("div",{className:"error",children:"Please enter your first name"})]}),(0,u.jsxs)("div",{className:"col form-group mb-2",children:[(0,u.jsx)("label",{htmlFor:"lastName",className:"form-label",children:"Last Name"}),(0,u.jsx)("input",{type:"text",id:"lastName",className:"form-control ".concat(x.lastName?"errorInputField":""),required:!0,onChange:e=>q(e.target.value,"lastName"),value:null===S||void 0===S?void 0:S.lastName}),x.lastName&&(0,u.jsx)("div",{className:"error",children:"Please enter your last name"})]})]}),(0,u.jsxs)("div",{className:"form-group mb-2",children:[(0,u.jsx)("label",{htmlFor:"companyName",className:"form-label",children:"Company name (Optional)"}),(0,u.jsx)("input",{type:"text",id:"companyName",className:"form-control",onChange:e=>q(e.target.value,"companyName"),value:null===S||void 0===S?void 0:S.companyName})]}),(0,u.jsxs)("div",{className:"form-group mb-2",children:[(0,u.jsx)("label",{htmlFor:"gstNumber",className:"form-label",children:"GST No. (Optional)"}),(0,u.jsx)("input",{type:"text",id:"gstNumber",className:"form-control",onChange:e=>q(e.target.value,"gstNumber"),value:null===S||void 0===S?void 0:S.gstNumber})]}),(0,u.jsxs)("div",{className:"row",children:[(0,u.jsxs)("div",{className:"col-sm-12 col-lg-6 form-group mb-2",children:[(0,u.jsx)("label",{htmlFor:"streetAddress",className:"form-label",children:"Address"}),(0,u.jsx)("input",{type:"text",id:"streetAddress",className:"form-control ".concat(x.streetAddress?"errorInputField":""),required:!0,onChange:e=>q(e.target.value,"streetAddress"),value:null===S||void 0===S?void 0:S.streetAddress}),x.streetAddress&&(0,u.jsx)("div",{className:"error",children:"Please enter your address"})]}),(0,u.jsxs)("div",{className:"col form-group mb-2",children:[(0,u.jsx)("label",{htmlFor:"landmark",className:"form-label",children:"Landmark (Optional)"}),(0,u.jsx)("input",{type:"text",id:"landmark",className:"form-control",onChange:e=>q(e.target.value,"landmark"),value:null===S||void 0===S?void 0:S.landmark})]})]}),(0,u.jsxs)("div",{className:"row",children:[(0,u.jsxs)("div",{className:"col-sm-12 col-lg-6 form-group mb-2",children:[(0,u.jsx)("label",{className:"form-label",children:"Country"}),(0,u.jsx)(c.ZP,{className:"".concat(x.country?"errorSelectField":""),options:[{label:"India",value:"India",id:"IN"}],onChange:e=>{q(e.value,"country")},value:{label:"India"}})]}),(0,u.jsxs)("div",{className:"col form-group mb-2",children:[(0,u.jsx)("label",{htmlFor:"state",className:"form-label",children:"State"}),(0,u.jsx)(c.ZP,{className:"".concat(x.state?"errorSelectField":""),options:(Z=C,n.ZP.getStatesOfCountry(Z).map((e=>({label:e.name,value:e.name,id:e.isoCode})))),onChange:e=>{P(e.id),_({label:null}),q(e.value,"state")},value:S.state&&{label:S.state}}),x.state&&(0,u.jsx)("div",{className:"error",children:"Please enter your state"})]})]}),(0,u.jsxs)("div",{className:"form-group mb-2",children:[(0,u.jsx)("label",{htmlFor:"city",className:"form-label",children:"City"}),(0,u.jsx)(c.ZP,{className:"".concat(x.city?"errorSelectField":""),options:(w=C,R=I||null,d.Z.getCitiesOfState(w,R).map((e=>({label:e.name,value:e.name})))),onChange:e=>{_({label:e.value}),q(e.value,"city")},value:k.label&&k}),x.city&&(0,u.jsx)("div",{className:"error",children:"Please enter your city"})]}),(0,u.jsxs)("div",{className:"form-group mb-2",children:[(0,u.jsx)("label",{htmlFor:"postcode",className:"form-label",children:"Pincode"}),(0,u.jsx)("input",{type:"number",id:"postcode",className:"form-control ".concat(x.postcode?"errorInputField":""),required:!0,onChange:e=>q(e.target.value,"postcode"),value:null===S||void 0===S?void 0:S.postcode}),x.postcode&&(0,u.jsx)("div",{className:"error",children:"Please enter your pincode"})]}),(0,u.jsxs)("div",{className:"form-group mb-2",children:[(0,u.jsx)("label",{htmlFor:"phone",className:"form-label",children:"Phone"}),(0,u.jsx)("input",{type:"number",id:"phone",className:"form-control ".concat(x.phone?"errorInputField":""),required:!0,onChange:e=>q(e.target.value,"phone"),value:null===S||void 0===S?void 0:S.phone}),x.phone&&(0,u.jsx)("div",{className:"error",children:"Please enter valid phone number"})]}),(0,u.jsxs)("div",{className:"form-group mb-2",children:[(0,u.jsx)("label",{htmlFor:"email",className:"form-label",children:"Email Address"}),(0,u.jsx)("input",{type:"email",id:"email",className:"form-control ".concat(x.email?"errorInputField":""),required:!0,onChange:e=>q(e.target.value,"email"),value:null===S||void 0===S?void 0:S.email}),x.email&&(0,u.jsx)("div",{className:"error",children:x.message?"Please enter a valid email":"Please enter your email"})]}),(0,u.jsx)("button",{className:"btn btn-dark mt-5 mb-2",onClick:a=>(async a=>{try{a.preventDefault();const s=(0,l.C)(S);if(null==k.label?j({...s,city:!0}):j(s),s.city||s.firstName||s.lastName||s.email||s.country||s.phone||s.postcode||s.state||s.streetAddress||null==k.label)return;const t={method:"POST",body:{...S,selectedStateId:I,addressType:"billing-address"==e?"billing":"shipping"}};200==(await h.callApi("user/createEditAddresses",t)).status&&y("/my-account/addresses")}catch(x){console.error("Something went wrong")}})(a),children:"SAVE ADDRESS"})]})]});var w,R,Z}},26022:function(e,a,s){s.d(a,{C:function(){return l},H:function(){return t}});const t=e=>{const{firstName:a,lastName:s,email:t}=e;var l={firstName:!1,lastName:!1,email:!1,message:""};return a||(l.firstName=!0),s||(l.lastName=!0),t||(l.email=!0),t&&!/\S+@\S+\.\S+/.test(t)&&(l.email=!0,l.message="invalid email"),l},l=e=>{const{firstName:a,lastName:s,email:t,state:l,streetAddress:r,city:o,postcode:i,phone:n}=e;var d={firstName:!1,lastName:!1,email:!1,state:!1,streetAddress:!1,city:!1,postcode:!1,phone:!1,message:""};return a||(d.firstName=!0),s||(d.lastName=!0),t||(d.email=!0),t&&!/\S+@\S+\.\S+/.test(t)&&(d.email=!0,d.message="invalid email"),l||(d.state=!0),r||(d.streetAddress=!0),o||(d.city=!0),i||(d.postcode=!0),n||(d.phone=!0),n&&10!=n.length&&(d.phone=!0),d}}}]);
//# sourceMappingURL=2606.74b5a81e.chunk.js.map