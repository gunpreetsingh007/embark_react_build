"use strict";(self.webpackChunkembark_react=self.webpackChunkembark_react||[]).push([[3993],{65238:function(s,i,l){l.d(i,{Z:function(){return o}});var e=l(55294);var d=class{constructor(s){this._initializeResponseInterceptor=()=>{this.instance.interceptors.response.use(this._handleResponse,this._handleError)},this._handleResponse=s=>s,this._handleError=async s=>{let{response:i,config:l}=s;return Promise.resolve(i)},this.instance=e.Z.create({baseURL:s}),this._initializeResponseInterceptor()}},a=l(69441);class o extends d{constructor(){super("https://embarkperfumes.com/api"),this._initializeRequestInterceptor=()=>{this.instance.interceptors.request.use(this._handleRequest)},this._handleRequest=async s=>{let i=a.Z.getState().user.currentUser.accessToken;return i&&(s.headers.Authorization=i),sessionStorage.getItem("session-id")&&(s.headers["session-id"]=sessionStorage.getItem("session-id")),s},this._initializeRequestInterceptor()}callApi(s,i){return this.instance({method:i.method,url:s,headers:null!==i&&void 0!==i&&i.header?null===i||void 0===i?void 0:i.header:{},data:null!==i&&void 0!==i&&i.body?null===i||void 0===i?void 0:i.body:void 0,onUploadProgress:null!==i&&void 0!==i&&i.onUploadProgress?null===i||void 0===i?void 0:i.onUploadProgress:void 0})}}},67604:function(s,i,l){var e=l(21830),d=l.n(e),a=l(58086),o=l.n(a),n=l(80184);const r=o()(d());i.Z=async(s,i,l)=>r.fire({title:(0,n.jsx)("strong",{children:s}),html:(0,n.jsx)("p",{children:i}),icon:l})},93993:function(s,i,l){l.r(i),l.d(i,{default:function(){return j}});var e=l(72791),d=l(28029),a=l(85792),o=l(68096),n=l(66232),r=l(65238),t=l(57689),c=l(72881),v=l(67604),u=l(72426),m=l.n(u),h=l(80184);const x=new r.Z;var j=()=>{var s,i,l,r,u,j,p,N,g,D,A,b,y,f,P,S,T,w,E,C,k,I,Z,O,_,F,R,U,L,M,q,z,G,B,V,H,Q,W,X,J,K,Y,$,ss,is,ls;const[es,ds]=(0,e.useState)(""),as=(0,t.s0)(),{id:os}=(0,t.UO)(),[ns,rs]=(0,e.useState)(!1),[ts,cs]=(0,e.useState)(!0),[vs,us]=(0,e.useState)({}),ms={PaperProps:{style:{maxHeight:224,width:250}}},hs=(0,e.useCallback)((async()=>{cs(!0);let s=await x.callApi("/order/getOrderById/".concat(os),{method:"GET"});200==s.status?(cs(!1),us(s.data.data),ds(s.data.data.orderStatus),rs(!0)):(cs(!1),(0,v.Z)("Error","Error while loading the order","error"),as(-1))}),[]);(0,e.useEffect)((()=>{hs()}),[]);return(0,h.jsxs)(h.Fragment,{children:[ts?(0,h.jsx)(c.Z,{}):null,(0,h.jsxs)("div",{className:"container orderViewContainer my-4",children:[(0,h.jsxs)("div",{className:"card p-4",children:[(0,h.jsxs)("div",{className:"orderTitle",children:["Order ",null===vs||void 0===vs?void 0:vs.orderToken," details"]}),(0,h.jsxs)("div",{className:"paymentInfo",children:["Payment via ",null===vs||void 0===vs?void 0:vs.paymentMethod," "]}),(0,h.jsxs)("div",{className:"row mt-4",children:[(0,h.jsxs)("div",{className:"col-4",children:[(0,h.jsx)("div",{className:"rowTitle",children:"General"}),(0,h.jsxs)("form",{action:"",children:[(0,h.jsx)("div",{className:"genTitle",children:"Date created:"}),(0,h.jsx)("div",{children:m()(null===vs||void 0===vs?void 0:vs.placedAt).format("Do MMM yyyy h:mm a")}),(0,h.jsx)("div",{className:"genTitle",children:"Status:"}),(0,h.jsx)(o.Z,{sx:{m:1,width:300},children:(0,h.jsx)(n.Z,{displayEmpty:!0,value:es,onChange:async s=>{if(!ns)return;const{target:{value:i}}=s;cs(!0),ds(i);let l={method:"POST",body:{status:i,ids:[os]}};200==(await x.callApi("/order/bulkUpdateOrderStatus",l)).status?(cs(!1),(0,v.Z)("Success","Status Updated Successfully","success")):(cs(!1),(0,v.Z)("Error","Error while updating the status of order","error"))},defaultValue:es,input:(0,h.jsx)(d.Z,{}),renderValue:s=>s||(0,h.jsx)("em",{children:"Bulk actions"}),MenuProps:ms,inputProps:{"aria-label":"Without label"},children:[{id:2,value:"COMPLETED"},{id:3,value:"PROCESSING"},{id:4,value:"ON HOLD"},{id:5,value:"CANCELLED"},{id:6,value:"REFUNDED"},{id:7,value:"FAILED"}].map((s=>(0,h.jsx)(a.Z,{value:s.value,children:s.value},s.id)))})})]}),(0,h.jsx)("div",{className:"genTitle",children:"Additional Details:"}),(0,h.jsx)("div",{children:Object.entries((null===vs||void 0===vs?void 0:vs.additionalDetails)||{}).map(((s,i)=>{let[l,e]=s;return(0,h.jsxs)("li",{children:[(0,h.jsxs)("strong",{children:[l,":"]})," ",e.toString()]},i)}))})]}),(0,h.jsxs)("div",{className:"col-4",children:[(0,h.jsx)("div",{className:"rowTitle",children:"Billing"}),(0,h.jsxs)("div",{className:"billingDetails",children:[(0,h.jsxs)("div",{className:"customerName",children:[null===vs||void 0===vs||null===(s=vs.addressDetails)||void 0===s||null===(i=s.billingAddress)||void 0===i?void 0:i.firstName," ",null===vs||void 0===vs||null===(l=vs.addressDetails)||void 0===l||null===(r=l.billingAddress)||void 0===r?void 0:r.lastName]}),(0,h.jsxs)("div",{className:"customerAddress",children:[null===vs||void 0===vs||null===(u=vs.addressDetails)||void 0===u||null===(j=u.billingAddress)||void 0===j?void 0:j.streetAddress," ",null===vs||void 0===vs||null===(p=vs.addressDetails)||void 0===p||null===(N=p.billingAddress)||void 0===N?void 0:N.landmark]}),(0,h.jsx)("span",{className:"customerCity",children:null===vs||void 0===vs||null===(g=vs.addressDetails)||void 0===g||null===(D=g.billingAddress)||void 0===D?void 0:D.city}),(0,h.jsx)("span",{className:"customerPincode",children:null===vs||void 0===vs||null===(A=vs.addressDetails)||void 0===A||null===(b=A.billingAddress)||void 0===b?void 0:b.pincode}),(0,h.jsx)("div",{className:"customerState",children:null===vs||void 0===vs||null===(y=vs.addressDetails)||void 0===y||null===(f=y.billingAddress)||void 0===f?void 0:f.state}),(0,h.jsx)("div",{className:"emailTitle",children:"Email address:"}),(0,h.jsx)("div",{className:"emailAddress",children:(0,h.jsx)("a",{href:"mailto:".concat(null===vs||void 0===vs||null===(P=vs.addressDetails)||void 0===P||null===(S=P.billingAddress)||void 0===S?void 0:S.email),children:null===vs||void 0===vs||null===(T=vs.addressDetails)||void 0===T||null===(w=T.billingAddress)||void 0===w?void 0:w.email})}),(0,h.jsx)("div",{className:"phoneTitle",children:"Phone:"}),(0,h.jsx)("div",{className:"phoneDetails",children:null===vs||void 0===vs||null===(E=vs.addressDetails)||void 0===E||null===(C=E.billingAddress)||void 0===C?void 0:C.contact})]})]}),(0,h.jsxs)("div",{className:"col-4",children:[(0,h.jsx)("div",{className:"rowTitle",children:"Shipping"}),(0,h.jsxs)("div",{className:"shippingDetails",children:[(0,h.jsxs)("div",{className:"customerName",children:[null===vs||void 0===vs||null===(k=vs.addressDetails)||void 0===k||null===(I=k.shippingAddress)||void 0===I?void 0:I.firstName," ",null===vs||void 0===vs||null===(Z=vs.addressDetails)||void 0===Z||null===(O=Z.shippingAddress)||void 0===O?void 0:O.lastName]}),(0,h.jsxs)("div",{className:"customerAddress",children:[null===vs||void 0===vs||null===(_=vs.addressDetails)||void 0===_||null===(F=_.shippingAddress)||void 0===F?void 0:F.streetAddress," ",null===vs||void 0===vs||null===(R=vs.addressDetails)||void 0===R||null===(U=R.shippingAddress)||void 0===U?void 0:U.landmark]}),(0,h.jsx)("span",{className:"customerCity",children:null===vs||void 0===vs||null===(L=vs.addressDetails)||void 0===L||null===(M=L.shippingAddress)||void 0===M?void 0:M.city}),(0,h.jsx)("span",{className:"customerPincode",children:null===vs||void 0===vs||null===(q=vs.addressDetails)||void 0===q||null===(z=q.shippingAddress)||void 0===z?void 0:z.pincode}),(0,h.jsx)("div",{className:"customerState",children:null===vs||void 0===vs||null===(G=vs.addressDetails)||void 0===G||null===(B=G.shippingAddress)||void 0===B?void 0:B.state}),(0,h.jsx)("div",{className:"emailTitle",children:"Email address:"}),(0,h.jsx)("div",{className:"emailAddress",children:(0,h.jsx)("a",{href:"mailto:".concat(null===vs||void 0===vs||null===(V=vs.addressDetails)||void 0===V||null===(H=V.shippingAddress)||void 0===H?void 0:H.email),children:null===vs||void 0===vs||null===(Q=vs.addressDetails)||void 0===Q||null===(W=Q.shippingAddress)||void 0===W?void 0:W.email})}),(0,h.jsx)("div",{className:"phoneTitle",children:"Phone:"}),(0,h.jsx)("div",{className:"phoneDetails",children:null===vs||void 0===vs||null===(X=vs.addressDetails)||void 0===X||null===(J=X.shippingAddress)||void 0===J?void 0:J.contact})]})]})]})]}),(0,h.jsxs)("div",{className:"card p-4 mt-4",children:[(0,h.jsxs)("div",{className:"row",children:[(0,h.jsx)("div",{className:"col-8",children:"Item"}),(0,h.jsx)("div",{className:"col-1",children:"Cost"}),(0,h.jsx)("div",{className:"col-1",children:"Qty"}),(0,h.jsx)("div",{className:"col-1",children:"Total"}),(0,h.jsx)("div",{className:"col-1",children:"18% GST"})]}),(0,h.jsx)("div",{className:"card my-4 p-2",children:null===vs||void 0===vs||null===(K=vs.orderDetails)||void 0===K?void 0:K.map((s=>{var i,l,e;return(0,h.jsxs)("div",{className:"row",children:[(0,h.jsxs)("div",{className:"col-8",children:[null===s||void 0===s?void 0:s.productName," ",Object.values(null===s||void 0===s?void 0:s.attributeCombination)]}),(0,h.jsxs)("div",{className:"col-1",children:["\u20b9 ",null===(i=(null===s||void 0===s?void 0:s.productDiscountPrice)-.18*(null===s||void 0===s?void 0:s.productDiscountPrice))||void 0===i?void 0:i.toFixed(2)]}),(0,h.jsxs)("div",{className:"col-1",children:["X ",null===s||void 0===s?void 0:s.count]}),(0,h.jsxs)("div",{className:"col-1",children:["\u20b9 ",null===(l=(null===s||void 0===s?void 0:s.productDiscountPrice)*(null===s||void 0===s?void 0:s.count)-.18*(null===s||void 0===s?void 0:s.productDiscountPrice)*(null===s||void 0===s?void 0:s.count))||void 0===l?void 0:l.toFixed(2)]}),(0,h.jsxs)("div",{className:"col-1",children:["\u20b9 ",null===(e=.18*(null===s||void 0===s?void 0:s.productDiscountPrice)*(null===s||void 0===s?void 0:s.count))||void 0===e?void 0:e.toFixed(2)]})]})}))}),(0,h.jsxs)("div",{className:"row",children:[(0,h.jsx)("div",{className:"col-10"}),(0,h.jsx)("div",{className:"col-1 mb-1",children:"Items Subtotal:"}),(0,h.jsxs)("div",{className:"col-1 itemPrice",children:["\u20b9",null===(Y=(null===vs||void 0===vs?void 0:vs.orderAmount)-.18*(null===vs||void 0===vs?void 0:vs.orderAmount))||void 0===Y?void 0:Y.toFixed(2)]}),(0,h.jsx)("div",{className:"col-10"}),(0,h.jsx)("div",{className:"col-1 mb-1",children:"18% GST:"}),(0,h.jsxs)("div",{className:"col-1 itemPrice",children:["\u20b9",null===($=.18*(null===vs||void 0===vs?void 0:vs.orderAmount))||void 0===$?void 0:$.toFixed(2)]}),(0,h.jsx)("div",{className:"col-10"}),(0,h.jsx)("div",{className:"col-1 mb-1",children:"Delivery Charges:"}),(0,h.jsxs)("div",{className:"col-1 itemPrice",children:["\u20b9",null===vs||void 0===vs||null===(ss=vs.deliveryCharges)||void 0===ss?void 0:ss.toFixed(2)]}),(0,h.jsx)("div",{className:"col-10"}),(0,h.jsx)("div",{className:"col-1",children:"Items Order Total:"}),(0,h.jsxs)("div",{className:"col-1 itemPrice",children:["\u20b9",null===vs||void 0===vs||null===(is=vs.orderTotalAmount)||void 0===is?void 0:is.toFixed(2)]}),(0,h.jsx)("div",{className:"col-7"}),(0,h.jsxs)("div",{className:"col-5",children:[(0,h.jsx)("hr",{style:{border:"1px solid"}}),(0,h.jsxs)("div",{className:"row me-2",children:[(0,h.jsx)("div",{className:"col-8"}),(0,h.jsx)("div",{className:"col-2 fw-bold",children:"Paid:"}),(0,h.jsx)("div",{className:"col-2",children:(0,h.jsxs)("div",{className:"fw-bold",children:["\u20b9",null===vs||void 0===vs||null===(ls=vs.orderTotalAmount)||void 0===ls?void 0:ls.toFixed(2)]})})]})]})]})]})]})]})}}}]);
//# sourceMappingURL=3993.e7d894af.chunk.js.map