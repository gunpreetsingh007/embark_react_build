"use strict";(self.webpackChunkembark_react=self.webpackChunkembark_react||[]).push([[2606],{72606:function(e,a,s){s.r(a);var t=s(72791),l=s(26022),r=s(27117),o=s(57689),d=s(11087),n=s(24459),i=s(24054),m=s(54558),c=s(69441),u=s(80184);const N=new r.Z;a.default=()=>{const{addressType:e}=(0,o.UO)(),[a,s]=(0,d.lr)();let r=c.Z.getState().user.currentUser;const p=a.get("id"),h=a.get("firstAddress");let v="",b="",f="",g="";h&&"true"==h&&(v=r.firstName,b=r.lastName,f=r.email,g=r.contact);const y=(0,o.s0)();["billing-address","shipping-address"].includes(e)||y("/404");const[x,j]=(0,t.useState)({firstName:!1,lastName:!1,email:!1,state:!1,streetAddress:!1,city:!1,postcode:!1,phone:!1,message:""}),[S,A]=(0,t.useState)({firstName:v,lastName:b,email:f,companyName:"",gstNumber:"",country:"India",state:"",streetAddress:"",landmark:"",city:"",postcode:"",phone:g}),[C,F]=(0,t.useState)("IN"),[k,P]=(0,t.useState)(""),[I,w]=(0,t.useState)({label:null}),O=(e,a)=>{A({...S,[a]:e}),(!0===x.email||!0===x.city||!0===x.firstName||!0===x.lastName||!0===x.country||x.phone||x.postcode||x.state||x.streetAddress)&&j({...x,[a]:!1})};return(0,t.useEffect)((()=>{p&&(async()=>{const e=await N.callApi("user/getAddressById/".concat(p),{method:"GET"});200==e.status&&(A({...S,id:e.data.data.id,firstName:e.data.data.firstName,lastName:e.data.data.lastName,email:e.data.data.email,companyName:e.data.data.companyName,gstNumber:e.data.data.gstNumber,country:e.data.data.country,state:e.data.data.state,streetAddress:e.data.data.streetAddress,landmark:e.data.data.landmark,city:e.data.data.city,postcode:e.data.data.pincode+"",phone:e.data.data.contact}),w({label:e.data.data.city}),P(e.data.data.stateId))})()}),[]),(0,u.jsxs)("div",{className:"edit-account-container container-fluid",style:{backgroundColor:"white"},children:[(0,u.jsx)("div",{className:"text-style",children:"billing-address"===e?"Billing address":"Shipping address"}),(0,u.jsxs)("form",{children:[(0,u.jsxs)("div",{className:"row",style:{marginTop:"25px"},children:[(0,u.jsxs)("div",{className:"col-sm-12 col-lg-6 form-group mb-2",children:[(0,u.jsx)("label",{htmlFor:"firstName",className:"form-label",children:"First Name"}),(0,u.jsx)("input",{type:"text",id:"firstName",className:"form-control ".concat(x.firstName?"errorInputField":""),required:!0,onChange:e=>O(e.target.value,"firstName"),value:null===S||void 0===S?void 0:S.firstName}),x.firstName&&(0,u.jsx)("div",{className:"error",children:"Please enter your first name"})]}),(0,u.jsxs)("div",{className:"col form-group mb-2",children:[(0,u.jsx)("label",{htmlFor:"lastName",className:"form-label",children:"Last Name"}),(0,u.jsx)("input",{type:"text",id:"lastName",className:"form-control ".concat(x.lastName?"errorInputField":""),required:!0,onChange:e=>O(e.target.value,"lastName"),value:null===S||void 0===S?void 0:S.lastName}),x.lastName&&(0,u.jsx)("div",{className:"error",children:"Please enter your last name"})]})]}),(0,u.jsxs)("div",{className:"form-group mb-2",children:[(0,u.jsx)("label",{htmlFor:"companyName",className:"form-label",children:"Company name (Optional)"}),(0,u.jsx)("input",{type:"text",id:"companyName",className:"form-control",onChange:e=>O(e.target.value,"companyName"),value:null===S||void 0===S?void 0:S.companyName})]}),(0,u.jsxs)("div",{className:"form-group mb-2",children:[(0,u.jsx)("label",{htmlFor:"gstNumber",className:"form-label",children:"GST No. (Optional)"}),(0,u.jsx)("input",{type:"text",id:"gstNumber",className:"form-control",onChange:e=>O(e.target.value,"gstNumber"),value:null===S||void 0===S?void 0:S.gstNumber})]}),(0,u.jsxs)("div",{className:"row",children:[(0,u.jsxs)("div",{className:"col-sm-12 col-lg-6 form-group mb-2",children:[(0,u.jsx)("label",{htmlFor:"streetAddress",className:"form-label",children:"Address"}),(0,u.jsx)("input",{type:"text",id:"streetAddress",className:"form-control ".concat(x.streetAddress?"errorInputField":""),required:!0,onChange:e=>O(e.target.value,"streetAddress"),value:null===S||void 0===S?void 0:S.streetAddress}),x.streetAddress&&(0,u.jsx)("div",{className:"error",children:"Please enter your address"})]}),(0,u.jsxs)("div",{className:"col form-group mb-2",children:[(0,u.jsx)("label",{htmlFor:"landmark",className:"form-label",children:"Landmark (Optional)"}),(0,u.jsx)("input",{type:"text",id:"landmark",className:"form-control",onChange:e=>O(e.target.value,"landmark"),value:null===S||void 0===S?void 0:S.landmark})]})]}),(0,u.jsxs)("div",{className:"row",children:[(0,u.jsxs)("div",{className:"col-sm-12 col-lg-6 form-group mb-2",children:[(0,u.jsx)("label",{className:"form-label",children:"Country"}),(0,u.jsx)(m.ZP,{className:"".concat(x.country?"errorSelectField":""),options:[{label:"India",value:"India",id:"IN"}],onChange:e=>{O(e.value,"country")},value:{label:"India"}})]}),(0,u.jsxs)("div",{className:"col form-group mb-2",children:[(0,u.jsx)("label",{htmlFor:"state",className:"form-label",children:"State"}),(0,u.jsx)(m.ZP,{className:"".concat(x.state?"errorSelectField":""),options:(E=C,n.ZP.getStatesOfCountry(E).map((e=>({label:e.name,value:e.name,id:e.isoCode})))),onChange:e=>{P(e.id),w({label:null}),O(e.value,"state")},value:S.state&&{label:S.state}}),x.state&&(0,u.jsx)("div",{className:"error",children:"Please enter your state"})]})]}),(0,u.jsxs)("div",{className:"form-group mb-2",children:[(0,u.jsx)("label",{htmlFor:"city",className:"form-label",children:"City"}),(0,u.jsx)(m.ZP,{className:"".concat(x.city?"errorSelectField":""),options:(Z=C,q=k||null,i.Z.getCitiesOfState(Z,q).map((e=>({label:e.name,value:e.name})))),onChange:e=>{w({label:e.value}),O(e.value,"city")},value:I.label&&I}),x.city&&(0,u.jsx)("div",{className:"error",children:"Please enter your city"})]}),(0,u.jsxs)("div",{className:"form-group mb-2",children:[(0,u.jsx)("label",{htmlFor:"postcode",className:"form-label",children:"Pincode"}),(0,u.jsx)("input",{type:"number",id:"postcode",className:"form-control ".concat(x.postcode?"errorInputField":""),required:!0,onChange:e=>O(e.target.value,"postcode"),value:null===S||void 0===S?void 0:S.postcode}),x.postcode&&(0,u.jsx)("div",{className:"error",children:"Please enter your pincode"})]}),(0,u.jsxs)("div",{className:"form-group mb-2",children:[(0,u.jsx)("label",{htmlFor:"phone",className:"form-label",children:"Phone"}),(0,u.jsx)("input",{type:"number",id:"phone",className:"form-control ".concat(x.phone?"errorInputField":""),required:!0,onChange:e=>O(e.target.value,"phone"),value:null===S||void 0===S?void 0:S.phone}),x.phone&&(0,u.jsx)("div",{className:"error",children:"Please enter valid phone number"})]}),(0,u.jsxs)("div",{className:"form-group mb-2",children:[(0,u.jsx)("label",{htmlFor:"email",className:"form-label",children:"Email Address"}),(0,u.jsx)("input",{type:"email",id:"email",className:"form-control ".concat(x.email?"errorInputField":""),required:!0,onChange:e=>O(e.target.value,"email"),value:null===S||void 0===S?void 0:S.email}),x.email&&(0,u.jsx)("div",{className:"error",children:x.message?"Please enter a valid email":"Please enter your email"})]}),(0,u.jsx)("button",{className:"btn btn-dark mt-5 mb-2",onClick:a=>(async a=>{try{a.preventDefault();const s=(0,l.C)(S);if(null==I.label?j({...s,city:!0}):j(s),s.city||s.firstName||s.lastName||s.email||s.country||s.phone||s.postcode||s.state||s.streetAddress||null==I.label)return;const t={method:"POST",body:{...S,selectedStateId:k,addressType:"billing-address"==e?"billing":"shipping"}};200==(await N.callApi("user/createEditAddresses",t)).status&&y("/my-account/addresses")}catch(x){console.error("Something went wrong")}})(a),children:"SAVE ADDRESS"})]})]});var Z,q,E}},26022:function(e,a,s){s.d(a,{C:function(){return l},H:function(){return t}});const t=e=>{const{firstName:a,lastName:s,email:t}=e;var l={firstName:!1,lastName:!1,email:!1,message:""};return a||(l.firstName=!0),s||(l.lastName=!0),t||(l.email=!0),t&&!/\S+@\S+\.\S+/.test(t)&&(l.email=!0,l.message="invalid email"),l},l=e=>{const{firstName:a,lastName:s,email:t,state:l,streetAddress:r,city:o,postcode:d,phone:n}=e;var i={firstName:!1,lastName:!1,email:!1,state:!1,streetAddress:!1,city:!1,postcode:!1,phone:!1,message:""};return a||(i.firstName=!0),s||(i.lastName=!0),t||(i.email=!0),t&&!/\S+@\S+\.\S+/.test(t)&&(i.email=!0,i.message="invalid email"),l||(i.state=!0),r||(i.streetAddress=!0),o||(i.city=!0),d||(i.postcode=!0),n||(i.phone=!0),n&&10!=n.length&&(i.phone=!0),i}}}]);
//# sourceMappingURL=2606.ddf45595.chunk.js.map